{"version":3,"file":"conversion.js","names":["Conversion","a","b","goalId","d","revenue","f","negative","_classCallCheck","_defineProperty","nonce","Utilities","getNonce","_createClass","key","get","UrlEventType","UrlParameter","GoalId","Revenue","Negative","Nonce","type","KameleoonData","exports"],"sources":["../../src/kameleoonData/conversion.ts"],"sourcesContent":["import { UrlEventType, UrlParameter } from 'src/requester';\nimport { Utilities } from 'src/utilities';\nimport {\n  ConversionDataType,\n  ConversionParametersType,\n  IKameleoonData,\n  KameleoonData,\n} from './types';\n\n/**\n * @class\n * Conversion - a class for creating an instance for conversion tracking\n * */\nexport class Conversion implements IKameleoonData {\n  private goalId: number;\n  private revenue: number;\n  private negative: boolean;\n  private nonce: string;\n\n  /**\n   * @param {ConversionParametersType} conversionParameters - an object with conversion parameters\n   * */\n  constructor({\n    goalId,\n    revenue = 0,\n    negative = false,\n  }: ConversionParametersType) {\n    this.goalId = goalId;\n    this.revenue = revenue;\n    this.negative = negative;\n    this.nonce = Utilities.getNonce();\n  }\n\n  /**\n   * @property url - url for the current data type used for events tracking\n   * */\n  get url(): string {\n    // --- Note ---\n    // If SDK is used in vanilla JS codebase, then you're also able to create an instance\n    // with no required data, we don't want send anything to tracking in that case\n    if (!this.goalId) {\n      return '';\n    }\n\n    return (\n      UrlEventType.Conversion +\n      UrlParameter.GoalId +\n      String(this.goalId) +\n      UrlParameter.Revenue +\n      String(this.revenue) +\n      UrlParameter.Negative +\n      String(this.negative) +\n      UrlParameter.Nonce +\n      this.nonce\n    );\n  }\n\n  /**\n   * @property data - data of the current class instance\n   * */\n  get data(): ConversionDataType {\n    return {\n      goalId: this.goalId,\n      revenue: this.revenue,\n      negative: this.negative,\n      type: KameleoonData.Conversion,\n      nonce: this.nonce,\n    };\n  }\n}\n"],"mappings":"26CASA;AACA;AACA;AACA,KAHA,GAIa,CAAAA,UAAU,yBAMrB;AACF;AACA,OACE,SAAAC,EAAAC,CAAA,CAI6B,IAH3B,CAAAC,CAAM,CAAAD,CAAA,CAANC,MAAM,CAAAC,CAAA,CAAAF,CAAA,CACNG,OAAO,CAAPA,CAAO,UAAAD,CAAA,CAAG,CAAC,CAAAA,CAAA,CAAAE,CAAA,CAAAJ,CAAA,CACXK,QAAQ,CAAAC,eAAA,MAAAP,CAAA,EAAAQ,eAAA,uBAAAA,eAAA,wBAAAA,eAAA,yBAAAA,eAAA,sBAER,IAAI,CAACN,MAAM,CAAGA,CAAM,CACpB,IAAI,CAACE,OAAO,CAAGA,CAAO,CACtB,IAAI,CAACE,QAAQ,UAAAD,CAAA,EAAAA,CAAW,CACxB,IAAI,CAACI,KAAK,CAAGC,oBAAS,CAACC,QAAQ,EACjC,CAEA;AACF;AACA,OAFE,OAAAC,YAAA,CAAAZ,CAAA,GAAAa,GAAA,OAAAC,GAAA,CAGA,SAAAA,IAAA,CAAkB,CAChB;AACA;AACA;AAAA,MACK,KAAI,CAACZ,MAAM,CAKda,uBAAY,CAAChB,UAAU,CACvBiB,uBAAY,CAACC,MAAM,EACZ,IAAI,CAACf,MAAM,IAAC,CACnBc,uBAAY,CAACE,OAAO,EACb,IAAI,CAACd,OAAO,IAAC,CACpBY,uBAAY,CAACG,QAAQ,EACd,IAAI,CAACb,QAAQ,IAAC,CACrBU,uBAAY,CAACI,KAAK,CAClB,IAAI,CAACX,KAAK,CAZH,EAcX,CAEA;AACF;AACA,OAFE,GAAAI,GAAA,QAAAC,GAAA,CAGA,SAAAA,IAAA,CAA+B,CAC7B,MAAO,CACLZ,MAAM,CAAE,IAAI,CAACA,MAAM,CACnBE,OAAO,CAAE,IAAI,CAACA,OAAO,CACrBE,QAAQ,CAAE,IAAI,CAACA,QAAQ,CACvBe,IAAI,CAAEC,oBAAa,CAACvB,UAAU,CAC9BU,KAAK,CAAE,IAAI,CAACA,KACd,CACF,CAAC,IAAAT,CAAA,IAAAuB,OAAA,CAAAxB,UAAA,CAAAA,UAAA"}