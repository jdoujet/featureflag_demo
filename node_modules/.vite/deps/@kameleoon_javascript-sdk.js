var __getOwnPropNames = Object.getOwnPropertyNames;
var __require = /* @__PURE__ */ ((x) => typeof require !== "undefined" ? require : typeof Proxy !== "undefined" ? new Proxy(x, {
  get: (a, b) => (typeof require !== "undefined" ? require : a)[b]
}) : x)(function(x) {
  if (typeof require !== "undefined")
    return require.apply(this, arguments);
  throw Error('Dynamic require of "' + x + '" is not supported');
});
var __commonJS = (cb, mod) => function __require2() {
  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
};

// node_modules/ts-res/build/main.js
var require_main = __commonJS({
  "node_modules/ts-res/build/main.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Err = exports.Ok = void 0;
    function throwErr(message) {
      if (!this.ok) {
        if (typeof this.error === "string" || typeof this.error === "undefined") {
          const defaultMessage = "There was an error! No specific error message was provided.";
          throw new Error(message || this.error || defaultMessage);
        }
        if (message) {
          this.error.message = message;
        }
        throw this.error;
      }
      return this.data;
    }
    function elseDo(callback) {
      if (this.ok) {
        return this.data;
      }
      return callback(this.error);
    }
    function or(orValue) {
      if (this.ok) {
        return this.data;
      }
      return orValue;
    }
    function and(callback) {
      if (this.ok) {
        callback(this.data);
      }
    }
    function Ok(data) {
      return { ok: true, data, throw: throwErr, else: elseDo, or, and };
    }
    exports.Ok = Ok;
    function Err(error) {
      return { ok: false, error, throw: throwErr, else: elseDo, or, and };
    }
    exports.Err = Err;
  }
});

// node_modules/ts-res/build/index.js
var require_build = __commonJS({
  "node_modules/ts-res/build/index.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Err = exports.Ok = void 0;
    var main_1 = require_main();
    Object.defineProperty(exports, "Ok", { enumerable: true, get: function() {
      return main_1.Ok;
    } });
    Object.defineProperty(exports, "Err", { enumerable: true, get: function() {
      return main_1.Err;
    } });
  }
});

// node_modules/@kameleoon/javascript-sdk-core/dist/types.js
var require_types = __commonJS({
  "node_modules/@kameleoon/javascript-sdk-core/dist/types.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true }), exports.VariableType = exports.Milliseconds = exports.Environment = void 0;
    var Environment = function(a) {
      return a.Production = "production", a.Staging = "staging", a.Development = "development", a;
    }({});
    exports.Environment = Environment;
    var VariableType = function(a) {
      return a.BOOLEAN = "BOOLEAN", a.NUMBER = "NUMBER", a.STRING = "STRING", a.JSON = "JSON", a;
    }({});
    exports.VariableType = VariableType;
    var Milliseconds = function(a) {
      return a[a.Second = 1e3] = "Second", a[a.Minute = 60 * a.Second] = "Minute", a[a.Hour = 60 * a.Minute] = "Hour", a;
    }({});
    exports.Milliseconds = Milliseconds;
  }
});

// node_modules/@kameleoon/javascript-sdk-core/dist/cacheManager/cacheManager.js
var require_cacheManager = __commonJS({
  "node_modules/@kameleoon/javascript-sdk-core/dist/cacheManager/cacheManager.js"(exports) {
    "use strict";
    var _types = require_types();
    Object.defineProperty(exports, "__esModule", { value: true }), exports.CacheManager = void 0;
    function _typeof(a) {
      "@babel/helpers - typeof";
      return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(a2) {
        return typeof a2;
      } : function(a2) {
        return a2 && "function" == typeof Symbol && a2.constructor === Symbol && a2 !== Symbol.prototype ? "symbol" : typeof a2;
      }, _typeof(a);
    }
    function _slicedToArray(a, b) {
      return _arrayWithHoles(a) || _iterableToArrayLimit(a, b) || _unsupportedIterableToArray(a, b) || _nonIterableRest();
    }
    function _nonIterableRest() {
      throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
    }
    function _iterableToArrayLimit(a, b) {
      var c = null == a ? null : "undefined" != typeof Symbol && a[Symbol.iterator] || a["@@iterator"];
      if (null != c) {
        var d, e, f, g, h = [], i = true, j = false;
        try {
          if (f = (c = c.call(a)).next, 0 === b) {
            if (Object(c) !== c)
              return;
            i = false;
          } else
            for (; !(i = (d = f.call(c)).done) && (h.push(d.value), h.length !== b); i = true)
              ;
        } catch (a2) {
          j = true, e = a2;
        } finally {
          try {
            if (!i && null != c.return && (g = c.return(), Object(g) !== g))
              return;
          } finally {
            if (j)
              throw e;
          }
        }
        return h;
      }
    }
    function _arrayWithHoles(a) {
      if (Array.isArray(a))
        return a;
    }
    function _createForOfIteratorHelper(a, b) {
      var c = "undefined" != typeof Symbol && a[Symbol.iterator] || a["@@iterator"];
      if (!c) {
        if (Array.isArray(a) || (c = _unsupportedIterableToArray(a)) || b && a && "number" == typeof a.length) {
          c && (a = c);
          var d = 0, e = function() {
          };
          return { s: e, n: function n() {
            return d >= a.length ? { done: true } : { done: false, value: a[d++] };
          }, e: function e2(a2) {
            throw a2;
          }, f: e };
        }
        throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
      }
      var f, g = true, h = false;
      return { s: function s() {
        c = c.call(a);
      }, n: function n() {
        var a2 = c.next();
        return g = a2.done, a2;
      }, e: function e2(a2) {
        h = true, f = a2;
      }, f: function f2() {
        try {
          g || null == c.return || c.return();
        } finally {
          if (h)
            throw f2;
        }
      } };
    }
    function _unsupportedIterableToArray(a, b) {
      if (a) {
        if ("string" == typeof a)
          return _arrayLikeToArray(a, b);
        var c = Object.prototype.toString.call(a).slice(8, -1);
        return "Object" === c && a.constructor && (c = a.constructor.name), "Map" === c || "Set" === c ? Array.from(a) : "Arguments" === c || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c) ? _arrayLikeToArray(a, b) : void 0;
      }
    }
    function _arrayLikeToArray(a, b) {
      (null == b || b > a.length) && (b = a.length);
      for (var c = 0, d = Array(b); c < b; c++)
        d[c] = a[c];
      return d;
    }
    function _classCallCheck(a, b) {
      if (!(a instanceof b))
        throw new TypeError("Cannot call a class as a function");
    }
    function _defineProperties(a, b) {
      for (var c, d = 0; d < b.length; d++)
        c = b[d], c.enumerable = c.enumerable || false, c.configurable = true, "value" in c && (c.writable = true), Object.defineProperty(a, _toPropertyKey(c.key), c);
    }
    function _createClass(a, b, c) {
      return b && _defineProperties(a.prototype, b), c && _defineProperties(a, c), Object.defineProperty(a, "prototype", { writable: false }), a;
    }
    function _defineProperty(a, b, c) {
      return b = _toPropertyKey(b), b in a ? Object.defineProperty(a, b, { value: c, enumerable: true, configurable: true, writable: true }) : a[b] = c, a;
    }
    function _toPropertyKey(a) {
      var b = _toPrimitive(a, "string");
      return "symbol" === _typeof(b) ? b : b + "";
    }
    function _toPrimitive(a, b) {
      if ("object" !== _typeof(a) || null === a)
        return a;
      var c = a[Symbol.toPrimitive];
      if (c !== void 0) {
        var d = c.call(a, b || "default");
        if ("object" !== _typeof(d))
          return d;
        throw new TypeError("@@toPrimitive must return a primitive value.");
      }
      return ("string" === b ? String : Number)(a);
    }
    var CacheManager = function() {
      function a(b) {
        _classCallCheck(this, a), _defineProperty(this, "cacheMap", /* @__PURE__ */ new Map()), _defineProperty(this, "intervalId", null), _defineProperty(this, "cleanupTimeout", void 0), this.cleanupTimeout = b * _types.Milliseconds.Second;
      }
      return _createClass(a, [{ key: "add", value: function add(a2) {
        var b = a2.key, c = a2.data, d = a2.lifetime;
        null === this.intervalId && this.activate();
        var e = d * _types.Milliseconds.Second, f = { data: c, expirationTime: Date.now() + e };
        this.cacheMap.set(b, f);
      } }, { key: "getAliveItem", value: function getAliveItem(a2) {
        var b = this.cacheMap.get(a2);
        return b && b.expirationTime >= Date.now() ? b.data : (b && this.cacheMap.delete(a2), null);
      } }, { key: "activate", value: function activate() {
        var a2 = this;
        this.intervalId = setInterval(function() {
          var b, c = Date.now(), d = _createForOfIteratorHelper(a2.cacheMap);
          try {
            for (d.s(); !(b = d.n()).done; ) {
              var e = _slicedToArray(b.value, 2), f = e[0], g = e[1];
              g.expirationTime < c && a2.cacheMap.delete(f);
            }
          } catch (a3) {
            d.e(a3);
          } finally {
            d.f();
          }
          a2.cacheMap.size || a2.cleanupInterval();
        }, this.cleanupTimeout);
      } }, { key: "cleanupInterval", value: function cleanupInterval() {
        this.intervalId && (clearInterval(this.intervalId), this.intervalId = null);
      } }]), a;
    }();
    exports.CacheManager = CacheManager;
  }
});

// node_modules/@kameleoon/javascript-sdk-core/dist/cacheManager/types.js
var require_types2 = __commonJS({
  "node_modules/@kameleoon/javascript-sdk-core/dist/cacheManager/types.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
  }
});

// node_modules/@kameleoon/javascript-sdk-core/dist/cacheManager/index.js
var require_cacheManager2 = __commonJS({
  "node_modules/@kameleoon/javascript-sdk-core/dist/cacheManager/index.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true }), Object.defineProperty(exports, "AddParametersType", { enumerable: true, get: function get() {
      return _types.AddParametersType;
    } }), Object.defineProperty(exports, "CacheManager", { enumerable: true, get: function get() {
      return _cacheManager.CacheManager;
    } });
    var _cacheManager = require_cacheManager();
    var _types = require_types2();
  }
});

// node_modules/@kameleoon/javascript-sdk-core/dist/campaignConfiguration/types.js
var require_types3 = __commonJS({
  "node_modules/@kameleoon/javascript-sdk-core/dist/campaignConfiguration/types.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true }), exports.UpdateType = exports.RuleType = exports.FeatureStatus = exports.FeatureFlagSdkLanguageType = exports.ExperimentType = exports.ExperimentStatus = exports.CustomDataScope = void 0;
    var UpdateType = function(a) {
      return a[a.Polling = 0] = "Polling", a[a.RealTime = 1] = "RealTime", a[a.Idle = 2] = "Idle", a;
    }({});
    exports.UpdateType = UpdateType;
    var ExperimentType = function(a) {
      return a.CLASSIC = "CLASSIC", a.SERVER_SIDE = "SERVER_SIDE", a.DEVELOPER = "DEVELOPER", a.MVT = "MVT", a.HYBRID = "HYBRID", a;
    }({});
    exports.ExperimentType = ExperimentType;
    var RuleType = function(a) {
      return a.PROGRESSIVE_DELIVERY = "PROGRESSIVE_DELIVERY", a.TARGETED_DELIVERY = "TARGETED_DELIVERY", a.EXPERIMENTATION = "EXPERIMENTATION", a;
    }({});
    exports.RuleType = RuleType;
    var FeatureFlagSdkLanguageType = function(a) {
      return a.ANDROID = "ANDROID", a.SWIFT = "SWIFT", a.JAVA = "JAVA", a.CSHARP = "CSHARP", a.NODEJS = "NODEJS", a.PHP = "PHP", a.RUBY = "RUBY", a.GO = "GO", a.FLUTTER = "FLUTTER", a.REACTJS = "REACTJS", a;
    }({});
    exports.FeatureFlagSdkLanguageType = FeatureFlagSdkLanguageType;
    var FeatureStatus = function(a) {
      return a.ACTIVATED = "ACTIVATED", a.DEACTIVATED = "DEACTIVATED", a.SCHEDULED = "SCHEDULED", a;
    }({});
    exports.FeatureStatus = FeatureStatus;
    var CustomDataScope = function(a) {
      return a.Visit = "VISIT", a.Visitor = "VISITOR", a.Page = "Page", a;
    }({});
    exports.CustomDataScope = CustomDataScope;
    var ExperimentStatus = function(a) {
      return a.DRAFT = "DRAFT", a.ACTIVE = "ACTIVE", a.PAUSED = "PAUSED", a.SCHEDULED = "SCHEDULED", a.STOPPED = "STOPPED", a.USED_AS_PERSONALIZATION = "USED_AS_PERSONALIZATION", a.DEVIATED = "DEVIATED", a;
    }({});
    exports.ExperimentStatus = ExperimentStatus;
  }
});

// node_modules/@kameleoon/javascript-sdk-core/dist/kameleoonError/types.js
var require_types4 = __commonJS({
  "node_modules/@kameleoon/javascript-sdk-core/dist/kameleoonError/types.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true }), exports.KameleoonException = void 0;
    var KameleoonException = function(a) {
      return a.ExperimentConfigurationNotFound = "ExperimentConfigurationNotFound", a.EventSourceInitialization = "EventSourceInitialization", a.VariationNotFound = "VariationNotFound", a.FeatureFlagConfigurationNotFound = "FeatureFlagConfigurationNotFound", a.FeatureFlagVariableNotFound = "FeatureFlagVariableNotFound", a.NotTargeted = "NotTargeted", a.NotAllocated = "NotAllocated", a.VisitorCodeMaxLength = "VisitorCodeMaxLength", a.VisitorCodeEmpty = "VisitorCodeEmpty", a.StorageInitialization = "StorageInitialization", a.StorageWrite = "StorageWrite", a.StorageRead = "StorageRead", a.StorageParse = "StorageParse", a.ClientConfiguration = "ClientConfiguration", a.TargetingCondition = "TargetingCondition", a.AmongValuesCheck = "AmongValuesCheck", a.Initialization = "Initialization", a.JSONParse = "JSONParse", a.NumberParse = "NumberParse", a.VersionParse = "VersionParse", a.SemanticVersionParse = "SemanticVersionParse", a.RemoteData = "RemoteData", a.MaximumRetriesReached = "MaximumRetriesReached", a;
    }({});
    exports.KameleoonException = KameleoonException;
  }
});

// node_modules/@kameleoon/javascript-sdk-core/dist/kameleoonError/constants.js
var require_constants = __commonJS({
  "node_modules/@kameleoon/javascript-sdk-core/dist/kameleoonError/constants.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true }), exports.ERROR_MESSAGES = void 0;
    var _ERROR_MESSAGES;
    var _types = require_types4();
    function _typeof(a) {
      "@babel/helpers - typeof";
      return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(a2) {
        return typeof a2;
      } : function(a2) {
        return a2 && "function" == typeof Symbol && a2.constructor === Symbol && a2 !== Symbol.prototype ? "symbol" : typeof a2;
      }, _typeof(a);
    }
    function _defineProperty(a, b, c) {
      return b = _toPropertyKey(b), b in a ? Object.defineProperty(a, b, { value: c, enumerable: true, configurable: true, writable: true }) : a[b] = c, a;
    }
    function _toPropertyKey(a) {
      var b = _toPrimitive(a, "string");
      return "symbol" === _typeof(b) ? b : b + "";
    }
    function _toPrimitive(a, b) {
      if ("object" !== _typeof(a) || null === a)
        return a;
      var c = a[Symbol.toPrimitive];
      if (c !== void 0) {
        var d = c.call(a, b || "default");
        if ("object" !== _typeof(d))
          return d;
        throw new TypeError("@@toPrimitive must return a primitive value.");
      }
      return ("string" === b ? String : Number)(a);
    }
    var ERROR_MESSAGES = (_ERROR_MESSAGES = {}, _defineProperty(_ERROR_MESSAGES, _types.KameleoonException.JSONParse, function(a) {
      return "Couldn't parse JSON variable: ".concat(a);
    }), _defineProperty(_ERROR_MESSAGES, _types.KameleoonException.NumberParse, function(a) {
      return "It's not possible to parse value ".concat(a, " to Number");
    }), _defineProperty(_ERROR_MESSAGES, _types.KameleoonException.VersionParse, function(a) {
      return "It's not possible to parse a version value ".concat(a, " to Number, version should be in format x.x");
    }), _defineProperty(_ERROR_MESSAGES, _types.KameleoonException.SemanticVersionParse, function(a) {
      return "It's not possible to parse a version value ".concat(a, " to Number, version should be in format x.x.x");
    }), _defineProperty(_ERROR_MESSAGES, _types.KameleoonException.Initialization, function() {
      return "It seems that the client wasn't properly initialized, make sure to run `initialize` method before invoking other methods";
    }), _defineProperty(_ERROR_MESSAGES, _types.KameleoonException.StorageInitialization, function() {
      return "There was an error while initializing React Native SDK storage, it seems that the storage library dependency wasn't installed";
    }), _defineProperty(_ERROR_MESSAGES, _types.KameleoonException.EventSourceInitialization, function() {
      return "There was an error while initializing Real Time Update service, it seems that the event source library dependency wasn't installed";
    }), _defineProperty(_ERROR_MESSAGES, _types.KameleoonException.VariationNotFound, function() {
      return "Couldn't find experiment variation";
    }), _defineProperty(_ERROR_MESSAGES, _types.KameleoonException.FeatureFlagConfigurationNotFound, function(a, b) {
      return "No feature flag with key ".concat(a, " was found for ").concat(b, " visitorCode.");
    }), _defineProperty(_ERROR_MESSAGES, _types.KameleoonException.FeatureFlagVariableNotFound, function(a, b) {
      return "No feature flag variable with key ".concat(a, " was found for ").concat(b, " visitorCode.");
    }), _defineProperty(_ERROR_MESSAGES, _types.KameleoonException.ExperimentConfigurationNotFound, function(a, b) {
      return "No experiment with id ".concat(a, " was found for ").concat(b, " visitorCode.");
    }), _defineProperty(_ERROR_MESSAGES, _types.KameleoonException.NotTargeted, function(a) {
      return "Visitor code ".concat(a, " is not targeted");
    }), _defineProperty(_ERROR_MESSAGES, _types.KameleoonException.NotAllocated, function(a) {
      return "Visitor with visitor code ".concat(a, " is in unallocated traffic, there is no variation id to be assigned to the visitor.");
    }), _defineProperty(_ERROR_MESSAGES, _types.KameleoonException.VisitorCodeMaxLength, function() {
      return "Visitor code can not be more than 255 characters long";
    }), _defineProperty(_ERROR_MESSAGES, _types.KameleoonException.VisitorCodeEmpty, function() {
      return "Visitor code can not be empty";
    }), _defineProperty(_ERROR_MESSAGES, _types.KameleoonException.StorageWrite, function(a) {
      return "Couldn't update storage for kameleoonClient: ".concat(a);
    }), _defineProperty(_ERROR_MESSAGES, _types.KameleoonException.StorageRead, function(a) {
      return "No data found in storage under ".concat(a, " key");
    }), _defineProperty(_ERROR_MESSAGES, _types.KameleoonException.StorageParse, function(a, b) {
      return "Couldn't parse ".concat(b, " storage data, the data may be corrupted. Error: ").concat(a);
    }), _defineProperty(_ERROR_MESSAGES, _types.KameleoonException.ClientConfiguration, function() {
      return "Couldn't retrieve client configuration from Kameleoon Api";
    }), _defineProperty(_ERROR_MESSAGES, _types.KameleoonException.TargetingCondition, function(a) {
      return "".concat(a, " targeting condition is not yet supported.");
    }), _defineProperty(_ERROR_MESSAGES, _types.KameleoonException.AmongValuesCheck, function(a, b) {
      return `Couldn't parse value "`.concat(b, '": ').concat(a);
    }), _defineProperty(_ERROR_MESSAGES, _types.KameleoonException.RemoteData, function() {
      return "Couldn't retrieve data from Kameleoon server";
    }), _defineProperty(_ERROR_MESSAGES, _types.KameleoonException.MaximumRetriesReached, function() {
      return "Maximum retries reached, request failed";
    }), _ERROR_MESSAGES);
    exports.ERROR_MESSAGES = ERROR_MESSAGES;
  }
});

// node_modules/@kameleoon/javascript-sdk-core/dist/kameleoonError/helpers.js
var require_helpers = __commonJS({
  "node_modules/@kameleoon/javascript-sdk-core/dist/kameleoonError/helpers.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true }), exports.exhaustCheck = exhaustCheck;
    function exhaustCheck(a) {
      throw new Error("Reaching an impossible state because of ".concat(a));
    }
  }
});

// node_modules/@kameleoon/javascript-sdk-core/dist/kameleoonError/kameleoonError.js
var require_kameleoonError = __commonJS({
  "node_modules/@kameleoon/javascript-sdk-core/dist/kameleoonError/kameleoonError.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true }), exports.KameleoonError = void 0;
    var _constants = require_constants();
    var _helpers = require_helpers();
    var _types = require_types4();
    function _typeof(a) {
      "@babel/helpers - typeof";
      return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(a2) {
        return typeof a2;
      } : function(a2) {
        return a2 && "function" == typeof Symbol && a2.constructor === Symbol && a2 !== Symbol.prototype ? "symbol" : typeof a2;
      }, _typeof(a);
    }
    function _classCallCheck(a, b) {
      if (!(a instanceof b))
        throw new TypeError("Cannot call a class as a function");
    }
    function _defineProperties(a, b) {
      for (var c, d = 0; d < b.length; d++)
        c = b[d], c.enumerable = c.enumerable || false, c.configurable = true, "value" in c && (c.writable = true), Object.defineProperty(a, _toPropertyKey(c.key), c);
    }
    function _createClass(a, b, c) {
      return b && _defineProperties(a.prototype, b), c && _defineProperties(a, c), Object.defineProperty(a, "prototype", { writable: false }), a;
    }
    function _inherits(a, b) {
      if ("function" != typeof b && null !== b)
        throw new TypeError("Super expression must either be null or a function");
      a.prototype = Object.create(b && b.prototype, { constructor: { value: a, writable: true, configurable: true } }), Object.defineProperty(a, "prototype", { writable: false }), b && _setPrototypeOf(a, b);
    }
    function _createSuper(a) {
      var b = _isNativeReflectConstruct();
      return function() {
        var c, d = _getPrototypeOf(a);
        if (b) {
          var e = _getPrototypeOf(this).constructor;
          c = Reflect.construct(d, arguments, e);
        } else
          c = d.apply(this, arguments);
        return _possibleConstructorReturn(this, c);
      };
    }
    function _possibleConstructorReturn(a, b) {
      if (b && ("object" === _typeof(b) || "function" == typeof b))
        return b;
      if (void 0 !== b)
        throw new TypeError("Derived constructors may only return object or undefined");
      return _assertThisInitialized(a);
    }
    function _assertThisInitialized(a) {
      if (void 0 === a)
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      return a;
    }
    function _wrapNativeSuper(a) {
      var b = "function" == typeof Map ? /* @__PURE__ */ new Map() : void 0;
      return _wrapNativeSuper = function(a2) {
        function c() {
          return _construct(a2, arguments, _getPrototypeOf(this).constructor);
        }
        if (null === a2 || !_isNativeFunction(a2))
          return a2;
        if ("function" != typeof a2)
          throw new TypeError("Super expression must either be null or a function");
        if ("undefined" != typeof b) {
          if (b.has(a2))
            return b.get(a2);
          b.set(a2, c);
        }
        return c.prototype = Object.create(a2.prototype, { constructor: { value: c, enumerable: false, writable: true, configurable: true } }), _setPrototypeOf(c, a2);
      }, _wrapNativeSuper(a);
    }
    function _construct() {
      return _construct = _isNativeReflectConstruct() ? Reflect.construct.bind() : function(b, c, d) {
        var e = [null];
        e.push.apply(e, c);
        var a = Function.bind.apply(b, e), f = new a();
        return d && _setPrototypeOf(f, d.prototype), f;
      }, _construct.apply(null, arguments);
    }
    function _isNativeReflectConstruct() {
      if ("undefined" == typeof Reflect || !Reflect.construct)
        return false;
      if (Reflect.construct.sham)
        return false;
      if ("function" == typeof Proxy)
        return true;
      try {
        return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
        })), true;
      } catch (a) {
        return false;
      }
    }
    function _isNativeFunction(a) {
      return -1 !== Function.toString.call(a).indexOf("[native code]");
    }
    function _setPrototypeOf(a, b) {
      return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(a2, b2) {
        return a2.__proto__ = b2, a2;
      }, _setPrototypeOf(a, b);
    }
    function _getPrototypeOf(a) {
      return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(a2) {
        return a2.__proto__ || Object.getPrototypeOf(a2);
      }, _getPrototypeOf(a);
    }
    function _defineProperty(a, b, c) {
      return b = _toPropertyKey(b), b in a ? Object.defineProperty(a, b, { value: c, enumerable: true, configurable: true, writable: true }) : a[b] = c, a;
    }
    function _toPropertyKey(a) {
      var b = _toPrimitive(a, "string");
      return "symbol" === _typeof(b) ? b : b + "";
    }
    function _toPrimitive(a, b) {
      if ("object" !== _typeof(a) || null === a)
        return a;
      var c = a[Symbol.toPrimitive];
      if (c !== void 0) {
        var d = c.call(a, b || "default");
        if ("object" !== _typeof(d))
          return d;
        throw new TypeError("@@toPrimitive must return a primitive value.");
      }
      return ("string" === b ? String : Number)(a);
    }
    var KameleoonError = function(a) {
      function b(a2, d, e) {
        var f;
        return _classCallCheck(this, b), f = c.call(this, "Error: ".concat(a2)), _defineProperty(_assertThisInitialized(f), "errorType", void 0), f.name = "KameleoonError", f.errorType = a2, a2 === _types.KameleoonException.Initialization || a2 === _types.KameleoonException.ClientConfiguration || a2 === _types.KameleoonException.VisitorCodeMaxLength || a2 === _types.KameleoonException.VisitorCodeEmpty || a2 === _types.KameleoonException.StorageInitialization || a2 === _types.KameleoonException.VariationNotFound || a2 === _types.KameleoonException.EventSourceInitialization || a2 === _types.KameleoonException.RemoteData || a2 === _types.KameleoonException.MaximumRetriesReached ? f.message = _constants.ERROR_MESSAGES[a2]() : a2 === _types.KameleoonException.NotAllocated || a2 === _types.KameleoonException.NotTargeted ? f.message = _constants.ERROR_MESSAGES[a2](d) : a2 === _types.KameleoonException.ExperimentConfigurationNotFound ? f.message = _constants.ERROR_MESSAGES[a2](d, e) : a2 === _types.KameleoonException.FeatureFlagVariableNotFound || a2 === _types.KameleoonException.FeatureFlagConfigurationNotFound ? f.message = _constants.ERROR_MESSAGES[a2](d, e) : a2 === _types.KameleoonException.StorageWrite || a2 === _types.KameleoonException.JSONParse ? f.message = _constants.ERROR_MESSAGES[a2](d) : a2 === _types.KameleoonException.StorageRead ? f.message = _constants.ERROR_MESSAGES[a2](d) : a2 === _types.KameleoonException.StorageParse ? f.message = _constants.ERROR_MESSAGES[a2](d, e) : a2 === _types.KameleoonException.TargetingCondition ? f.message = _constants.ERROR_MESSAGES[a2](d) : a2 === _types.KameleoonException.NumberParse || a2 === _types.KameleoonException.VersionParse || a2 === _types.KameleoonException.SemanticVersionParse ? f.message = _constants.ERROR_MESSAGES[a2](d) : a2 === _types.KameleoonException.AmongValuesCheck ? f.message = _constants.ERROR_MESSAGES[a2](d, e) : (0, _helpers.exhaustCheck)(a2), f;
      }
      _inherits(b, a);
      var c = _createSuper(b);
      return _createClass(b, [{ key: "type", get: function get() {
        return this.errorType;
      } }]), b;
    }(_wrapNativeSuper(Error));
    exports.KameleoonError = KameleoonError;
  }
});

// node_modules/@kameleoon/javascript-sdk-core/dist/kameleoonError/index.js
var require_kameleoonError2 = __commonJS({
  "node_modules/@kameleoon/javascript-sdk-core/dist/kameleoonError/index.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true }), Object.defineProperty(exports, "KameleoonError", { enumerable: true, get: function get() {
      return _kameleoonError.KameleoonError;
    } }), Object.defineProperty(exports, "KameleoonException", { enumerable: true, get: function get() {
      return _types.KameleoonException;
    } }), Object.defineProperty(exports, "exhaustCheck", { enumerable: true, get: function get() {
      return _helpers.exhaustCheck;
    } });
    var _kameleoonError = require_kameleoonError();
    var _types = require_types4();
    var _helpers = require_helpers();
  }
});

// node_modules/@kameleoon/javascript-sdk-core/dist/constants.js
var require_constants2 = __commonJS({
  "node_modules/@kameleoon/javascript-sdk-core/dist/constants.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true }), exports.VISITOR_CODE_LENGTH = exports.UNALLOCATED_VARIATION_ID = exports.SdkLanguageType = exports.OFF_VARIATION_KEY = exports.KAMELEOON_COOKIE_KEY = exports.Cookie = exports.CACHE_ITEM_LIFETIME = exports.CACHE_CLEANUP_TIMEOUT = void 0;
    exports.UNALLOCATED_VARIATION_ID = 0;
    exports.OFF_VARIATION_KEY = "off";
    exports.KAMELEOON_COOKIE_KEY = "kameleoonVisitorCode";
    exports.VISITOR_CODE_LENGTH = 16;
    exports.CACHE_CLEANUP_TIMEOUT = 10;
    exports.CACHE_ITEM_LIFETIME = 5;
    var Cookie = function(a) {
      return a.PairsDelimiter = "; ", a.KeyValueDelimiter = "=", a.MaxAge = "Max-Age", a.Path = "Path", a.Domain = "Domain", a;
    }({});
    exports.Cookie = Cookie;
    var SdkLanguageType = function(a) {
      return a.ANDROID = "ANDROID", a.IOS = "IOS", a.JAVA = "JAVA", a.CSHARP = "CSHARP", a.NODEJS = "NODEJS", a.PHP = "PHP", a.RUBY = "RUBY", a.GO = "GO", a.FLUTTER = "FLUTTER", a.REACT = "REACT", a.PYTHON = "PYTHON", a.JAVASCRIPT = "JAVASCRIPT", a.RUST = "RUST", a;
    }({});
    exports.SdkLanguageType = SdkLanguageType;
  }
});

// node_modules/@kameleoon/javascript-sdk-core/dist/utilities/constants.js
var require_constants3 = __commonJS({
  "node_modules/@kameleoon/javascript-sdk-core/dist/utilities/constants.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true }), exports.VISITOR_CODE_MAX_LENGTH = exports.HEX_CHARACTERS = void 0;
    exports.VISITOR_CODE_MAX_LENGTH = 255;
    exports.HEX_CHARACTERS = "0123456789ABCDEF";
  }
});

// node_modules/@kameleoon/javascript-sdk-core/dist/utilities/utilities.js
var require_utilities = __commonJS({
  "node_modules/@kameleoon/javascript-sdk-core/dist/utilities/utilities.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true }), exports.Utilities = void 0;
    var _tsRes = require_build();
    var _kameleoonError = require_kameleoonError2();
    var _types = require_types();
    var _kameleoonData = require_kameleoonData();
    var _constants = require_constants2();
    var _constants2 = require_constants3();
    var _excluded = ["timestamp", "isExperiment"];
    function _typeof(a) {
      "@babel/helpers - typeof";
      return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(a2) {
        return typeof a2;
      } : function(a2) {
        return a2 && "function" == typeof Symbol && a2.constructor === Symbol && a2 !== Symbol.prototype ? "symbol" : typeof a2;
      }, _typeof(a);
    }
    function _objectWithoutProperties(a, b) {
      if (null == a)
        return {};
      var c, d, e = _objectWithoutPropertiesLoose(a, b);
      if (Object.getOwnPropertySymbols) {
        var f = Object.getOwnPropertySymbols(a);
        for (d = 0; d < f.length; d++)
          c = f[d], 0 <= b.indexOf(c) || Object.prototype.propertyIsEnumerable.call(a, c) && (e[c] = a[c]);
      }
      return e;
    }
    function _objectWithoutPropertiesLoose(a, b) {
      if (null == a)
        return {};
      var c, d, e = {}, f = Object.keys(a);
      for (d = 0; d < f.length; d++)
        c = f[d], 0 <= b.indexOf(c) || (e[c] = a[c]);
      return e;
    }
    function ownKeys(a, b) {
      var c = Object.keys(a);
      if (Object.getOwnPropertySymbols) {
        var d = Object.getOwnPropertySymbols(a);
        b && (d = d.filter(function(b2) {
          return Object.getOwnPropertyDescriptor(a, b2).enumerable;
        })), c.push.apply(c, d);
      }
      return c;
    }
    function _objectSpread(a) {
      for (var b, c = 1; c < arguments.length; c++)
        b = null == arguments[c] ? {} : arguments[c], c % 2 ? ownKeys(Object(b), true).forEach(function(c2) {
          _defineProperty(a, c2, b[c2]);
        }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(a, Object.getOwnPropertyDescriptors(b)) : ownKeys(Object(b)).forEach(function(c2) {
          Object.defineProperty(a, c2, Object.getOwnPropertyDescriptor(b, c2));
        });
      return a;
    }
    function _defineProperty(a, b, c) {
      return b = _toPropertyKey(b), b in a ? Object.defineProperty(a, b, { value: c, enumerable: true, configurable: true, writable: true }) : a[b] = c, a;
    }
    function _slicedToArray(a, b) {
      return _arrayWithHoles(a) || _iterableToArrayLimit(a, b) || _unsupportedIterableToArray(a, b) || _nonIterableRest();
    }
    function _nonIterableRest() {
      throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
    }
    function _iterableToArrayLimit(a, b) {
      var c = null == a ? null : "undefined" != typeof Symbol && a[Symbol.iterator] || a["@@iterator"];
      if (null != c) {
        var d, e, f, g, h = [], i = true, j = false;
        try {
          if (f = (c = c.call(a)).next, 0 === b) {
            if (Object(c) !== c)
              return;
            i = false;
          } else
            for (; !(i = (d = f.call(c)).done) && (h.push(d.value), h.length !== b); i = true)
              ;
        } catch (a2) {
          j = true, e = a2;
        } finally {
          try {
            if (!i && null != c.return && (g = c.return(), Object(g) !== g))
              return;
          } finally {
            if (j)
              throw e;
          }
        }
        return h;
      }
    }
    function _arrayWithHoles(a) {
      if (Array.isArray(a))
        return a;
    }
    function _construct() {
      return _construct = _isNativeReflectConstruct() ? Reflect.construct.bind() : function(b, c, d) {
        var e = [null];
        e.push.apply(e, c);
        var a = Function.bind.apply(b, e), f = new a();
        return d && _setPrototypeOf(f, d.prototype), f;
      }, _construct.apply(null, arguments);
    }
    function _isNativeReflectConstruct() {
      if ("undefined" == typeof Reflect || !Reflect.construct)
        return false;
      if (Reflect.construct.sham)
        return false;
      if ("function" == typeof Proxy)
        return true;
      try {
        return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
        })), true;
      } catch (a) {
        return false;
      }
    }
    function _setPrototypeOf(a, b) {
      return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(a2, b2) {
        return a2.__proto__ = b2, a2;
      }, _setPrototypeOf(a, b);
    }
    function _toConsumableArray(a) {
      return _arrayWithoutHoles(a) || _iterableToArray(a) || _unsupportedIterableToArray(a) || _nonIterableSpread();
    }
    function _nonIterableSpread() {
      throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
    }
    function _iterableToArray(a) {
      if ("undefined" != typeof Symbol && null != a[Symbol.iterator] || null != a["@@iterator"])
        return Array.from(a);
    }
    function _arrayWithoutHoles(a) {
      if (Array.isArray(a))
        return _arrayLikeToArray(a);
    }
    function _regeneratorRuntime() {
      "use strict";
      function a(a2, b2, c2) {
        return Object.defineProperty(a2, b2, { value: c2, enumerable: true, configurable: true, writable: true }), a2[b2];
      }
      function b(a2, b2, c2, e2) {
        var f2 = b2 && b2.prototype instanceof d ? b2 : d, g2 = Object.create(f2.prototype), h2 = new m(e2 || []);
        return s(g2, "_invoke", { value: i(a2, c2, h2) }), g2;
      }
      function c(a2, b2, c2) {
        try {
          return { type: "normal", arg: a2.call(b2, c2) };
        } catch (a3) {
          return { type: "throw", arg: a3 };
        }
      }
      function d() {
      }
      function e() {
      }
      function f() {
      }
      function g(b2) {
        ["next", "throw", "return"].forEach(function(c2) {
          a(b2, c2, function(a2) {
            return this._invoke(c2, a2);
          });
        });
      }
      function h(a2, b2) {
        function d2(e3, f2, g2, h2) {
          var i2 = c(a2[e3], a2, f2);
          if ("throw" !== i2.type) {
            var j2 = i2.arg, k2 = j2.value;
            return k2 && "object" == _typeof(k2) && r.call(k2, "__await") ? b2.resolve(k2.__await).then(function(a3) {
              d2("next", a3, g2, h2);
            }, function(a3) {
              d2("throw", a3, g2, h2);
            }) : b2.resolve(k2).then(function(a3) {
              j2.value = a3, g2(j2);
            }, function(a3) {
              return d2("throw", a3, g2, h2);
            });
          }
          h2(i2.arg);
        }
        var e2;
        s(this, "_invoke", { value: function value(a3, c2) {
          function f2() {
            return new b2(function(b3, e3) {
              d2(a3, c2, b3, e3);
            });
          }
          return e2 = e2 ? e2.then(f2, f2) : f2();
        } });
      }
      function i(a2, b2, d2) {
        var e2 = "suspendedStart";
        return function(f2, g2) {
          if ("executing" == e2)
            throw new Error("Generator is already running");
          if ("completed" == e2) {
            if ("throw" === f2)
              throw g2;
            return o();
          }
          for (d2.method = f2, d2.arg = g2; ; ) {
            var h2 = d2.delegate;
            if (h2) {
              var i2 = j(h2, d2);
              if (i2) {
                if (i2 === x)
                  continue;
                return i2;
              }
            }
            if ("next" === d2.method)
              d2.sent = d2._sent = d2.arg;
            else if ("throw" === d2.method) {
              if ("suspendedStart" == e2)
                throw e2 = "completed", d2.arg;
              d2.dispatchException(d2.arg);
            } else
              "return" === d2.method && d2.abrupt("return", d2.arg);
            e2 = "executing";
            var k2 = c(a2, b2, d2);
            if ("normal" === k2.type) {
              if (e2 = d2.done ? "completed" : "suspendedYield", k2.arg === x)
                continue;
              return { value: k2.arg, done: d2.done };
            }
            "throw" === k2.type && (e2 = "completed", d2.method = "throw", d2.arg = k2.arg);
          }
        };
      }
      function j(a2, b2) {
        var d2 = b2.method, e2 = a2.iterator[d2];
        if (void 0 === e2)
          return b2.delegate = null, "throw" === d2 && a2.iterator.return && (b2.method = "return", b2.arg = void 0, j(a2, b2), "throw" === b2.method) || "return" !== d2 && (b2.method = "throw", b2.arg = new TypeError("The iterator does not provide a '" + d2 + "' method")), x;
        var f2 = c(e2, a2.iterator, b2.arg);
        if ("throw" === f2.type)
          return b2.method = "throw", b2.arg = f2.arg, b2.delegate = null, x;
        var g2 = f2.arg;
        return g2 ? g2.done ? (b2[a2.resultName] = g2.value, b2.next = a2.nextLoc, "return" !== b2.method && (b2.method = "next", b2.arg = void 0), b2.delegate = null, x) : g2 : (b2.method = "throw", b2.arg = new TypeError("iterator result is not an object"), b2.delegate = null, x);
      }
      function k(a2) {
        var b2 = { tryLoc: a2[0] };
        1 in a2 && (b2.catchLoc = a2[1]), 2 in a2 && (b2.finallyLoc = a2[2], b2.afterLoc = a2[3]), this.tryEntries.push(b2);
      }
      function l(a2) {
        var b2 = a2.completion || {};
        b2.type = "normal", delete b2.arg, a2.completion = b2;
      }
      function m(a2) {
        this.tryEntries = [{ tryLoc: "root" }], a2.forEach(k, this), this.reset(true);
      }
      function n(a2) {
        if (a2) {
          var b2 = a2[u];
          if (b2)
            return b2.call(a2);
          if ("function" == typeof a2.next)
            return a2;
          if (!isNaN(a2.length)) {
            var c2 = -1, d2 = function b3() {
              for (; ++c2 < a2.length; )
                if (r.call(a2, c2))
                  return b3.value = a2[c2], b3.done = false, b3;
              return b3.value = void 0, b3.done = true, b3;
            };
            return d2.next = d2;
          }
        }
        return { next: o };
      }
      function o() {
        return { value: void 0, done: true };
      }
      _regeneratorRuntime = function() {
        return p;
      };
      var p = {}, q = Object.prototype, r = q.hasOwnProperty, s = Object.defineProperty || function(a2, b2, c2) {
        a2[b2] = c2.value;
      }, t = "function" == typeof Symbol ? Symbol : {}, u = t.iterator || "@@iterator", v = t.asyncIterator || "@@asyncIterator", w = t.toStringTag || "@@toStringTag";
      try {
        a({}, "");
      } catch (b2) {
        a = function(a2, b3, c2) {
          return a2[b3] = c2;
        };
      }
      p.wrap = b;
      var x = {}, y = {};
      a(y, u, function() {
        return this;
      });
      var z = Object.getPrototypeOf, A = z && z(z(n([])));
      A && A !== q && r.call(A, u) && (y = A);
      var B = f.prototype = d.prototype = Object.create(y);
      return e.prototype = f, s(B, "constructor", { value: f, configurable: true }), s(f, "constructor", { value: e, configurable: true }), e.displayName = a(f, w, "GeneratorFunction"), p.isGeneratorFunction = function(a2) {
        var b2 = "function" == typeof a2 && a2.constructor;
        return !!b2 && (b2 === e || "GeneratorFunction" === (b2.displayName || b2.name));
      }, p.mark = function(b2) {
        return Object.setPrototypeOf ? Object.setPrototypeOf(b2, f) : (b2.__proto__ = f, a(b2, w, "GeneratorFunction")), b2.prototype = Object.create(B), b2;
      }, p.awrap = function(a2) {
        return { __await: a2 };
      }, g(h.prototype), a(h.prototype, v, function() {
        return this;
      }), p.AsyncIterator = h, p.async = function(a2, c2, d2, e2, f2) {
        void 0 === f2 && (f2 = Promise);
        var g2 = new h(b(a2, c2, d2, e2), f2);
        return p.isGeneratorFunction(c2) ? g2 : g2.next().then(function(a3) {
          return a3.done ? a3.value : g2.next();
        });
      }, g(B), a(B, w, "Generator"), a(B, u, function() {
        return this;
      }), a(B, "toString", function() {
        return "[object Generator]";
      }), p.keys = function(a2) {
        var b2 = Object(a2), c2 = [];
        for (var d2 in b2)
          c2.push(d2);
        return c2.reverse(), function a3() {
          for (; c2.length; ) {
            var d3 = c2.pop();
            if (d3 in b2)
              return a3.value = d3, a3.done = false, a3;
          }
          return a3.done = true, a3;
        };
      }, p.values = n, m.prototype = { constructor: m, reset: function reset(a2) {
        if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = false, this.delegate = null, this.method = "next", this.arg = void 0, this.tryEntries.forEach(l), !a2)
          for (var b2 in this)
            "t" === b2.charAt(0) && r.call(this, b2) && !isNaN(+b2.slice(1)) && (this[b2] = void 0);
      }, stop: function stop() {
        this.done = true;
        var a2 = this.tryEntries[0].completion;
        if ("throw" === a2.type)
          throw a2.arg;
        return this.rval;
      }, dispatchException: function dispatchException(a2) {
        function b2(b3, d3) {
          return f2.type = "throw", f2.arg = a2, c2.next = b3, d3 && (c2.method = "next", c2.arg = void 0), !!d3;
        }
        if (this.done)
          throw a2;
        for (var c2 = this, d2 = this.tryEntries.length - 1; 0 <= d2; --d2) {
          var e2 = this.tryEntries[d2], f2 = e2.completion;
          if ("root" === e2.tryLoc)
            return b2("end");
          if (e2.tryLoc <= this.prev) {
            var g2 = r.call(e2, "catchLoc"), h2 = r.call(e2, "finallyLoc");
            if (g2 && h2) {
              if (this.prev < e2.catchLoc)
                return b2(e2.catchLoc, true);
              if (this.prev < e2.finallyLoc)
                return b2(e2.finallyLoc);
            } else if (!g2) {
              if (!h2)
                throw new Error("try statement without catch or finally");
              if (this.prev < e2.finallyLoc)
                return b2(e2.finallyLoc);
            } else if (this.prev < e2.catchLoc)
              return b2(e2.catchLoc, true);
          }
        }
      }, abrupt: function abrupt(a2, b2) {
        for (var c2, d2 = this.tryEntries.length - 1; 0 <= d2; --d2)
          if (c2 = this.tryEntries[d2], c2.tryLoc <= this.prev && r.call(c2, "finallyLoc") && this.prev < c2.finallyLoc) {
            var e2 = c2;
            break;
          }
        e2 && ("break" === a2 || "continue" === a2) && e2.tryLoc <= b2 && b2 <= e2.finallyLoc && (e2 = null);
        var f2 = e2 ? e2.completion : {};
        return f2.type = a2, f2.arg = b2, e2 ? (this.method = "next", this.next = e2.finallyLoc, x) : this.complete(f2);
      }, complete: function complete(a2, b2) {
        if ("throw" === a2.type)
          throw a2.arg;
        return "break" === a2.type || "continue" === a2.type ? this.next = a2.arg : "return" === a2.type ? (this.rval = this.arg = a2.arg, this.method = "return", this.next = "end") : "normal" === a2.type && b2 && (this.next = b2), x;
      }, finish: function finish(a2) {
        for (var b2, c2 = this.tryEntries.length - 1; 0 <= c2; --c2)
          if (b2 = this.tryEntries[c2], b2.finallyLoc === a2)
            return this.complete(b2.completion, b2.afterLoc), l(b2), x;
      }, catch: function _catch(a2) {
        for (var b2, c2 = this.tryEntries.length - 1; 0 <= c2; --c2)
          if (b2 = this.tryEntries[c2], b2.tryLoc === a2) {
            var d2 = b2.completion;
            if ("throw" === d2.type) {
              var e2 = d2.arg;
              l(b2);
            }
            return e2;
          }
        throw new Error("illegal catch attempt");
      }, delegateYield: function delegateYield(a2, b2, c2) {
        return this.delegate = { iterator: n(a2), resultName: b2, nextLoc: c2 }, "next" === this.method && (this.arg = void 0), x;
      } }, p;
    }
    function asyncGeneratorStep(a, b, c, d, e, f, g) {
      try {
        var h = a[f](g), i = h.value;
      } catch (a2) {
        return void c(a2);
      }
      h.done ? b(i) : Promise.resolve(i).then(d, e);
    }
    function _asyncToGenerator(a) {
      return function() {
        var b = this, c = arguments;
        return new Promise(function(d, e) {
          function f(a2) {
            asyncGeneratorStep(h, d, e, f, g, "next", a2);
          }
          function g(a2) {
            asyncGeneratorStep(h, d, e, f, g, "throw", a2);
          }
          var h = a.apply(b, c);
          f(void 0);
        });
      };
    }
    function _createForOfIteratorHelper(a, b) {
      var c = "undefined" != typeof Symbol && a[Symbol.iterator] || a["@@iterator"];
      if (!c) {
        if (Array.isArray(a) || (c = _unsupportedIterableToArray(a)) || b && a && "number" == typeof a.length) {
          c && (a = c);
          var d = 0, e = function() {
          };
          return { s: e, n: function n() {
            return d >= a.length ? { done: true } : { done: false, value: a[d++] };
          }, e: function e2(a2) {
            throw a2;
          }, f: e };
        }
        throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
      }
      var f, g = true, h = false;
      return { s: function s() {
        c = c.call(a);
      }, n: function n() {
        var a2 = c.next();
        return g = a2.done, a2;
      }, e: function e2(a2) {
        h = true, f = a2;
      }, f: function f2() {
        try {
          g || null == c.return || c.return();
        } finally {
          if (h)
            throw f2;
        }
      } };
    }
    function _unsupportedIterableToArray(a, b) {
      if (a) {
        if ("string" == typeof a)
          return _arrayLikeToArray(a, b);
        var c = Object.prototype.toString.call(a).slice(8, -1);
        return "Object" === c && a.constructor && (c = a.constructor.name), "Map" === c || "Set" === c ? Array.from(a) : "Arguments" === c || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c) ? _arrayLikeToArray(a, b) : void 0;
      }
    }
    function _arrayLikeToArray(a, b) {
      (null == b || b > a.length) && (b = a.length);
      for (var c = 0, d = Array(b); c < b; c++)
        d[c] = a[c];
      return d;
    }
    function _classCallCheck(a, b) {
      if (!(a instanceof b))
        throw new TypeError("Cannot call a class as a function");
    }
    function _defineProperties(a, b) {
      for (var c, d = 0; d < b.length; d++)
        c = b[d], c.enumerable = c.enumerable || false, c.configurable = true, "value" in c && (c.writable = true), Object.defineProperty(a, _toPropertyKey(c.key), c);
    }
    function _createClass(a, b, c) {
      return b && _defineProperties(a.prototype, b), c && _defineProperties(a, c), Object.defineProperty(a, "prototype", { writable: false }), a;
    }
    function _toPropertyKey(a) {
      var b = _toPrimitive(a, "string");
      return "symbol" === _typeof(b) ? b : b + "";
    }
    function _toPrimitive(a, b) {
      if ("object" !== _typeof(a) || null === a)
        return a;
      var c = a[Symbol.toPrimitive];
      if (c !== void 0) {
        var d = c.call(a, b || "default");
        if ("object" !== _typeof(d))
          return d;
        throw new TypeError("@@toPrimitive must return a primitive value.");
      }
      return ("string" === b ? String : Number)(a);
    }
    var Utilities = function() {
      function a() {
        _classCallCheck(this, a);
      }
      return _createClass(a, null, [{ key: "checkTargeting", value: function checkTargeting(a2) {
        var b = a2.segment, c = a2.visitorCode, d = a2.targetingData, e = a2.experimentId, f = a2.variationConfiguration, g = a2.campaignConfiguration, h = a2.packageInfo;
        if (!b || !b.conditionsData.firstLevel.length)
          return (0, _tsRes.Ok)(true);
        if (!f)
          return (0, _tsRes.Err)(new _kameleoonError.KameleoonError(_kameleoonError.KameleoonException.Initialization));
        var i = {}, j = f.getAssignedVariations(c);
        j.ok && (i = j.data);
        var k = g.getTargetingTree(b), l = k.evaluate({ variationData: i, sdkInfo: h, targetingData: d, experimentId: e, visitorCode: c });
        return l;
      } }, { key: "validateVisitorCode", value: function validateVisitorCode(a2) {
        return 0 === a2.length ? (0, _tsRes.Err)(new _kameleoonError.KameleoonError(_kameleoonError.KameleoonException.VisitorCodeEmpty)) : a2.length > _constants2.VISITOR_CODE_MAX_LENGTH ? (0, _tsRes.Err)(new _kameleoonError.KameleoonError(_kameleoonError.KameleoonException.VisitorCodeMaxLength)) : (0, _tsRes.Ok)();
      } }, { key: "getDataUrl", value: function getDataUrl(a2, b) {
        var c = b.getUnsentData(a2), d = "";
        if (!c || !c.size)
          return d;
        var e, f = _createForOfIteratorHelper(c.values());
        try {
          for (f.s(); !(e = f.n()).done; ) {
            var g = e.value;
            g.url && (d += g.url + "\n");
          }
        } catch (a3) {
          f.e(a3);
        } finally {
          f.f();
        }
        return d;
      } }, { key: "trackRule", value: function() {
        function a2() {
          return b.apply(this, arguments);
        }
        var b = _asyncToGenerator(_regeneratorRuntime().mark(function b2(a3) {
          var c, d, e, f, g, h, i, j, k, l, m, n, o, p, q;
          return _regeneratorRuntime().wrap(function r(b3) {
            for (; 1; )
              switch (b3.prev = b3.next) {
                case 0:
                  return c = a3.featureFlagVariation, d = a3.campaignConfiguration, e = a3.visitorCode, f = a3.requester, g = a3.isOfflineModeOn, h = a3.offlineTrackingStorage, i = c.variationId, j = c.rule, k = this.getUserAgent(e, d), l = this.getDataUrl(e, d), m = i || 0, n = null === i, o = j ? j.experimentId : 0, p = { visitorCode: e, isUnallocated: n, body: l, experimentId: o, variationId: m, userAgent: k }, b3.next = 10, f.trackExperiment(p);
                case 10:
                  q = b3.sent, q.ok && d.clearUnsentData(e), !q.ok && g && this.addItemToOfflineTracking({ item: p, storage: h, isExperiment: true });
                case 13:
                case "end":
                  return b3.stop();
              }
          }, b2, this);
        }));
        return a2;
      }() }, { key: "parseFeatureVariable", value: function parseFeatureVariable(a2) {
        var b = a2.type, c = a2.value;
        switch (b) {
          case _types.VariableType.BOOLEAN:
            return (0, _tsRes.Ok)({ type: b, value: !!c });
          case _types.VariableType.STRING:
            return (0, _tsRes.Ok)({ type: b, value: c + "" });
          case _types.VariableType.NUMBER:
            var d = +c;
            return Number.isNaN(d) ? (0, _tsRes.Err)(new _kameleoonError.KameleoonError(_kameleoonError.KameleoonException.NumberParse, c + "")) : (0, _tsRes.Ok)({ type: b, value: d });
          case _types.VariableType.JSON:
            try {
              var e = JSON.parse(a2.value + "");
              return (0, _tsRes.Ok)({ type: b, value: e });
            } catch (a3) {
              return (0, _tsRes.Err)(new _kameleoonError.KameleoonError(_kameleoonError.KameleoonException.JSONParse, a3));
            }
          default:
            (0, _kameleoonError.exhaustCheck)(b);
        }
      } }, { key: "parseVisitorData", value: function parseVisitorData(a2) {
        var b, c = a2.currentVisit, d = a2.previousVisits;
        if (c ? b = [c] : d && (b = d), !b)
          return [];
        var e = /* @__PURE__ */ new Map(), f = [], g = _toConsumableArray(b[0].customDataEvents);
        g.sort(function(c2, a3) {
          return a3.time - c2.time;
        });
        var h, i = _createForOfIteratorHelper(g);
        try {
          for (i.s(); !(h = i.n()).done; ) {
            var j = h.value, k = j.data.index;
            if (!e.has(k)) {
              e.set(k, true);
              var l = Object.keys(j.data.valuesCountMap);
              f.push(_construct(_kameleoonData.CustomData, [k].concat(l)));
            }
          }
        } catch (a3) {
          i.e(a3);
        } finally {
          i.f();
        }
        return f;
      } }, { key: "parseRegExp", value: function parseRegExp(a2) {
        if ("/" === a2[0]) {
          var b = a2.split("/"), c = _slicedToArray(b, 3), d = c[0], e = c[1], f = c[2];
          return new RegExp(e, f);
        }
        return new RegExp(a2);
      } }, { key: "getUserAgent", value: function getUserAgent(a2, b) {
        var c = b.storedTargetingData[a2];
        if (c) {
          var d = c[_kameleoonData.KameleoonData.UserAgent];
          if (d)
            return d.value;
        }
      } }, { key: "isCustomData", value: function isCustomData(a2) {
        return a2.data.type === _kameleoonData.KameleoonData.CustomData;
      } }, { key: "updateCache", value: function updateCache(a2) {
        var b = a2.cacheManager, c = a2.visitorCode, d = a2.experimentId, e = a2.variationId, f = b.getAliveItem(c), g = f ? _objectSpread({}, f) : {};
        g[d] = { variationId: e, expirationTime: Date.now() + _constants.CACHE_ITEM_LIFETIME * _types.Milliseconds.Second }, b.add({ key: c, data: g, lifetime: _constants.CACHE_ITEM_LIFETIME });
      } }, { key: "getTrackingCode", value: function getTrackingCode(a2, b) {
        var c = "window.kameleoonQueue=window.kameleoonQueue||[];", d = a2.getAliveItem(b);
        if (!d)
          return c;
        var e = {};
        return Object.entries(d).forEach(function(a3) {
          var b2 = _slicedToArray(a3, 2), d2 = b2[0], f = b2[1], g = f.variationId, h = f.expirationTime;
          h > Date.now() && (c += "window.kameleoonQueue.push(['Experiments.assignVariation',".concat(d2, ",").concat(g, "]);"), c += "window.kameleoonQueue.push(['Experiments.trigger',".concat(d2, ",true]);"), e[+d2] = { variationId: g, expirationTime: h });
        }), a2.add({ key: b, data: e, lifetime: _constants.CACHE_ITEM_LIFETIME }), c;
      } }, { key: "trackData", value: function() {
        function a2(a3) {
          return b.apply(this, arguments);
        }
        var b = _asyncToGenerator(_regeneratorRuntime().mark(function b2(a3) {
          var c, d, e, f, g, h, i, j, k, l;
          return _regeneratorRuntime().wrap(function m(b3) {
            for (; 1; )
              switch (b3.prev = b3.next) {
                case 0:
                  return c = a3.visitorCode, d = a3.campaignConfiguration, e = a3.requester, f = a3.isOfflineModeOn, g = a3.offlineTrackingStorage, b3.next = 3, this.sendOfflineTracking({ requester: e, storage: g });
                case 3:
                  return h = this.getDataUrl(c, d), i = this.getUserAgent(c, d), j = { visitorCode: c, body: h, userAgent: i }, b3.next = 8, e.trackData(j);
                case 8:
                  k = b3.sent, l = function cleanup() {
                    return d.clearUnsentData(c);
                  }, k.ok && l(), !k.ok && f && this.addItemToOfflineTracking({ item: j, storage: g, isExperiment: false, onSuccess: l });
                case 12:
                case "end":
                  return b3.stop();
              }
          }, b2, this);
        }));
        return a2;
      }() }, { key: "trackExperiment", value: function() {
        function a2(a3) {
          return b.apply(this, arguments);
        }
        var b = _asyncToGenerator(_regeneratorRuntime().mark(function b2(a3) {
          var c, d, e, f, g, h, i, j, k, l, m, n;
          return _regeneratorRuntime().wrap(function o(b3) {
            for (; 1; )
              switch (b3.prev = b3.next) {
                case 0:
                  return c = a3.variationId, d = a3.experimentId, e = a3.isUnallocated, f = a3.visitorCode, g = a3.campaignConfiguration, h = a3.requester, i = a3.isOfflineModeOn, j = a3.offlineTrackingStorage, k = this.getDataUrl(f, g), l = this.getUserAgent(f, g), m = { body: k, visitorCode: f, isUnallocated: e, variationId: c, userAgent: l, experimentId: d }, b3.next = 6, h.trackExperiment(m);
                case 6:
                  n = b3.sent, !n.ok && i && this.addItemToOfflineTracking({ item: m, storage: j, isExperiment: true });
                case 8:
                case "end":
                  return b3.stop();
              }
          }, b2, this);
        }));
        return a2;
      }() }, { key: "getNonce", value: function getNonce() {
        for (var a2, b = _constants2.HEX_CHARACTERS.length, c = "", d = 0; d < b; d++)
          a2 = Math.floor(Math.random() * b), c += _constants2.HEX_CHARACTERS.substring(a2, a2 + 1);
        return c;
      } }, { key: "sendOfflineTracking", value: function() {
        function a2(a3) {
          return b.apply(this, arguments);
        }
        var b = _asyncToGenerator(_regeneratorRuntime().mark(function b2(a3) {
          var c, d, e, f, g, h, i, j, k, l, m, n;
          return _regeneratorRuntime().wrap(function o(b3) {
            for (; 1; )
              switch (b3.prev = b3.next) {
                case 0:
                  if (c = a3.requester, d = a3.storage, e = d.read(), !(e.ok && e.data.requestParameters)) {
                    b3.next = 33;
                    break;
                  }
                  f = e.data.requestParameters, g = [], h = _createForOfIteratorHelper(f), b3.prev = 6, h.s();
                case 8:
                  if ((i = h.n()).done) {
                    b3.next = 24;
                    break;
                  }
                  if (j = i.value, k = j.timestamp, l = j.isExperiment, m = _objectWithoutProperties(j, _excluded), n = void 0, !l) {
                    b3.next = 18;
                    break;
                  }
                  return b3.next = 15, c.trackExperiment(m);
                case 15:
                  n = b3.sent, b3.next = 21;
                  break;
                case 18:
                  return b3.next = 20, c.trackData(m);
                case 20:
                  n = b3.sent;
                case 21:
                  n.ok && n.data && g.push(k);
                case 22:
                  b3.next = 8;
                  break;
                case 24:
                  b3.next = 29;
                  break;
                case 26:
                  b3.prev = 26, b3.t0 = b3["catch"](6), h.e(b3.t0);
                case 29:
                  return b3.prev = 29, h.f(), b3.finish(29);
                case 32:
                  this.deleteFromOfflineTracking({ storage: d, timestamps: g });
                case 33:
                case "end":
                  return b3.stop();
              }
          }, b2, this, [[6, 26, 29, 32]]);
        }));
        return a2;
      }() }, { key: "addItemToOfflineTracking", value: function addItemToOfflineTracking(a2) {
        var b = a2.item, c = a2.isExperiment, d = a2.storage, e = a2.onSuccess, f = d.read(), g = f.ok ? f.data : {}, h = g.requestParameters, i = _objectSpread(_objectSpread({}, b), {}, { timestamp: (/* @__PURE__ */ new Date()).getTime(), isExperiment: c }), j = h ? [].concat(_toConsumableArray(h), [i]) : [i], k = d.write({ requestParameters: j });
        k.ok && e && e();
      } }, { key: "deleteFromOfflineTracking", value: function deleteFromOfflineTracking(a2) {
        var b = a2.timestamps, c = a2.storage, d = c.read();
        if (d.ok) {
          var e = d.data.requestParameters, f = null === e || void 0 === e ? void 0 : e.filter(function(a3) {
            return !b.includes(a3.timestamp);
          });
          c.write({ requestParameters: f });
        }
      } }]), a;
    }();
    exports.Utilities = Utilities;
  }
});

// node_modules/@kameleoon/javascript-sdk-core/dist/utilities/index.js
var require_utilities2 = __commonJS({
  "node_modules/@kameleoon/javascript-sdk-core/dist/utilities/index.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true }), Object.defineProperty(exports, "HEX_CHARACTERS", { enumerable: true, get: function get() {
      return _constants.HEX_CHARACTERS;
    } }), Object.defineProperty(exports, "Utilities", { enumerable: true, get: function get() {
      return _utilities.Utilities;
    } });
    var _utilities = require_utilities();
    var _constants = require_constants3();
  }
});

// node_modules/@kameleoon/javascript-sdk-core/dist/requester/constants.js
var require_constants4 = __commonJS({
  "node_modules/@kameleoon/javascript-sdk-core/dist/requester/constants.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true }), exports.UrlTracking = exports.UrlQuery = exports.UrlParameter = exports.UrlEventType = exports.URL = exports.Header = void 0;
    var Header = function(a) {
      return a.UserAgent = "User-Agent", a.ContentType = "Content-Type", a.Authorization = "Authorization", a;
    }({});
    exports.Header = Header;
    var dataTopLevelDomain = "io";
    var UrlEventType = { CustomData: "eventType=customData", StaticData: "eventType=staticData", Page: "eventType=page", Conversion: "eventType=conversion", Activity: "eventType=activity", Experiment: "eventType=experiment" };
    exports.UrlEventType = UrlEventType;
    var UrlParameter = { Title: "&title=", ReferrersIndices: "&referrersIndices=", Negative: "&negative=", Revenue: "&revenue=", Overwrite: "&overwrite=", Index: "&index=", BrowserIndex: "&browserIndex=", BrowserVersion: "&browserVersion=", Href: "&href=", DeviceType: "&deviceType=", SiteCode: "&siteCode=", GoalId: "&goalId=", VisitorCode: "&visitorCode=", Environment: "&environment=", VariationId: "&variationId=", Ts: "&ts=", Key: "&key=", SdkName: "&sdkName=", SdkVersion: "&sdkVersion=", ValuesCountMap: "&valuesCountMap=", Nonce: "&nonce=", Id: "&id=", CustomData: "&customData=", CurrentVisit: "&currentVisit=", MaxNumberPreviousVisits: "&maxNumberPreviousVisits=" };
    exports.UrlParameter = UrlParameter;
    var UrlQuery = { Sse: "sse?siteCode=", Mobile: "mobile?siteCode=", Map: "map?siteCode=", Events: "events?siteCode=", Visitor: "visitor?siteCode=" };
    exports.UrlQuery = UrlQuery;
    var UrlTracking = { Visit: "visit/", Map: "map/" };
    exports.UrlTracking = UrlTracking;
    var URL_DATA_API = "https://data.kameleoon.".concat(dataTopLevelDomain);
    var URL = { SERVER_SENT_EVENTS: "https://events.kameleoon.".concat("com", ":8110/"), CLIENT_CONFIGURATION: "https://client-config.kameleoon.".concat("com", "/"), VISIT_EVENT: "".concat(URL_DATA_API, "/").concat(UrlTracking.Visit + UrlQuery.Events), VISIT_DATA: "".concat(URL_DATA_API, "/").concat(UrlTracking.Visit + UrlQuery.Visitor), DATA_MAP: "".concat(URL_DATA_API, "/").concat(UrlTracking.Map + UrlQuery.Map) };
    exports.URL = URL;
  }
});

// node_modules/@kameleoon/javascript-sdk-core/dist/requester/requester.js
var require_requester = __commonJS({
  "node_modules/@kameleoon/javascript-sdk-core/dist/requester/requester.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true }), exports.Requester = void 0;
    var _tsRes = require_build();
    var _utilities = require_utilities2();
    var _constants = require_constants4();
    function _typeof(a) {
      "@babel/helpers - typeof";
      return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(a2) {
        return typeof a2;
      } : function(a2) {
        return a2 && "function" == typeof Symbol && a2.constructor === Symbol && a2 !== Symbol.prototype ? "symbol" : typeof a2;
      }, _typeof(a);
    }
    function _regeneratorRuntime() {
      "use strict";
      function a(a2, b2, c2) {
        return Object.defineProperty(a2, b2, { value: c2, enumerable: true, configurable: true, writable: true }), a2[b2];
      }
      function b(a2, b2, c2, e2) {
        var f2 = b2 && b2.prototype instanceof d ? b2 : d, g2 = Object.create(f2.prototype), h2 = new m(e2 || []);
        return s(g2, "_invoke", { value: i(a2, c2, h2) }), g2;
      }
      function c(a2, b2, c2) {
        try {
          return { type: "normal", arg: a2.call(b2, c2) };
        } catch (a3) {
          return { type: "throw", arg: a3 };
        }
      }
      function d() {
      }
      function e() {
      }
      function f() {
      }
      function g(b2) {
        ["next", "throw", "return"].forEach(function(c2) {
          a(b2, c2, function(a2) {
            return this._invoke(c2, a2);
          });
        });
      }
      function h(a2, b2) {
        function d2(e3, f2, g2, h2) {
          var i2 = c(a2[e3], a2, f2);
          if ("throw" !== i2.type) {
            var j2 = i2.arg, k2 = j2.value;
            return k2 && "object" == _typeof(k2) && r.call(k2, "__await") ? b2.resolve(k2.__await).then(function(a3) {
              d2("next", a3, g2, h2);
            }, function(a3) {
              d2("throw", a3, g2, h2);
            }) : b2.resolve(k2).then(function(a3) {
              j2.value = a3, g2(j2);
            }, function(a3) {
              return d2("throw", a3, g2, h2);
            });
          }
          h2(i2.arg);
        }
        var e2;
        s(this, "_invoke", { value: function value(a3, c2) {
          function f2() {
            return new b2(function(b3, e3) {
              d2(a3, c2, b3, e3);
            });
          }
          return e2 = e2 ? e2.then(f2, f2) : f2();
        } });
      }
      function i(a2, b2, d2) {
        var e2 = "suspendedStart";
        return function(f2, g2) {
          if ("executing" == e2)
            throw new Error("Generator is already running");
          if ("completed" == e2) {
            if ("throw" === f2)
              throw g2;
            return o();
          }
          for (d2.method = f2, d2.arg = g2; ; ) {
            var h2 = d2.delegate;
            if (h2) {
              var i2 = j(h2, d2);
              if (i2) {
                if (i2 === x)
                  continue;
                return i2;
              }
            }
            if ("next" === d2.method)
              d2.sent = d2._sent = d2.arg;
            else if ("throw" === d2.method) {
              if ("suspendedStart" == e2)
                throw e2 = "completed", d2.arg;
              d2.dispatchException(d2.arg);
            } else
              "return" === d2.method && d2.abrupt("return", d2.arg);
            e2 = "executing";
            var k2 = c(a2, b2, d2);
            if ("normal" === k2.type) {
              if (e2 = d2.done ? "completed" : "suspendedYield", k2.arg === x)
                continue;
              return { value: k2.arg, done: d2.done };
            }
            "throw" === k2.type && (e2 = "completed", d2.method = "throw", d2.arg = k2.arg);
          }
        };
      }
      function j(a2, b2) {
        var d2 = b2.method, e2 = a2.iterator[d2];
        if (void 0 === e2)
          return b2.delegate = null, "throw" === d2 && a2.iterator.return && (b2.method = "return", b2.arg = void 0, j(a2, b2), "throw" === b2.method) || "return" !== d2 && (b2.method = "throw", b2.arg = new TypeError("The iterator does not provide a '" + d2 + "' method")), x;
        var f2 = c(e2, a2.iterator, b2.arg);
        if ("throw" === f2.type)
          return b2.method = "throw", b2.arg = f2.arg, b2.delegate = null, x;
        var g2 = f2.arg;
        return g2 ? g2.done ? (b2[a2.resultName] = g2.value, b2.next = a2.nextLoc, "return" !== b2.method && (b2.method = "next", b2.arg = void 0), b2.delegate = null, x) : g2 : (b2.method = "throw", b2.arg = new TypeError("iterator result is not an object"), b2.delegate = null, x);
      }
      function k(a2) {
        var b2 = { tryLoc: a2[0] };
        1 in a2 && (b2.catchLoc = a2[1]), 2 in a2 && (b2.finallyLoc = a2[2], b2.afterLoc = a2[3]), this.tryEntries.push(b2);
      }
      function l(a2) {
        var b2 = a2.completion || {};
        b2.type = "normal", delete b2.arg, a2.completion = b2;
      }
      function m(a2) {
        this.tryEntries = [{ tryLoc: "root" }], a2.forEach(k, this), this.reset(true);
      }
      function n(a2) {
        if (a2) {
          var b2 = a2[u];
          if (b2)
            return b2.call(a2);
          if ("function" == typeof a2.next)
            return a2;
          if (!isNaN(a2.length)) {
            var c2 = -1, d2 = function b3() {
              for (; ++c2 < a2.length; )
                if (r.call(a2, c2))
                  return b3.value = a2[c2], b3.done = false, b3;
              return b3.value = void 0, b3.done = true, b3;
            };
            return d2.next = d2;
          }
        }
        return { next: o };
      }
      function o() {
        return { value: void 0, done: true };
      }
      _regeneratorRuntime = function() {
        return p;
      };
      var p = {}, q = Object.prototype, r = q.hasOwnProperty, s = Object.defineProperty || function(a2, b2, c2) {
        a2[b2] = c2.value;
      }, t = "function" == typeof Symbol ? Symbol : {}, u = t.iterator || "@@iterator", v = t.asyncIterator || "@@asyncIterator", w = t.toStringTag || "@@toStringTag";
      try {
        a({}, "");
      } catch (b2) {
        a = function(a2, b3, c2) {
          return a2[b3] = c2;
        };
      }
      p.wrap = b;
      var x = {}, y = {};
      a(y, u, function() {
        return this;
      });
      var z = Object.getPrototypeOf, A = z && z(z(n([])));
      A && A !== q && r.call(A, u) && (y = A);
      var B = f.prototype = d.prototype = Object.create(y);
      return e.prototype = f, s(B, "constructor", { value: f, configurable: true }), s(f, "constructor", { value: e, configurable: true }), e.displayName = a(f, w, "GeneratorFunction"), p.isGeneratorFunction = function(a2) {
        var b2 = "function" == typeof a2 && a2.constructor;
        return !!b2 && (b2 === e || "GeneratorFunction" === (b2.displayName || b2.name));
      }, p.mark = function(b2) {
        return Object.setPrototypeOf ? Object.setPrototypeOf(b2, f) : (b2.__proto__ = f, a(b2, w, "GeneratorFunction")), b2.prototype = Object.create(B), b2;
      }, p.awrap = function(a2) {
        return { __await: a2 };
      }, g(h.prototype), a(h.prototype, v, function() {
        return this;
      }), p.AsyncIterator = h, p.async = function(a2, c2, d2, e2, f2) {
        void 0 === f2 && (f2 = Promise);
        var g2 = new h(b(a2, c2, d2, e2), f2);
        return p.isGeneratorFunction(c2) ? g2 : g2.next().then(function(a3) {
          return a3.done ? a3.value : g2.next();
        });
      }, g(B), a(B, w, "Generator"), a(B, u, function() {
        return this;
      }), a(B, "toString", function() {
        return "[object Generator]";
      }), p.keys = function(a2) {
        var b2 = Object(a2), c2 = [];
        for (var d2 in b2)
          c2.push(d2);
        return c2.reverse(), function a3() {
          for (; c2.length; ) {
            var d3 = c2.pop();
            if (d3 in b2)
              return a3.value = d3, a3.done = false, a3;
          }
          return a3.done = true, a3;
        };
      }, p.values = n, m.prototype = { constructor: m, reset: function reset(a2) {
        if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = false, this.delegate = null, this.method = "next", this.arg = void 0, this.tryEntries.forEach(l), !a2)
          for (var b2 in this)
            "t" === b2.charAt(0) && r.call(this, b2) && !isNaN(+b2.slice(1)) && (this[b2] = void 0);
      }, stop: function stop() {
        this.done = true;
        var a2 = this.tryEntries[0].completion;
        if ("throw" === a2.type)
          throw a2.arg;
        return this.rval;
      }, dispatchException: function dispatchException(a2) {
        function b2(b3, d3) {
          return f2.type = "throw", f2.arg = a2, c2.next = b3, d3 && (c2.method = "next", c2.arg = void 0), !!d3;
        }
        if (this.done)
          throw a2;
        for (var c2 = this, d2 = this.tryEntries.length - 1; 0 <= d2; --d2) {
          var e2 = this.tryEntries[d2], f2 = e2.completion;
          if ("root" === e2.tryLoc)
            return b2("end");
          if (e2.tryLoc <= this.prev) {
            var g2 = r.call(e2, "catchLoc"), h2 = r.call(e2, "finallyLoc");
            if (g2 && h2) {
              if (this.prev < e2.catchLoc)
                return b2(e2.catchLoc, true);
              if (this.prev < e2.finallyLoc)
                return b2(e2.finallyLoc);
            } else if (!g2) {
              if (!h2)
                throw new Error("try statement without catch or finally");
              if (this.prev < e2.finallyLoc)
                return b2(e2.finallyLoc);
            } else if (this.prev < e2.catchLoc)
              return b2(e2.catchLoc, true);
          }
        }
      }, abrupt: function abrupt(a2, b2) {
        for (var c2, d2 = this.tryEntries.length - 1; 0 <= d2; --d2)
          if (c2 = this.tryEntries[d2], c2.tryLoc <= this.prev && r.call(c2, "finallyLoc") && this.prev < c2.finallyLoc) {
            var e2 = c2;
            break;
          }
        e2 && ("break" === a2 || "continue" === a2) && e2.tryLoc <= b2 && b2 <= e2.finallyLoc && (e2 = null);
        var f2 = e2 ? e2.completion : {};
        return f2.type = a2, f2.arg = b2, e2 ? (this.method = "next", this.next = e2.finallyLoc, x) : this.complete(f2);
      }, complete: function complete(a2, b2) {
        if ("throw" === a2.type)
          throw a2.arg;
        return "break" === a2.type || "continue" === a2.type ? this.next = a2.arg : "return" === a2.type ? (this.rval = this.arg = a2.arg, this.method = "return", this.next = "end") : "normal" === a2.type && b2 && (this.next = b2), x;
      }, finish: function finish(a2) {
        for (var b2, c2 = this.tryEntries.length - 1; 0 <= c2; --c2)
          if (b2 = this.tryEntries[c2], b2.finallyLoc === a2)
            return this.complete(b2.completion, b2.afterLoc), l(b2), x;
      }, catch: function _catch(a2) {
        for (var b2, c2 = this.tryEntries.length - 1; 0 <= c2; --c2)
          if (b2 = this.tryEntries[c2], b2.tryLoc === a2) {
            var d2 = b2.completion;
            if ("throw" === d2.type) {
              var e2 = d2.arg;
              l(b2);
            }
            return e2;
          }
        throw new Error("illegal catch attempt");
      }, delegateYield: function delegateYield(a2, b2, c2) {
        return this.delegate = { iterator: n(a2), resultName: b2, nextLoc: c2 }, "next" === this.method && (this.arg = void 0), x;
      } }, p;
    }
    function asyncGeneratorStep(a, b, c, d, e, f, g) {
      try {
        var h = a[f](g), i = h.value;
      } catch (a2) {
        return void c(a2);
      }
      h.done ? b(i) : Promise.resolve(i).then(d, e);
    }
    function _asyncToGenerator(a) {
      return function() {
        var b = this, c = arguments;
        return new Promise(function(d, e) {
          function f(a2) {
            asyncGeneratorStep(h, d, e, f, g, "next", a2);
          }
          function g(a2) {
            asyncGeneratorStep(h, d, e, f, g, "throw", a2);
          }
          var h = a.apply(b, c);
          f(void 0);
        });
      };
    }
    function _classCallCheck(a, b) {
      if (!(a instanceof b))
        throw new TypeError("Cannot call a class as a function");
    }
    function _defineProperties(a, b) {
      for (var c, d = 0; d < b.length; d++)
        c = b[d], c.enumerable = c.enumerable || false, c.configurable = true, "value" in c && (c.writable = true), Object.defineProperty(a, _toPropertyKey(c.key), c);
    }
    function _createClass(a, b, c) {
      return b && _defineProperties(a.prototype, b), c && _defineProperties(a, c), Object.defineProperty(a, "prototype", { writable: false }), a;
    }
    function _defineProperty(a, b, c) {
      return b = _toPropertyKey(b), b in a ? Object.defineProperty(a, b, { value: c, enumerable: true, configurable: true, writable: true }) : a[b] = c, a;
    }
    function _toPropertyKey(a) {
      var b = _toPrimitive(a, "string");
      return "symbol" === _typeof(b) ? b : b + "";
    }
    function _toPrimitive(a, b) {
      if ("object" !== _typeof(a) || null === a)
        return a;
      var c = a[Symbol.toPrimitive];
      if (c !== void 0) {
        var d = c.call(a, b || "default");
        if ("object" !== _typeof(d))
          return d;
        throw new TypeError("@@toPrimitive must return a primitive value.");
      }
      return ("string" === b ? String : Number)(a);
    }
    var Requester = function() {
      function a(b) {
        var c = b.siteCode, d = b.environment, e = b.packageInfo, f = b.requestDispatcher;
        _classCallCheck(this, a), _defineProperty(this, "siteCode", void 0), _defineProperty(this, "environment", void 0), _defineProperty(this, "requestDispatcher", void 0), _defineProperty(this, "packageInfo", void 0), this.requestDispatcher = f, this.siteCode = c, this.environment = d, this.packageInfo = e;
      }
      return _createClass(a, [{ key: "getClientConfiguration", value: function() {
        function a2() {
          return b.apply(this, arguments);
        }
        var b = _asyncToGenerator(_regeneratorRuntime().mark(function b2(a3) {
          var c, d, e, f;
          return _regeneratorRuntime().wrap(function g(b3) {
            for (; 1; )
              switch (b3.prev = b3.next) {
                case 0:
                  return c = this.environment ? _constants.UrlParameter.Environment + this.environment : "", d = a3 ? _constants.UrlParameter.Ts + a3 : "", e = _constants.URL.CLIENT_CONFIGURATION + _constants.UrlQuery.Mobile + this.siteCode + c + d, b3.prev = 3, b3.next = 6, this.requestDispatcher.getClientConfiguration(e);
                case 6:
                  return f = b3.sent, b3.abrupt("return", (0, _tsRes.Ok)(f));
                case 10:
                  return b3.prev = 10, b3.t0 = b3["catch"](3), b3.abrupt("return", (0, _tsRes.Err)(b3.t0));
                case 13:
                case "end":
                  return b3.stop();
              }
          }, b2, this, [[3, 10]]);
        }));
        return a2;
      }() }, { key: "getRemoteData", value: function() {
        function a2(a3) {
          return b.apply(this, arguments);
        }
        var b = _asyncToGenerator(_regeneratorRuntime().mark(function b2(a3) {
          var c, d;
          return _regeneratorRuntime().wrap(function e(b3) {
            for (; 1; )
              switch (b3.prev = b3.next) {
                case 0:
                  return c = _constants.URL.DATA_MAP + this.siteCode + _constants.UrlParameter.Key + encodeURI(a3), b3.prev = 1, b3.next = 4, this.requestDispatcher.getRemoteData(c);
                case 4:
                  return d = b3.sent, b3.abrupt("return", (0, _tsRes.Ok)(d));
                case 8:
                  return b3.prev = 8, b3.t0 = b3["catch"](1), b3.abrupt("return", (0, _tsRes.Err)(b3.t0));
                case 11:
                case "end":
                  return b3.stop();
              }
          }, b2, this, [[1, 8]]);
        }));
        return a2;
      }() }, { key: "getVisitorData", value: function() {
        function a2(a3) {
          return b.apply(this, arguments);
        }
        var b = _asyncToGenerator(_regeneratorRuntime().mark(function b2(a3) {
          var c, d;
          return _regeneratorRuntime().wrap(function e(b3) {
            for (; 1; )
              switch (b3.prev = b3.next) {
                case 0:
                  return c = _constants.URL.VISIT_DATA + this.siteCode + _constants.UrlParameter.VisitorCode + a3 + _constants.UrlParameter.MaxNumberPreviousVisits + 1 + _constants.UrlParameter.CustomData + true + _constants.UrlParameter.CurrentVisit + true, b3.prev = 1, b3.next = 4, this.requestDispatcher.getRemoteData(c);
                case 4:
                  return d = b3.sent, b3.abrupt("return", (0, _tsRes.Ok)(d));
                case 8:
                  return b3.prev = 8, b3.t0 = b3["catch"](1), b3.abrupt("return", (0, _tsRes.Err)(b3.t0));
                case 11:
                case "end":
                  return b3.stop();
              }
          }, b2, this, [[1, 8]]);
        }));
        return a2;
      }() }, { key: "trackExperiment", value: function() {
        function a2(a3) {
          return b.apply(this, arguments);
        }
        var b = _asyncToGenerator(_regeneratorRuntime().mark(function b2(a3) {
          var c, d, e, f, g, h, i, j, k, l, m, n;
          return _regeneratorRuntime().wrap(function o(b3) {
            for (; 1; )
              switch (b3.prev = b3.next) {
                case 0:
                  return c = a3.variationId, d = a3.visitorCode, e = a3.experimentId, f = a3.isUnallocated, g = a3.body, h = a3.userAgent, i = this.getTrackingUrl(d), j = g ? "" : _constants.UrlEventType.Activity + _constants.UrlParameter.Nonce + _utilities.Utilities.getNonce(), k = f ? j : _constants.UrlEventType.Experiment + _constants.UrlParameter.Id + e + _constants.UrlParameter.VariationId + c + _constants.UrlParameter.Nonce + _utilities.Utilities.getNonce(), l = k ? g + "\n" + k : g, m = h ? _defineProperty({}, _constants.Header.UserAgent, h) : void 0, b3.prev = 6, b3.next = 9, this.requestDispatcher.track({ url: i, headers: m, body: l });
                case 9:
                  return n = b3.sent, b3.abrupt("return", (0, _tsRes.Ok)(n));
                case 13:
                  return b3.prev = 13, b3.t0 = b3["catch"](6), b3.abrupt("return", (0, _tsRes.Err)(b3.t0));
                case 16:
                case "end":
                  return b3.stop();
              }
          }, b2, this, [[6, 13]]);
        }));
        return a2;
      }() }, { key: "trackData", value: function() {
        function a2(a3) {
          return b.apply(this, arguments);
        }
        var b = _asyncToGenerator(_regeneratorRuntime().mark(function b2(a3) {
          var c, d, e, f, g, h, i;
          return _regeneratorRuntime().wrap(function j(b3) {
            for (; 1; )
              switch (b3.prev = b3.next) {
                case 0:
                  return c = a3.visitorCode, d = a3.body, e = a3.userAgent, f = this.getTrackingUrl(c), g = e ? _defineProperty({}, _constants.Header.UserAgent, e) : void 0, h = d || _constants.UrlEventType.Activity + _constants.UrlParameter.Nonce + _utilities.Utilities.getNonce(), b3.prev = 4, b3.next = 7, this.requestDispatcher.track({ url: f, headers: g, body: h });
                case 7:
                  return i = b3.sent, b3.abrupt("return", (0, _tsRes.Ok)(i));
                case 11:
                  return b3.prev = 11, b3.t0 = b3["catch"](4), b3.abrupt("return", (0, _tsRes.Err)(b3.t0));
                case 14:
                case "end":
                  return b3.stop();
              }
          }, b2, this, [[4, 11]]);
        }));
        return a2;
      }() }, { key: "getTrackingUrl", value: function getTrackingUrl(a2) {
        var b = this.packageInfo, c = b.type, d = b.version;
        return _constants.URL.VISIT_EVENT + this.siteCode + _constants.UrlParameter.VisitorCode + a2 + _constants.UrlParameter.SdkName + c.toLowerCase() + _constants.UrlParameter.SdkVersion + d;
      } }]), a;
    }();
    exports.Requester = Requester;
  }
});

// node_modules/@kameleoon/javascript-sdk-core/dist/requester/types.js
var require_types5 = __commonJS({
  "node_modules/@kameleoon/javascript-sdk-core/dist/requester/types.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true }), exports.HttpMethod = void 0;
    var HttpMethod = function(a) {
      return a.Get = "GET", a.Post = "POST", a;
    }({});
    exports.HttpMethod = HttpMethod;
  }
});

// node_modules/@kameleoon/javascript-sdk-core/dist/requester/index.js
var require_requester2 = __commonJS({
  "node_modules/@kameleoon/javascript-sdk-core/dist/requester/index.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true }), Object.defineProperty(exports, "GetClientConfigurationResultType", { enumerable: true, get: function get() {
      return _types.GetClientConfigurationResultType;
    } }), Object.defineProperty(exports, "GetVisitorDataResultType", { enumerable: true, get: function get() {
      return _types.GetVisitorDataResultType;
    } }), Object.defineProperty(exports, "Header", { enumerable: true, get: function get() {
      return _constants.Header;
    } }), Object.defineProperty(exports, "HttpMethod", { enumerable: true, get: function get() {
      return _types.HttpMethod;
    } }), Object.defineProperty(exports, "IExternalRequestDispatcher", { enumerable: true, get: function get() {
      return _types.IExternalRequestDispatcher;
    } }), Object.defineProperty(exports, "Requester", { enumerable: true, get: function get() {
      return _requester.Requester;
    } }), Object.defineProperty(exports, "TrackDataParamsType", { enumerable: true, get: function get() {
      return _types.TrackDataParamsType;
    } }), Object.defineProperty(exports, "TrackExperimentParamsType", { enumerable: true, get: function get() {
      return _types.TrackExperimentParamsType;
    } }), Object.defineProperty(exports, "TrackParametersType", { enumerable: true, get: function get() {
      return _types.TrackParametersType;
    } }), Object.defineProperty(exports, "URL", { enumerable: true, get: function get() {
      return _constants.URL;
    } }), Object.defineProperty(exports, "UrlEventType", { enumerable: true, get: function get() {
      return _constants.UrlEventType;
    } }), Object.defineProperty(exports, "UrlParameter", { enumerable: true, get: function get() {
      return _constants.UrlParameter;
    } }), Object.defineProperty(exports, "UrlQuery", { enumerable: true, get: function get() {
      return _constants.UrlQuery;
    } }), Object.defineProperty(exports, "VisitType", { enumerable: true, get: function get() {
      return _types.VisitType;
    } });
    var _requester = require_requester();
    var _constants = require_constants4();
    var _types = require_types5();
  }
});

// node_modules/@kameleoon/javascript-sdk-core/dist/kameleoonData/types.js
var require_types6 = __commonJS({
  "node_modules/@kameleoon/javascript-sdk-core/dist/kameleoonData/types.js"(exports) {
    "use strict";
    var _BrowserIndexMap;
    Object.defineProperty(exports, "__esModule", { value: true }), exports.KameleoonData = exports.DeviceType = exports.BrowserType = exports.BrowserIndexMap = void 0;
    function _typeof(a) {
      "@babel/helpers - typeof";
      return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(a2) {
        return typeof a2;
      } : function(a2) {
        return a2 && "function" == typeof Symbol && a2.constructor === Symbol && a2 !== Symbol.prototype ? "symbol" : typeof a2;
      }, _typeof(a);
    }
    function _defineProperty(a, b, c) {
      return b = _toPropertyKey(b), b in a ? Object.defineProperty(a, b, { value: c, enumerable: true, configurable: true, writable: true }) : a[b] = c, a;
    }
    function _toPropertyKey(a) {
      var b = _toPrimitive(a, "string");
      return "symbol" === _typeof(b) ? b : b + "";
    }
    function _toPrimitive(a, b) {
      if ("object" !== _typeof(a) || null === a)
        return a;
      var c = a[Symbol.toPrimitive];
      if (c !== void 0) {
        var d = c.call(a, b || "default");
        if ("object" !== _typeof(d))
          return d;
        throw new TypeError("@@toPrimitive must return a primitive value.");
      }
      return ("string" === b ? String : Number)(a);
    }
    var KameleoonData = function(a) {
      return a.CustomData = "customData", a.PageView = "pageView", a.Browser = "browser", a.Conversion = "conversion", a.Device = "device", a.UserAgent = "userAgent", a;
    }({});
    exports.KameleoonData = KameleoonData;
    var DeviceType = function(a) {
      return a.Phone = "PHONE", a.Tablet = "TABLET", a.Desktop = "DESKTOP", a;
    }({});
    exports.DeviceType = DeviceType;
    var BrowserType = function(a) {
      return a.Chrome = "CHROME", a.InternetExplorer = "IE", a.Firefox = "FIREFOX", a.Safari = "SAFARI", a.Opera = "OPERA", a.Other = "OTHER", a;
    }({});
    exports.BrowserType = BrowserType;
    var BrowserIndexMap = (_BrowserIndexMap = {}, _defineProperty(_BrowserIndexMap, BrowserType.Chrome, 0), _defineProperty(_BrowserIndexMap, BrowserType.InternetExplorer, 1), _defineProperty(_BrowserIndexMap, BrowserType.Firefox, 2), _defineProperty(_BrowserIndexMap, BrowserType.Safari, 3), _defineProperty(_BrowserIndexMap, BrowserType.Opera, 4), _defineProperty(_BrowserIndexMap, BrowserType.Other, 5), _BrowserIndexMap);
    exports.BrowserIndexMap = BrowserIndexMap;
  }
});

// node_modules/@kameleoon/javascript-sdk-core/dist/kameleoonData/customData.js
var require_customData = __commonJS({
  "node_modules/@kameleoon/javascript-sdk-core/dist/kameleoonData/customData.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true }), exports.CustomData = void 0;
    var _requester = require_requester2();
    var _utilities = require_utilities2();
    var _types = require_types6();
    function _typeof(a) {
      "@babel/helpers - typeof";
      return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(a2) {
        return typeof a2;
      } : function(a2) {
        return a2 && "function" == typeof Symbol && a2.constructor === Symbol && a2 !== Symbol.prototype ? "symbol" : typeof a2;
      }, _typeof(a);
    }
    function _toConsumableArray(a) {
      return _arrayWithoutHoles(a) || _iterableToArray(a) || _unsupportedIterableToArray(a) || _nonIterableSpread();
    }
    function _nonIterableSpread() {
      throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
    }
    function _unsupportedIterableToArray(a, b) {
      if (a) {
        if ("string" == typeof a)
          return _arrayLikeToArray(a, b);
        var c = Object.prototype.toString.call(a).slice(8, -1);
        return "Object" === c && a.constructor && (c = a.constructor.name), "Map" === c || "Set" === c ? Array.from(a) : "Arguments" === c || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c) ? _arrayLikeToArray(a, b) : void 0;
      }
    }
    function _iterableToArray(a) {
      if ("undefined" != typeof Symbol && null != a[Symbol.iterator] || null != a["@@iterator"])
        return Array.from(a);
    }
    function _arrayWithoutHoles(a) {
      if (Array.isArray(a))
        return _arrayLikeToArray(a);
    }
    function _arrayLikeToArray(a, b) {
      (null == b || b > a.length) && (b = a.length);
      for (var c = 0, d = Array(b); c < b; c++)
        d[c] = a[c];
      return d;
    }
    function _classCallCheck(a, b) {
      if (!(a instanceof b))
        throw new TypeError("Cannot call a class as a function");
    }
    function _defineProperties(a, b) {
      for (var c, d = 0; d < b.length; d++)
        c = b[d], c.enumerable = c.enumerable || false, c.configurable = true, "value" in c && (c.writable = true), Object.defineProperty(a, _toPropertyKey(c.key), c);
    }
    function _createClass(a, b, c) {
      return b && _defineProperties(a.prototype, b), c && _defineProperties(a, c), Object.defineProperty(a, "prototype", { writable: false }), a;
    }
    function _defineProperty(a, b, c) {
      return b = _toPropertyKey(b), b in a ? Object.defineProperty(a, b, { value: c, enumerable: true, configurable: true, writable: true }) : a[b] = c, a;
    }
    function _toPropertyKey(a) {
      var b = _toPrimitive(a, "string");
      return "symbol" === _typeof(b) ? b : b + "";
    }
    function _toPrimitive(a, b) {
      if ("object" !== _typeof(a) || null === a)
        return a;
      var c = a[Symbol.toPrimitive];
      if (c !== void 0) {
        var d = c.call(a, b || "default");
        if ("object" !== _typeof(d))
          return d;
        throw new TypeError("@@toPrimitive must return a primitive value.");
      }
      return ("string" === b ? String : Number)(a);
    }
    var CustomData = function() {
      function a(b) {
        _classCallCheck(this, a), _defineProperty(this, "index", void 0), _defineProperty(this, "value", void 0), _defineProperty(this, "nonce", void 0), this.index = b;
        for (var c = arguments.length, d = Array(1 < c ? c - 1 : 0), e = 1; e < c; e++)
          d[e - 1] = arguments[e];
        this.value = d, this.nonce = _utilities.Utilities.getNonce();
      }
      return _createClass(a, [{
        key: "url",
        get: function get() {
          if ("number" != typeof this.index)
            return "";
          var a2 = _toConsumableArray(new Set(this.value)), b = {};
          return a2.forEach(function(a3) {
            b[a3] = 1;
          }), Object.keys(b).length ? _requester.UrlEventType.CustomData + _requester.UrlParameter.Index + this.index + _requester.UrlParameter.ValuesCountMap + encodeURIComponent(JSON.stringify(b)) + _requester.UrlParameter.Overwrite + "true" + _requester.UrlParameter.Nonce + this.nonce : "";
        }
        /**
        * @property data - data of the current class instance
        * */
      }, { key: "data", get: function get() {
        return { index: this.index, value: this.value, type: _types.KameleoonData.CustomData, nonce: this.nonce };
      } }]), a;
    }();
    exports.CustomData = CustomData;
  }
});

// node_modules/@kameleoon/javascript-sdk-core/dist/kameleoonData/conversion.js
var require_conversion = __commonJS({
  "node_modules/@kameleoon/javascript-sdk-core/dist/kameleoonData/conversion.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true }), exports.Conversion = void 0;
    var _requester = require_requester2();
    var _utilities = require_utilities2();
    var _types = require_types6();
    function _typeof(a) {
      "@babel/helpers - typeof";
      return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(a2) {
        return typeof a2;
      } : function(a2) {
        return a2 && "function" == typeof Symbol && a2.constructor === Symbol && a2 !== Symbol.prototype ? "symbol" : typeof a2;
      }, _typeof(a);
    }
    function _classCallCheck(a, b) {
      if (!(a instanceof b))
        throw new TypeError("Cannot call a class as a function");
    }
    function _defineProperties(a, b) {
      for (var c, d = 0; d < b.length; d++)
        c = b[d], c.enumerable = c.enumerable || false, c.configurable = true, "value" in c && (c.writable = true), Object.defineProperty(a, _toPropertyKey(c.key), c);
    }
    function _createClass(a, b, c) {
      return b && _defineProperties(a.prototype, b), c && _defineProperties(a, c), Object.defineProperty(a, "prototype", { writable: false }), a;
    }
    function _defineProperty(a, b, c) {
      return b = _toPropertyKey(b), b in a ? Object.defineProperty(a, b, { value: c, enumerable: true, configurable: true, writable: true }) : a[b] = c, a;
    }
    function _toPropertyKey(a) {
      var b = _toPrimitive(a, "string");
      return "symbol" === _typeof(b) ? b : b + "";
    }
    function _toPrimitive(a, b) {
      if ("object" !== _typeof(a) || null === a)
        return a;
      var c = a[Symbol.toPrimitive];
      if (c !== void 0) {
        var d = c.call(a, b || "default");
        if ("object" !== _typeof(d))
          return d;
        throw new TypeError("@@toPrimitive must return a primitive value.");
      }
      return ("string" === b ? String : Number)(a);
    }
    var Conversion = function() {
      function a(b) {
        var c = b.goalId, d = b.revenue, e = void 0 === d ? 0 : d, f = b.negative;
        _classCallCheck(this, a), _defineProperty(this, "goalId", void 0), _defineProperty(this, "revenue", void 0), _defineProperty(this, "negative", void 0), _defineProperty(this, "nonce", void 0), this.goalId = c, this.revenue = e, this.negative = void 0 !== f && f, this.nonce = _utilities.Utilities.getNonce();
      }
      return _createClass(a, [{
        key: "url",
        get: function get() {
          return this.goalId ? _requester.UrlEventType.Conversion + _requester.UrlParameter.GoalId + (this.goalId + "") + _requester.UrlParameter.Revenue + (this.revenue + "") + _requester.UrlParameter.Negative + (this.negative + "") + _requester.UrlParameter.Nonce + this.nonce : "";
        }
        /**
        * @property data - data of the current class instance
        * */
      }, { key: "data", get: function get() {
        return { goalId: this.goalId, revenue: this.revenue, negative: this.negative, type: _types.KameleoonData.Conversion, nonce: this.nonce };
      } }]), a;
    }();
    exports.Conversion = Conversion;
  }
});

// node_modules/@kameleoon/javascript-sdk-core/dist/kameleoonData/device.js
var require_device = __commonJS({
  "node_modules/@kameleoon/javascript-sdk-core/dist/kameleoonData/device.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true }), exports.Device = void 0;
    var _requester = require_requester2();
    var _utilities = require_utilities2();
    var _types = require_types6();
    function _typeof(a) {
      "@babel/helpers - typeof";
      return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(a2) {
        return typeof a2;
      } : function(a2) {
        return a2 && "function" == typeof Symbol && a2.constructor === Symbol && a2 !== Symbol.prototype ? "symbol" : typeof a2;
      }, _typeof(a);
    }
    function _classCallCheck(a, b) {
      if (!(a instanceof b))
        throw new TypeError("Cannot call a class as a function");
    }
    function _defineProperties(a, b) {
      for (var c, d = 0; d < b.length; d++)
        c = b[d], c.enumerable = c.enumerable || false, c.configurable = true, "value" in c && (c.writable = true), Object.defineProperty(a, _toPropertyKey(c.key), c);
    }
    function _createClass(a, b, c) {
      return b && _defineProperties(a.prototype, b), c && _defineProperties(a, c), Object.defineProperty(a, "prototype", { writable: false }), a;
    }
    function _defineProperty(a, b, c) {
      return b = _toPropertyKey(b), b in a ? Object.defineProperty(a, b, { value: c, enumerable: true, configurable: true, writable: true }) : a[b] = c, a;
    }
    function _toPropertyKey(a) {
      var b = _toPrimitive(a, "string");
      return "symbol" === _typeof(b) ? b : b + "";
    }
    function _toPrimitive(a, b) {
      if ("object" !== _typeof(a) || null === a)
        return a;
      var c = a[Symbol.toPrimitive];
      if (c !== void 0) {
        var d = c.call(a, b || "default");
        if ("object" !== _typeof(d))
          return d;
        throw new TypeError("@@toPrimitive must return a primitive value.");
      }
      return ("string" === b ? String : Number)(a);
    }
    var Device = function() {
      function a(b) {
        _classCallCheck(this, a), _defineProperty(this, "device", void 0), _defineProperty(this, "nonce", void 0), this.device = b, this.nonce = _utilities.Utilities.getNonce();
      }
      return _createClass(a, [{
        key: "url",
        get: function get() {
          return this.device ? _requester.UrlEventType.StaticData + _requester.UrlParameter.DeviceType + this.device + _requester.UrlParameter.Nonce + this.nonce : "";
        }
        /**
        * @property data - data of the current class instance
        * */
      }, { key: "data", get: function get() {
        return { device: this.device, type: _types.KameleoonData.Device, nonce: this.nonce };
      } }]), a;
    }();
    exports.Device = Device;
  }
});

// node_modules/@kameleoon/javascript-sdk-core/dist/kameleoonData/browser.js
var require_browser = __commonJS({
  "node_modules/@kameleoon/javascript-sdk-core/dist/kameleoonData/browser.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true }), exports.Browser = void 0;
    var _requester = require_requester2();
    var _utilities = require_utilities2();
    var _types = require_types6();
    function _typeof(a) {
      "@babel/helpers - typeof";
      return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(a2) {
        return typeof a2;
      } : function(a2) {
        return a2 && "function" == typeof Symbol && a2.constructor === Symbol && a2 !== Symbol.prototype ? "symbol" : typeof a2;
      }, _typeof(a);
    }
    function _classCallCheck(a, b) {
      if (!(a instanceof b))
        throw new TypeError("Cannot call a class as a function");
    }
    function _defineProperties(a, b) {
      for (var c, d = 0; d < b.length; d++)
        c = b[d], c.enumerable = c.enumerable || false, c.configurable = true, "value" in c && (c.writable = true), Object.defineProperty(a, _toPropertyKey(c.key), c);
    }
    function _createClass(a, b, c) {
      return b && _defineProperties(a.prototype, b), c && _defineProperties(a, c), Object.defineProperty(a, "prototype", { writable: false }), a;
    }
    function _defineProperty(a, b, c) {
      return b = _toPropertyKey(b), b in a ? Object.defineProperty(a, b, { value: c, enumerable: true, configurable: true, writable: true }) : a[b] = c, a;
    }
    function _toPropertyKey(a) {
      var b = _toPrimitive(a, "string");
      return "symbol" === _typeof(b) ? b : b + "";
    }
    function _toPrimitive(a, b) {
      if ("object" !== _typeof(a) || null === a)
        return a;
      var c = a[Symbol.toPrimitive];
      if (c !== void 0) {
        var d = c.call(a, b || "default");
        if ("object" !== _typeof(d))
          return d;
        throw new TypeError("@@toPrimitive must return a primitive value.");
      }
      return ("string" === b ? String : Number)(a);
    }
    var Browser = function() {
      function a(b, c) {
        _classCallCheck(this, a), _defineProperty(this, "browser", void 0), _defineProperty(this, "nonce", void 0), _defineProperty(this, "version", void 0), this.browser = b, this.version = c, this.nonce = _utilities.Utilities.getNonce();
      }
      return _createClass(a, [{
        key: "url",
        get: function get() {
          if (!this.browser)
            return "";
          var a2 = this.version ? _requester.UrlParameter.BrowserVersion + this.version : "";
          return _requester.UrlEventType.StaticData + _requester.UrlParameter.BrowserIndex + _types.BrowserIndexMap[this.browser] + a2 + _requester.UrlParameter.Nonce + this.nonce;
        }
        /**
        * @property data - data of the current class instance
        * */
      }, { key: "data", get: function get() {
        return { browser: this.browser, type: _types.KameleoonData.Browser, version: this.version, nonce: this.nonce };
      } }]), a;
    }();
    exports.Browser = Browser;
  }
});

// node_modules/@kameleoon/javascript-sdk-core/dist/kameleoonData/pageView.js
var require_pageView = __commonJS({
  "node_modules/@kameleoon/javascript-sdk-core/dist/kameleoonData/pageView.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true }), exports.PageView = void 0;
    var _requester = require_requester2();
    var _utilities = require_utilities2();
    var _types = require_types6();
    function _typeof(a) {
      "@babel/helpers - typeof";
      return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(a2) {
        return typeof a2;
      } : function(a2) {
        return a2 && "function" == typeof Symbol && a2.constructor === Symbol && a2 !== Symbol.prototype ? "symbol" : typeof a2;
      }, _typeof(a);
    }
    function _classCallCheck(a, b) {
      if (!(a instanceof b))
        throw new TypeError("Cannot call a class as a function");
    }
    function _defineProperties(a, b) {
      for (var c, d = 0; d < b.length; d++)
        c = b[d], c.enumerable = c.enumerable || false, c.configurable = true, "value" in c && (c.writable = true), Object.defineProperty(a, _toPropertyKey(c.key), c);
    }
    function _createClass(a, b, c) {
      return b && _defineProperties(a.prototype, b), c && _defineProperties(a, c), Object.defineProperty(a, "prototype", { writable: false }), a;
    }
    function _defineProperty(a, b, c) {
      return b = _toPropertyKey(b), b in a ? Object.defineProperty(a, b, { value: c, enumerable: true, configurable: true, writable: true }) : a[b] = c, a;
    }
    function _toPropertyKey(a) {
      var b = _toPrimitive(a, "string");
      return "symbol" === _typeof(b) ? b : b + "";
    }
    function _toPrimitive(a, b) {
      if ("object" !== _typeof(a) || null === a)
        return a;
      var c = a[Symbol.toPrimitive];
      if (c !== void 0) {
        var d = c.call(a, b || "default");
        if ("object" !== _typeof(d))
          return d;
        throw new TypeError("@@toPrimitive must return a primitive value.");
      }
      return ("string" === b ? String : Number)(a);
    }
    var PageView = function() {
      function a(b) {
        var c = b.urlAddress, d = b.title, e = b.referrers;
        _classCallCheck(this, a), _defineProperty(this, "urlAddress", void 0), _defineProperty(this, "title", void 0), _defineProperty(this, "nonce", void 0), _defineProperty(this, "referrers", void 0), this.urlAddress = c, this.title = d, this.referrers = e, this.nonce = _utilities.Utilities.getNonce();
      }
      return _createClass(a, [{
        key: "url",
        get: function get() {
          var a2;
          if (!this.urlAddress)
            return "";
          var b = this.title ? _requester.UrlParameter.Title + encodeURIComponent(this.title) : "", c = null !== (a2 = this.referrers) && void 0 !== a2 && a2.length ? _requester.UrlParameter.ReferrersIndices + JSON.stringify(this.referrers) : "";
          return _requester.UrlEventType.Page + _requester.UrlParameter.Href + encodeURIComponent(this.urlAddress) + b + c + _requester.UrlParameter.Nonce + this.nonce;
        }
        /**
        * @property data - data of the current class instance
        * */
      }, { key: "data", get: function get() {
        return { urlAddress: this.urlAddress, title: this.title, referrers: this.referrers, type: _types.KameleoonData.PageView, nonce: this.nonce };
      } }]), a;
    }();
    exports.PageView = PageView;
  }
});

// node_modules/@kameleoon/javascript-sdk-core/dist/kameleoonData/userAgent.js
var require_userAgent = __commonJS({
  "node_modules/@kameleoon/javascript-sdk-core/dist/kameleoonData/userAgent.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true }), exports.UserAgent = void 0;
    var _utilities = require_utilities2();
    var _types = require_types6();
    function _typeof(a) {
      "@babel/helpers - typeof";
      return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(a2) {
        return typeof a2;
      } : function(a2) {
        return a2 && "function" == typeof Symbol && a2.constructor === Symbol && a2 !== Symbol.prototype ? "symbol" : typeof a2;
      }, _typeof(a);
    }
    function _classCallCheck(a, b) {
      if (!(a instanceof b))
        throw new TypeError("Cannot call a class as a function");
    }
    function _defineProperties(a, b) {
      for (var c, d = 0; d < b.length; d++)
        c = b[d], c.enumerable = c.enumerable || false, c.configurable = true, "value" in c && (c.writable = true), Object.defineProperty(a, _toPropertyKey(c.key), c);
    }
    function _createClass(a, b, c) {
      return b && _defineProperties(a.prototype, b), c && _defineProperties(a, c), Object.defineProperty(a, "prototype", { writable: false }), a;
    }
    function _defineProperty(a, b, c) {
      return b = _toPropertyKey(b), b in a ? Object.defineProperty(a, b, { value: c, enumerable: true, configurable: true, writable: true }) : a[b] = c, a;
    }
    function _toPropertyKey(a) {
      var b = _toPrimitive(a, "string");
      return "symbol" === _typeof(b) ? b : b + "";
    }
    function _toPrimitive(a, b) {
      if ("object" !== _typeof(a) || null === a)
        return a;
      var c = a[Symbol.toPrimitive];
      if (c !== void 0) {
        var d = c.call(a, b || "default");
        if ("object" !== _typeof(d))
          return d;
        throw new TypeError("@@toPrimitive must return a primitive value.");
      }
      return ("string" === b ? String : Number)(a);
    }
    var UserAgent = function() {
      function a(b) {
        _classCallCheck(this, a), _defineProperty(this, "value", void 0), _defineProperty(this, "nonce", void 0), this.value = b, this.nonce = _utilities.Utilities.getNonce();
      }
      return _createClass(a, [{
        key: "url",
        get: function get() {
          return "";
        }
        /**
        * @property data - data of the current class instance
        * */
      }, { key: "data", get: function get() {
        return { value: this.value, type: _types.KameleoonData.UserAgent, nonce: this.nonce };
      } }]), a;
    }();
    exports.UserAgent = UserAgent;
  }
});

// node_modules/@kameleoon/javascript-sdk-core/dist/kameleoonData/index.js
var require_kameleoonData = __commonJS({
  "node_modules/@kameleoon/javascript-sdk-core/dist/kameleoonData/index.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true }), Object.defineProperty(exports, "Browser", { enumerable: true, get: function get() {
      return _browser.Browser;
    } }), Object.defineProperty(exports, "BrowserDataType", { enumerable: true, get: function get() {
      return _types.BrowserDataType;
    } }), Object.defineProperty(exports, "BrowserIndexMap", { enumerable: true, get: function get() {
      return _types.BrowserIndexMap;
    } }), Object.defineProperty(exports, "BrowserType", { enumerable: true, get: function get() {
      return _types.BrowserType;
    } }), Object.defineProperty(exports, "Conversion", { enumerable: true, get: function get() {
      return _conversion.Conversion;
    } }), Object.defineProperty(exports, "ConversionDataType", { enumerable: true, get: function get() {
      return _types.ConversionDataType;
    } }), Object.defineProperty(exports, "ConversionParametersType", { enumerable: true, get: function get() {
      return _types.ConversionParametersType;
    } }), Object.defineProperty(exports, "CustomData", { enumerable: true, get: function get() {
      return _customData.CustomData;
    } }), Object.defineProperty(exports, "CustomDataType", { enumerable: true, get: function get() {
      return _types.CustomDataType;
    } }), Object.defineProperty(exports, "Device", { enumerable: true, get: function get() {
      return _device.Device;
    } }), Object.defineProperty(exports, "DeviceDataType", { enumerable: true, get: function get() {
      return _types.DeviceDataType;
    } }), Object.defineProperty(exports, "DeviceType", { enumerable: true, get: function get() {
      return _types.DeviceType;
    } }), Object.defineProperty(exports, "KameleoonData", { enumerable: true, get: function get() {
      return _types.KameleoonData;
    } }), Object.defineProperty(exports, "KameleoonDataItemType", { enumerable: true, get: function get() {
      return _types.KameleoonDataItemType;
    } }), Object.defineProperty(exports, "KameleoonDataType", { enumerable: true, get: function get() {
      return _types.KameleoonDataType;
    } }), Object.defineProperty(exports, "PageView", { enumerable: true, get: function get() {
      return _pageView.PageView;
    } }), Object.defineProperty(exports, "PageViewDataType", { enumerable: true, get: function get() {
      return _types.PageViewDataType;
    } }), Object.defineProperty(exports, "PageViewParametersType", { enumerable: true, get: function get() {
      return _types.PageViewParametersType;
    } }), Object.defineProperty(exports, "UserAgent", { enumerable: true, get: function get() {
      return _userAgent.UserAgent;
    } }), Object.defineProperty(exports, "UserAgentDataType", { enumerable: true, get: function get() {
      return _types.UserAgentDataType;
    } });
    var _customData = require_customData();
    var _conversion = require_conversion();
    var _device = require_device();
    var _browser = require_browser();
    var _pageView = require_pageView();
    var _userAgent = require_userAgent();
    var _types = require_types6();
  }
});

// node_modules/@kameleoon/javascript-sdk-core/dist/targeting/conditions/deviceCondition.js
var require_deviceCondition = __commonJS({
  "node_modules/@kameleoon/javascript-sdk-core/dist/targeting/conditions/deviceCondition.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true }), exports.DeviceCondition = void 0;
    var _tsRes = require_build();
    var _kameleoonData = require_kameleoonData();
    function _typeof(a) {
      "@babel/helpers - typeof";
      return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(a2) {
        return typeof a2;
      } : function(a2) {
        return a2 && "function" == typeof Symbol && a2.constructor === Symbol && a2 !== Symbol.prototype ? "symbol" : typeof a2;
      }, _typeof(a);
    }
    function _classCallCheck(a, b) {
      if (!(a instanceof b))
        throw new TypeError("Cannot call a class as a function");
    }
    function _defineProperties(a, b) {
      for (var c, d = 0; d < b.length; d++)
        c = b[d], c.enumerable = c.enumerable || false, c.configurable = true, "value" in c && (c.writable = true), Object.defineProperty(a, _toPropertyKey(c.key), c);
    }
    function _createClass(a, b, c) {
      return b && _defineProperties(a.prototype, b), c && _defineProperties(a, c), Object.defineProperty(a, "prototype", { writable: false }), a;
    }
    function _defineProperty(a, b, c) {
      return b = _toPropertyKey(b), b in a ? Object.defineProperty(a, b, { value: c, enumerable: true, configurable: true, writable: true }) : a[b] = c, a;
    }
    function _toPropertyKey(a) {
      var b = _toPrimitive(a, "string");
      return "symbol" === _typeof(b) ? b : b + "";
    }
    function _toPrimitive(a, b) {
      if ("object" !== _typeof(a) || null === a)
        return a;
      var c = a[Symbol.toPrimitive];
      if (c !== void 0) {
        var d = c.call(a, b || "default");
        if ("object" !== _typeof(d))
          return d;
        throw new TypeError("@@toPrimitive must return a primitive value.");
      }
      return ("string" === b ? String : Number)(a);
    }
    var DeviceCondition = function() {
      function a(b) {
        var c = b.device;
        _classCallCheck(this, a), _defineProperty(this, "device", void 0), this.device = c;
      }
      return _createClass(a, [{ key: "evaluate", value: function evaluate(a2) {
        var b = a2.targetingData, c = null === b || void 0 === b ? void 0 : b[_kameleoonData.KameleoonData.Device];
        if (c) {
          var d = c.device;
          return (0, _tsRes.Ok)(d === this.device);
        }
        return (0, _tsRes.Ok)(false);
      } }]), a;
    }();
    exports.DeviceCondition = DeviceCondition;
  }
});

// node_modules/@kameleoon/javascript-sdk-core/dist/targeting/types.js
var require_types7 = __commonJS({
  "node_modules/@kameleoon/javascript-sdk-core/dist/targeting/types.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true }), exports.VersionMatchType = exports.TargetingType = exports.Operator = exports.MatchTypeVariation = exports.MatchTypeTest = exports.MatchTypeCustomData = exports.MatchType = void 0;
    var Operator = function(a) {
      return a.And = "AND", a.Or = "OR", a;
    }({});
    exports.Operator = Operator;
    var MatchTypeCustomData = function(a) {
      return a.TRUE = "TRUE", a.FALSE = "FALSE", a.EXACT = "EXACT", a.CONTAINS = "CONTAINS", a.REGULAR_EXPRESSION = "REGULAR_EXPRESSION", a.EQUAL = "EQUAL", a.LOWER = "LOWER", a.GREATER = "GREATER", a.UNDEFINED = "UNDEFINED", a.AMONG_VALUES = "AMONG_VALUES", a;
    }({});
    exports.MatchTypeCustomData = MatchTypeCustomData;
    var MatchTypeVariation = function(a) {
      return a.ANY = "ANY", a.EXACT = "EXACT", a;
    }({});
    exports.MatchTypeVariation = MatchTypeVariation;
    var MatchTypeTest = function(a) {
      return a.ALL = "ALL", a.TEST = "TEST", a.PERSO = "PERSO", a;
    }({});
    exports.MatchTypeTest = MatchTypeTest;
    var MatchType = function(a) {
      return a.EXACT = "EXACT", a.CONTAINS = "CONTAINS", a.REGULAR_EXPRESSION = "REGULAR_EXPRESSION", a;
    }({});
    exports.MatchType = MatchType;
    var VersionMatchType = function(a) {
      return a.GREATER = "GREATER", a.EQUAL = "EQUAL", a.LOWER = "LOWER", a;
    }({});
    exports.VersionMatchType = VersionMatchType;
    var TargetingType = function(a) {
      return a.PAGE_URL = "PAGE_URL", a.PAGE_TITLE = "PAGE_TITLE", a.LANDING_PAGE = "LANDING_PAGE", a.ORIGIN = "ORIGIN", a.ORIGIN_TYPE = "ORIGIN_TYPE", a.REFERRERS = "REFERRERS", a.NEW_VISITORS = "NEW_VISITORS", a.INTERESTS = "INTERESTS", a.BROWSER_LANGUAGE = "BROWSER_LANGUAGE", a.GEOLOCATION = "GEOLOCATION", a.DEVICE_TYPE = "DEVICE_TYPE", a.SCREEN_DIMENSION = "SCREEN_DIMENSION", a.VISITOR_IP = "VISITOR_IP", a.AD_BLOCKER = "AD_BLOCKER", a.PREVIOUS_PAGE = "PREVIOUS_PAGE", a.KEY_PAGES = "KEY_PAGES", a.PAGE_VIEWS = "PAGE_VIEWS", a.FIRST_VISIT = "FIRST_VISIT", a.LAST_VISIT = "LAST_VISIT", a.ACTIVE_SESSION = "ACTIVE_SESSION", a.TIME_SINCE_PAGE_LOAD = "TIME_SINCE_PAGE_LOAD", a.SAME_DAY_VISITS = "SAME_DAY_VISITS", a.VISITS = "VISITS", a.VISITS_BY_PAGE = "VISITS_BY_PAGE", a.VISITOR_CODE = "VISITOR_CODE", a.SDK_LANGUAGE = "SDK_LANGUAGE", a.INTERNAL_SEARCH_KEYWORDS = "INTERNAL_SEARCH_KEYWORDS", a.TABS_ON_SITE = "TABS_ON_SITE", a.CONVERSION_PROBABILITY = "CONVERSION_PROBABILITY", a.HEAT_SLICE = "HEAT_SLICE", a.SKY_STATUS = "SKY_STATUS", a.TEMPERATURE = "TEMPERATURE", a.DAY_NIGHT = "DAY_NIGHT", a.FORECAST_SKY_STATUS = "FORECAST_SKY_STATUS", a.FORECAST_TEMPERATURE = "FORECAST_TEMPERATURE", a.DAY_OF_WEEK = "DAY_OF_WEEK", a.TIME_RANGE = "TIME_RANGE", a.HOUR_MINUTE_RANGE = "HOUR_MINUTE_RANGE", a.JS_CODE = "JS_CODE", a.COOKIE = "COOKIE", a.EVENT = "EVENT", a.BROWSER = "BROWSER", a.OPERATING_SYSTEM = "OPERATING_SYSTEM", a.DOM_ELEMENT = "DOM_ELEMENT", a.MOUSE_OUT = "MOUSE_OUT", a.TARGET_EXPERIMENT = "TARGET_EXPERIMENT", a.TARGET_PERSONALIZATION = "TARGET_PERSONALIZATION", a.EXCLUSIVE_EXPERIMENT = "EXCLUSIVE_EXPERIMENT", a.CONVERSIONS = "CONVERSIONS", a.CUSTOM_DATUM = "CUSTOM_DATUM", a.YSANCE_SEGMENT = "YSANCE_SEGMENT", a.YSANCE_ATTRIBUT = "YSANCE_ATTRIBUT", a.TEALIUM_BADGE = "TEALIUM_BADGE", a.TEALIUM_AUDIENCE = "TEALIUM_AUDIENCE", a.PRICE_OF_DISPLAYED_PAGE = "PRICE_OF_DISPLAYED_PAGE", a.NUMBER_OF_VISITED_PAGES = "NUMBER_OF_VISITED_PAGES", a.VISITED_PAGES = "VISITED_PAGES", a.CUSTOM = "CUSTOM", a.EXPLICIT_TRIGGER = "EXPLICIT_TRIGGER", a;
    }({});
    exports.TargetingType = TargetingType;
  }
});

// node_modules/@kameleoon/javascript-sdk-core/dist/targeting/conditions/browserCondition.js
var require_browserCondition = __commonJS({
  "node_modules/@kameleoon/javascript-sdk-core/dist/targeting/conditions/browserCondition.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true }), exports.BrowserCondition = void 0;
    var _tsRes = require_build();
    var _kameleoonData = require_kameleoonData();
    var _kameleoonError = require_kameleoonError2();
    var _types = require_types7();
    function _typeof(a) {
      "@babel/helpers - typeof";
      return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(a2) {
        return typeof a2;
      } : function(a2) {
        return a2 && "function" == typeof Symbol && a2.constructor === Symbol && a2 !== Symbol.prototype ? "symbol" : typeof a2;
      }, _typeof(a);
    }
    function _classCallCheck(a, b) {
      if (!(a instanceof b))
        throw new TypeError("Cannot call a class as a function");
    }
    function _defineProperties(a, b) {
      for (var c, d = 0; d < b.length; d++)
        c = b[d], c.enumerable = c.enumerable || false, c.configurable = true, "value" in c && (c.writable = true), Object.defineProperty(a, _toPropertyKey(c.key), c);
    }
    function _createClass(a, b, c) {
      return b && _defineProperties(a.prototype, b), c && _defineProperties(a, c), Object.defineProperty(a, "prototype", { writable: false }), a;
    }
    function _defineProperty(a, b, c) {
      return b = _toPropertyKey(b), b in a ? Object.defineProperty(a, b, { value: c, enumerable: true, configurable: true, writable: true }) : a[b] = c, a;
    }
    function _toPropertyKey(a) {
      var b = _toPrimitive(a, "string");
      return "symbol" === _typeof(b) ? b : b + "";
    }
    function _toPrimitive(a, b) {
      if ("object" !== _typeof(a) || null === a)
        return a;
      var c = a[Symbol.toPrimitive];
      if (c !== void 0) {
        var d = c.call(a, b || "default");
        if ("object" !== _typeof(d))
          return d;
        throw new TypeError("@@toPrimitive must return a primitive value.");
      }
      return ("string" === b ? String : Number)(a);
    }
    var BrowserCondition = function() {
      function a(b) {
        var c = b.browser, d = b.version, e = b.versionMatchType;
        _classCallCheck(this, a), _defineProperty(this, "browser", void 0), _defineProperty(this, "version", void 0), _defineProperty(this, "versionMatchType", void 0), _defineProperty(this, "error", void 0), this.browser = c, this.version = d, this.versionMatchType = e;
      }
      return _createClass(a, [{ key: "evaluate", value: function evaluate(a2) {
        var b = a2.targetingData, c = null === b || void 0 === b ? void 0 : b[_kameleoonData.KameleoonData.Browser];
        if (c) {
          var d = this.checkCondition(c);
          return this.error ? (0, _tsRes.Err)(this.error) : (0, _tsRes.Ok)(d);
        }
        return (0, _tsRes.Ok)(false);
      } }, { key: "checkCondition", value: function checkCondition(a2) {
        var b = a2.browser, c = a2.version;
        if ("string" != typeof this.browser)
          return false;
        if ("string" != typeof this.version)
          return b === this.browser;
        if (!this.versionMatchType || "number" != typeof c)
          return false;
        var d = parseFloat(this.version);
        switch (isNaN(d) && (this.error = new _kameleoonError.KameleoonError(_kameleoonError.KameleoonException.VersionParse, this.version)), this.versionMatchType) {
          case _types.VersionMatchType.EQUAL:
            return b === this.browser && c === d;
          case _types.VersionMatchType.GREATER:
            return b === this.browser && c > d;
          case _types.VersionMatchType.LOWER:
            return b === this.browser && c < d;
          default:
            (0, _kameleoonError.exhaustCheck)(this.versionMatchType);
        }
      } }]), a;
    }();
    exports.BrowserCondition = BrowserCondition;
  }
});

// node_modules/@kameleoon/javascript-sdk-core/dist/targeting/conditions/conversionCondition.js
var require_conversionCondition = __commonJS({
  "node_modules/@kameleoon/javascript-sdk-core/dist/targeting/conditions/conversionCondition.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true }), exports.ConversionCondition = void 0;
    var _tsRes = require_build();
    var _kameleoonData = require_kameleoonData();
    function _typeof(a) {
      "@babel/helpers - typeof";
      return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(a2) {
        return typeof a2;
      } : function(a2) {
        return a2 && "function" == typeof Symbol && a2.constructor === Symbol && a2 !== Symbol.prototype ? "symbol" : typeof a2;
      }, _typeof(a);
    }
    function _classCallCheck(a, b) {
      if (!(a instanceof b))
        throw new TypeError("Cannot call a class as a function");
    }
    function _defineProperties(a, b) {
      for (var c, d = 0; d < b.length; d++)
        c = b[d], c.enumerable = c.enumerable || false, c.configurable = true, "value" in c && (c.writable = true), Object.defineProperty(a, _toPropertyKey(c.key), c);
    }
    function _createClass(a, b, c) {
      return b && _defineProperties(a.prototype, b), c && _defineProperties(a, c), Object.defineProperty(a, "prototype", { writable: false }), a;
    }
    function _defineProperty(a, b, c) {
      return b = _toPropertyKey(b), b in a ? Object.defineProperty(a, b, { value: c, enumerable: true, configurable: true, writable: true }) : a[b] = c, a;
    }
    function _toPropertyKey(a) {
      var b = _toPrimitive(a, "string");
      return "symbol" === _typeof(b) ? b : b + "";
    }
    function _toPrimitive(a, b) {
      if ("object" !== _typeof(a) || null === a)
        return a;
      var c = a[Symbol.toPrimitive];
      if (c !== void 0) {
        var d = c.call(a, b || "default");
        if ("object" !== _typeof(d))
          return d;
        throw new TypeError("@@toPrimitive must return a primitive value.");
      }
      return ("string" === b ? String : Number)(a);
    }
    var ConversionCondition = function() {
      function a(b) {
        var c = b.goalId;
        _classCallCheck(this, a), _defineProperty(this, "conditionValue", void 0), this.conditionValue = c;
      }
      return _createClass(a, [{ key: "evaluate", value: function evaluate(a2) {
        var b = a2.targetingData, c = null === b || void 0 === b ? void 0 : b[_kameleoonData.KameleoonData.Conversion];
        if (c) {
          var d = c.goalId;
          return (0, _tsRes.Ok)(this.checkCondition(d));
        }
        return (0, _tsRes.Ok)(false);
      } }, { key: "checkCondition", value: function checkCondition(a2) {
        return !!this.conditionValue && (-1 === this.conditionValue || a2 === this.conditionValue);
      } }]), a;
    }();
    exports.ConversionCondition = ConversionCondition;
  }
});

// node_modules/@kameleoon/javascript-sdk-core/dist/targeting/conditions/customDataCondition.js
var require_customDataCondition = __commonJS({
  "node_modules/@kameleoon/javascript-sdk-core/dist/targeting/conditions/customDataCondition.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true }), exports.CustomDataCondition = void 0;
    var _tsRes = require_build();
    var _kameleoonData = require_kameleoonData();
    var _kameleoonError = require_kameleoonError2();
    var _utilities = require_utilities2();
    var _types = require_types7();
    function _typeof(a) {
      "@babel/helpers - typeof";
      return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(a2) {
        return typeof a2;
      } : function(a2) {
        return a2 && "function" == typeof Symbol && a2.constructor === Symbol && a2 !== Symbol.prototype ? "symbol" : typeof a2;
      }, _typeof(a);
    }
    function _classCallCheck(a, b) {
      if (!(a instanceof b))
        throw new TypeError("Cannot call a class as a function");
    }
    function _defineProperties(a, b) {
      for (var c, d = 0; d < b.length; d++)
        c = b[d], c.enumerable = c.enumerable || false, c.configurable = true, "value" in c && (c.writable = true), Object.defineProperty(a, _toPropertyKey(c.key), c);
    }
    function _createClass(a, b, c) {
      return b && _defineProperties(a.prototype, b), c && _defineProperties(a, c), Object.defineProperty(a, "prototype", { writable: false }), a;
    }
    function _defineProperty(a, b, c) {
      return b = _toPropertyKey(b), b in a ? Object.defineProperty(a, b, { value: c, enumerable: true, configurable: true, writable: true }) : a[b] = c, a;
    }
    function _toPropertyKey(a) {
      var b = _toPrimitive(a, "string");
      return "symbol" === _typeof(b) ? b : b + "";
    }
    function _toPrimitive(a, b) {
      if ("object" !== _typeof(a) || null === a)
        return a;
      var c = a[Symbol.toPrimitive];
      if (c !== void 0) {
        var d = c.call(a, b || "default");
        if ("object" !== _typeof(d))
          return d;
        throw new TypeError("@@toPrimitive must return a primitive value.");
      }
      return ("string" === b ? String : Number)(a);
    }
    var CustomDataCondition = function() {
      function a(b) {
        var c = b.customDataIndex, d = b.valueMatchType, e = b.value;
        _classCallCheck(this, a), _defineProperty(this, "customDataIndex", void 0), _defineProperty(this, "matchType", void 0), _defineProperty(this, "conditionValue", void 0), _defineProperty(this, "error", void 0), this.customDataIndex = c ? +c : null, this.matchType = d, this.conditionValue = e;
      }
      return _createClass(a, [{ key: "evaluate", value: function evaluate(a2) {
        var b = a2.targetingData;
        if ("number" == typeof this.customDataIndex) {
          var c, d = null === b || void 0 === b || null === (c = b[_kameleoonData.KameleoonData.CustomData]) || void 0 === c ? void 0 : c[this.customDataIndex];
          if (d) {
            var e = d.value, f = this.checkCondition(e);
            return this.error ? (0, _tsRes.Err)(this.error) : (0, _tsRes.Ok)(f);
          }
        }
        return (0, _tsRes.Ok)(this.matchType === _types.MatchTypeCustomData.UNDEFINED);
      } }, { key: "checkCondition", value: function checkCondition(a2) {
        var b = this;
        if ("string" != typeof this.conditionValue && this.matchType !== _types.MatchTypeCustomData.TRUE && this.matchType !== _types.MatchTypeCustomData.FALSE)
          return false;
        var c = this.conditionValue;
        if (this.matchType === _types.MatchTypeCustomData.AMONG_VALUES) {
          var d = this.parseArray(c);
          if (!d.ok)
            return this.error = d.error, false;
          var e = new Set(d.data);
          return Array.isArray(a2) ? a2.some(function(a3) {
            return e.has(a3);
          }) : d.data.includes(a2);
        }
        if (Array.isArray(a2))
          return a2.some(function(a3) {
            return b.checkCondition(a3);
          });
        switch (this.matchType) {
          case _types.MatchTypeCustomData.CONTAINS:
            return a2.includes(c);
          case _types.MatchTypeCustomData.EXACT:
            return a2 === this.conditionValue;
          case _types.MatchTypeCustomData.REGULAR_EXPRESSION:
            return _utilities.Utilities.parseRegExp(c).test(a2);
          case _types.MatchTypeCustomData.LOWER:
            return +a2 < +this.conditionValue;
          case _types.MatchTypeCustomData.EQUAL:
            return +a2 === +this.conditionValue;
          case _types.MatchTypeCustomData.GREATER:
            return +a2 > +this.conditionValue;
          case _types.MatchTypeCustomData.TRUE:
            return "true" === a2.toLowerCase();
          case _types.MatchTypeCustomData.FALSE:
            return "false" === a2.toLowerCase();
          default:
            return false;
        }
      } }, { key: "parseArray", value: function parseArray(a2) {
        try {
          var b = JSON.parse(a2);
          if (Array.isArray(b))
            return (0, _tsRes.Ok)(b);
        } catch (b2) {
          return (0, _tsRes.Err)(new _kameleoonError.KameleoonError(_kameleoonError.KameleoonException.AmongValuesCheck, b2, a2));
        }
        return (0, _tsRes.Ok)([]);
      } }]), a;
    }();
    exports.CustomDataCondition = CustomDataCondition;
  }
});

// node_modules/@kameleoon/javascript-sdk-core/dist/targeting/conditions/exclusiveExperimentCondition.js
var require_exclusiveExperimentCondition = __commonJS({
  "node_modules/@kameleoon/javascript-sdk-core/dist/targeting/conditions/exclusiveExperimentCondition.js"(exports) {
    "use strict";
    var _tsRes = require_build();
    Object.defineProperty(exports, "__esModule", { value: true }), exports.ExclusiveExperimentCondition = void 0;
    function _typeof(a) {
      "@babel/helpers - typeof";
      return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(a2) {
        return typeof a2;
      } : function(a2) {
        return a2 && "function" == typeof Symbol && a2.constructor === Symbol && a2 !== Symbol.prototype ? "symbol" : typeof a2;
      }, _typeof(a);
    }
    function _classCallCheck(a, b) {
      if (!(a instanceof b))
        throw new TypeError("Cannot call a class as a function");
    }
    function _defineProperties(a, b) {
      for (var c, d = 0; d < b.length; d++)
        c = b[d], c.enumerable = c.enumerable || false, c.configurable = true, "value" in c && (c.writable = true), Object.defineProperty(a, _toPropertyKey(c.key), c);
    }
    function _createClass(a, b, c) {
      return b && _defineProperties(a.prototype, b), c && _defineProperties(a, c), Object.defineProperty(a, "prototype", { writable: false }), a;
    }
    function _toPropertyKey(a) {
      var b = _toPrimitive(a, "string");
      return "symbol" === _typeof(b) ? b : b + "";
    }
    function _toPrimitive(a, b) {
      if ("object" !== _typeof(a) || null === a)
        return a;
      var c = a[Symbol.toPrimitive];
      if (c !== void 0) {
        var d = c.call(a, b || "default");
        if ("object" !== _typeof(d))
          return d;
        throw new TypeError("@@toPrimitive must return a primitive value.");
      }
      return ("string" === b ? String : Number)(a);
    }
    var ExclusiveExperimentCondition = function() {
      function a() {
        _classCallCheck(this, a);
      }
      return _createClass(a, [{ key: "evaluate", value: function evaluate(a2) {
        var b = a2.experimentId, c = a2.variationData, d = Object.keys(c), e = !d.length, f = 1 === d.length && d[0] === b + "";
        return (0, _tsRes.Ok)(e || f);
      } }]), a;
    }();
    exports.ExclusiveExperimentCondition = ExclusiveExperimentCondition;
  }
});

// node_modules/@kameleoon/javascript-sdk-core/dist/targeting/conditions/pageTitleCondition.js
var require_pageTitleCondition = __commonJS({
  "node_modules/@kameleoon/javascript-sdk-core/dist/targeting/conditions/pageTitleCondition.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true }), exports.PageTitleCondition = void 0;
    var _tsRes = require_build();
    var _kameleoonData = require_kameleoonData();
    var _kameleoonError = require_kameleoonError2();
    var _utilities = require_utilities2();
    var _types = require_types7();
    function _typeof(a) {
      "@babel/helpers - typeof";
      return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(a2) {
        return typeof a2;
      } : function(a2) {
        return a2 && "function" == typeof Symbol && a2.constructor === Symbol && a2 !== Symbol.prototype ? "symbol" : typeof a2;
      }, _typeof(a);
    }
    function _classCallCheck(a, b) {
      if (!(a instanceof b))
        throw new TypeError("Cannot call a class as a function");
    }
    function _defineProperties(a, b) {
      for (var c, d = 0; d < b.length; d++)
        c = b[d], c.enumerable = c.enumerable || false, c.configurable = true, "value" in c && (c.writable = true), Object.defineProperty(a, _toPropertyKey(c.key), c);
    }
    function _createClass(a, b, c) {
      return b && _defineProperties(a.prototype, b), c && _defineProperties(a, c), Object.defineProperty(a, "prototype", { writable: false }), a;
    }
    function _defineProperty(a, b, c) {
      return b = _toPropertyKey(b), b in a ? Object.defineProperty(a, b, { value: c, enumerable: true, configurable: true, writable: true }) : a[b] = c, a;
    }
    function _toPropertyKey(a) {
      var b = _toPrimitive(a, "string");
      return "symbol" === _typeof(b) ? b : b + "";
    }
    function _toPrimitive(a, b) {
      if ("object" !== _typeof(a) || null === a)
        return a;
      var c = a[Symbol.toPrimitive];
      if (c !== void 0) {
        var d = c.call(a, b || "default");
        if ("object" !== _typeof(d))
          return d;
        throw new TypeError("@@toPrimitive must return a primitive value.");
      }
      return ("string" === b ? String : Number)(a);
    }
    var PageTitleCondition = function() {
      function a(b) {
        var c = b.matchType, d = b.title;
        _classCallCheck(this, a), _defineProperty(this, "matchType", void 0), _defineProperty(this, "conditionValue", void 0), this.matchType = c, this.conditionValue = d;
      }
      return _createClass(a, [{ key: "evaluate", value: function evaluate(a2) {
        var b = a2.targetingData, c = null === b || void 0 === b ? void 0 : b[_kameleoonData.KameleoonData.PageView];
        if (c) {
          var d = c.title;
          return (0, _tsRes.Ok)(this.checkCondition(d));
        }
        return (0, _tsRes.Ok)(false);
      } }, { key: "checkCondition", value: function checkCondition(a2) {
        if (!this.matchType || !this.conditionValue)
          return false;
        switch (this.matchType) {
          case _types.MatchType.CONTAINS:
            return a2.includes(this.conditionValue);
          case _types.MatchType.EXACT:
            return a2 === this.conditionValue;
          case _types.MatchType.REGULAR_EXPRESSION:
            return _utilities.Utilities.parseRegExp(this.conditionValue).test(a2);
          default:
            (0, _kameleoonError.exhaustCheck)(this.matchType);
        }
      } }]), a;
    }();
    exports.PageTitleCondition = PageTitleCondition;
  }
});

// node_modules/@kameleoon/javascript-sdk-core/dist/targeting/conditions/pageUrlCondition.js
var require_pageUrlCondition = __commonJS({
  "node_modules/@kameleoon/javascript-sdk-core/dist/targeting/conditions/pageUrlCondition.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true }), exports.PageUrlCondition = void 0;
    var _tsRes = require_build();
    var _kameleoonData = require_kameleoonData();
    var _kameleoonError = require_kameleoonError2();
    var _utilities = require_utilities2();
    var _types = require_types7();
    function _typeof(a) {
      "@babel/helpers - typeof";
      return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(a2) {
        return typeof a2;
      } : function(a2) {
        return a2 && "function" == typeof Symbol && a2.constructor === Symbol && a2 !== Symbol.prototype ? "symbol" : typeof a2;
      }, _typeof(a);
    }
    function _classCallCheck(a, b) {
      if (!(a instanceof b))
        throw new TypeError("Cannot call a class as a function");
    }
    function _defineProperties(a, b) {
      for (var c, d = 0; d < b.length; d++)
        c = b[d], c.enumerable = c.enumerable || false, c.configurable = true, "value" in c && (c.writable = true), Object.defineProperty(a, _toPropertyKey(c.key), c);
    }
    function _createClass(a, b, c) {
      return b && _defineProperties(a.prototype, b), c && _defineProperties(a, c), Object.defineProperty(a, "prototype", { writable: false }), a;
    }
    function _defineProperty(a, b, c) {
      return b = _toPropertyKey(b), b in a ? Object.defineProperty(a, b, { value: c, enumerable: true, configurable: true, writable: true }) : a[b] = c, a;
    }
    function _toPropertyKey(a) {
      var b = _toPrimitive(a, "string");
      return "symbol" === _typeof(b) ? b : b + "";
    }
    function _toPrimitive(a, b) {
      if ("object" !== _typeof(a) || null === a)
        return a;
      var c = a[Symbol.toPrimitive];
      if (c !== void 0) {
        var d = c.call(a, b || "default");
        if ("object" !== _typeof(d))
          return d;
        throw new TypeError("@@toPrimitive must return a primitive value.");
      }
      return ("string" === b ? String : Number)(a);
    }
    var PageUrlCondition = function() {
      function a(b) {
        var c = b.matchType, d = b.url;
        _classCallCheck(this, a), _defineProperty(this, "matchType", void 0), _defineProperty(this, "conditionValue", void 0), this.matchType = c, this.conditionValue = d;
      }
      return _createClass(a, [{ key: "evaluate", value: function evaluate(a2) {
        var b = a2.targetingData, c = null === b || void 0 === b ? void 0 : b[_kameleoonData.KameleoonData.PageView];
        if (c) {
          var d = c.urlAddress;
          return (0, _tsRes.Ok)(this.checkCondition(d));
        }
        return (0, _tsRes.Ok)(false);
      } }, { key: "checkCondition", value: function checkCondition(a2) {
        if (!this.matchType || !this.conditionValue)
          return false;
        switch (this.matchType) {
          case _types.MatchType.CONTAINS:
            return a2.includes(this.conditionValue);
          case _types.MatchType.EXACT:
            return a2 === this.conditionValue;
          case _types.MatchType.REGULAR_EXPRESSION:
            return _utilities.Utilities.parseRegExp(this.conditionValue).test(a2);
          default:
            (0, _kameleoonError.exhaustCheck)(this.matchType);
        }
      } }]), a;
    }();
    exports.PageUrlCondition = PageUrlCondition;
  }
});

// node_modules/@kameleoon/javascript-sdk-core/dist/targeting/conditions/sdkLanguageCondition.js
var require_sdkLanguageCondition = __commonJS({
  "node_modules/@kameleoon/javascript-sdk-core/dist/targeting/conditions/sdkLanguageCondition.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true }), exports.SdkLanguageCondition = void 0;
    var _tsRes = require_build();
    var _kameleoonError = require_kameleoonError2();
    var _types = require_types7();
    function _typeof(a) {
      "@babel/helpers - typeof";
      return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(a2) {
        return typeof a2;
      } : function(a2) {
        return a2 && "function" == typeof Symbol && a2.constructor === Symbol && a2 !== Symbol.prototype ? "symbol" : typeof a2;
      }, _typeof(a);
    }
    function _slicedToArray(a, b) {
      return _arrayWithHoles(a) || _iterableToArrayLimit(a, b) || _unsupportedIterableToArray(a, b) || _nonIterableRest();
    }
    function _nonIterableRest() {
      throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
    }
    function _unsupportedIterableToArray(a, b) {
      if (a) {
        if ("string" == typeof a)
          return _arrayLikeToArray(a, b);
        var c = Object.prototype.toString.call(a).slice(8, -1);
        return "Object" === c && a.constructor && (c = a.constructor.name), "Map" === c || "Set" === c ? Array.from(a) : "Arguments" === c || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c) ? _arrayLikeToArray(a, b) : void 0;
      }
    }
    function _arrayLikeToArray(a, b) {
      (null == b || b > a.length) && (b = a.length);
      for (var c = 0, d = Array(b); c < b; c++)
        d[c] = a[c];
      return d;
    }
    function _iterableToArrayLimit(a, b) {
      var c = null == a ? null : "undefined" != typeof Symbol && a[Symbol.iterator] || a["@@iterator"];
      if (null != c) {
        var d, e, f, g, h = [], i = true, j = false;
        try {
          if (f = (c = c.call(a)).next, 0 === b) {
            if (Object(c) !== c)
              return;
            i = false;
          } else
            for (; !(i = (d = f.call(c)).done) && (h.push(d.value), h.length !== b); i = true)
              ;
        } catch (a2) {
          j = true, e = a2;
        } finally {
          try {
            if (!i && null != c.return && (g = c.return(), Object(g) !== g))
              return;
          } finally {
            if (j)
              throw e;
          }
        }
        return h;
      }
    }
    function _arrayWithHoles(a) {
      if (Array.isArray(a))
        return a;
    }
    function _classCallCheck(a, b) {
      if (!(a instanceof b))
        throw new TypeError("Cannot call a class as a function");
    }
    function _defineProperties(a, b) {
      for (var c, d = 0; d < b.length; d++)
        c = b[d], c.enumerable = c.enumerable || false, c.configurable = true, "value" in c && (c.writable = true), Object.defineProperty(a, _toPropertyKey(c.key), c);
    }
    function _createClass(a, b, c) {
      return b && _defineProperties(a.prototype, b), c && _defineProperties(a, c), Object.defineProperty(a, "prototype", { writable: false }), a;
    }
    function _defineProperty(a, b, c) {
      return b = _toPropertyKey(b), b in a ? Object.defineProperty(a, b, { value: c, enumerable: true, configurable: true, writable: true }) : a[b] = c, a;
    }
    function _toPropertyKey(a) {
      var b = _toPrimitive(a, "string");
      return "symbol" === _typeof(b) ? b : b + "";
    }
    function _toPrimitive(a, b) {
      if ("object" !== _typeof(a) || null === a)
        return a;
      var c = a[Symbol.toPrimitive];
      if (c !== void 0) {
        var d = c.call(a, b || "default");
        if ("object" !== _typeof(d))
          return d;
        throw new TypeError("@@toPrimitive must return a primitive value.");
      }
      return ("string" === b ? String : Number)(a);
    }
    var SdkLanguageCondition = function() {
      function a(b) {
        var c = b.sdkLanguage, d = b.version, e = b.versionMatchType;
        _classCallCheck(this, a), _defineProperty(this, "sdkLanguage", void 0), _defineProperty(this, "conditionValue", void 0), _defineProperty(this, "versionMatchType", void 0), _defineProperty(this, "error", void 0), this.sdkLanguage = c, this.conditionValue = d, this.versionMatchType = e;
      }
      return _createClass(a, [{ key: "evaluate", value: function evaluate(a2) {
        var b = a2.sdkInfo, c = this.checkCondition(b);
        return this.error ? (0, _tsRes.Err)(this.error) : (0, _tsRes.Ok)(c);
      } }, { key: "checkCondition", value: function checkCondition(a2) {
        var b = a2.type, c = a2.version;
        return !!this.sdkLanguage && ("string" == typeof this.conditionValue ? !!this.versionMatchType && b === this.sdkLanguage && this.compareSemVer({ version: c, compareVersion: this.conditionValue, operator: this.versionMatchType }) : b === this.sdkLanguage);
      } }, { key: "compareSemVer", value: function compareSemVer(a2) {
        var b = a2.version, c = a2.compareVersion, d = a2.operator, e = this.validateVersion(b), f = _slicedToArray(e, 3), g = f[0], h = f[1], i = f[2], j = this.validateVersion(c), k = _slicedToArray(j, 3), l = k[0], m = k[1], n = k[2], o = g === l, p = h === m;
        switch (d) {
          case _types.VersionMatchType.EQUAL:
            return o && p && i === n;
          case _types.VersionMatchType.GREATER:
            return g > l || o && h > m || o && p && i > n;
          case _types.VersionMatchType.LOWER:
            return g < l || o && h < m || o && p && i < n;
          default:
            (0, _kameleoonError.exhaustCheck)(d);
        }
      } }, { key: "validateVersion", value: function validateVersion(a2) {
        var b = a2.split(".");
        return b.some(function isBadVersion(a3) {
          return isNaN(parseInt(a3)) || 0 === a3.length;
        }) || 3 !== b.length ? (this.error = new _kameleoonError.KameleoonError(_kameleoonError.KameleoonException.SemanticVersionParse, a2), [0, 0, 0]) : b.map(function(a3) {
          return parseInt(a3);
        });
      } }]), a;
    }();
    exports.SdkLanguageCondition = SdkLanguageCondition;
  }
});

// node_modules/@kameleoon/javascript-sdk-core/dist/targeting/conditions/targetExperimentCondition.js
var require_targetExperimentCondition = __commonJS({
  "node_modules/@kameleoon/javascript-sdk-core/dist/targeting/conditions/targetExperimentCondition.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true }), exports.TargetExperimentCondition = void 0;
    var _tsRes = require_build();
    var _types = require_types7();
    function _typeof(a) {
      "@babel/helpers - typeof";
      return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(a2) {
        return typeof a2;
      } : function(a2) {
        return a2 && "function" == typeof Symbol && a2.constructor === Symbol && a2 !== Symbol.prototype ? "symbol" : typeof a2;
      }, _typeof(a);
    }
    function _classCallCheck(a, b) {
      if (!(a instanceof b))
        throw new TypeError("Cannot call a class as a function");
    }
    function _defineProperties(a, b) {
      for (var c, d = 0; d < b.length; d++)
        c = b[d], c.enumerable = c.enumerable || false, c.configurable = true, "value" in c && (c.writable = true), Object.defineProperty(a, _toPropertyKey(c.key), c);
    }
    function _createClass(a, b, c) {
      return b && _defineProperties(a.prototype, b), c && _defineProperties(a, c), Object.defineProperty(a, "prototype", { writable: false }), a;
    }
    function _defineProperty(a, b, c) {
      return b = _toPropertyKey(b), b in a ? Object.defineProperty(a, b, { value: c, enumerable: true, configurable: true, writable: true }) : a[b] = c, a;
    }
    function _toPropertyKey(a) {
      var b = _toPrimitive(a, "string");
      return "symbol" === _typeof(b) ? b : b + "";
    }
    function _toPrimitive(a, b) {
      if ("object" !== _typeof(a) || null === a)
        return a;
      var c = a[Symbol.toPrimitive];
      if (c !== void 0) {
        var d = c.call(a, b || "default");
        if ("object" !== _typeof(d))
          return d;
        throw new TypeError("@@toPrimitive must return a primitive value.");
      }
      return ("string" === b ? String : Number)(a);
    }
    var TargetExperimentCondition = function() {
      function a(b) {
        var c = b.variation, d = b.experiment, e = b.variationMatchType;
        _classCallCheck(this, a), _defineProperty(this, "experimentId", void 0), _defineProperty(this, "variationId", void 0), _defineProperty(this, "matchType", void 0), this.experimentId = d, this.variationId = c, this.matchType = e;
      }
      return _createClass(a, [{ key: "evaluate", value: function evaluate(a2) {
        var b = a2.variationData;
        if (!this.experimentId)
          return (0, _tsRes.Ok)(false);
        this.matchType !== _types.MatchTypeVariation.EXACT || this.variationId || (0, _tsRes.Ok)(false);
        var c = this.checkCondition({ variationId: this.variationId, experimentId: this.experimentId, variationData: b });
        return (0, _tsRes.Ok)(c);
      } }, { key: "checkCondition", value: function checkCondition(a2) {
        var b = a2.variationId, c = a2.experimentId, d = a2.variationData, e = d[c + ""];
        switch (this.matchType) {
          case _types.MatchTypeVariation.EXACT:
            return (null === e || void 0 === e ? void 0 : e.variationId) === b;
          case _types.MatchTypeVariation.ANY:
            return !!e;
          default:
            return false;
        }
      } }]), a;
    }();
    exports.TargetExperimentCondition = TargetExperimentCondition;
  }
});

// node_modules/@kameleoon/javascript-sdk-core/dist/targeting/conditions/visitorCodeCondition.js
var require_visitorCodeCondition = __commonJS({
  "node_modules/@kameleoon/javascript-sdk-core/dist/targeting/conditions/visitorCodeCondition.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true }), exports.VisitorCodeCondition = void 0;
    var _tsRes = require_build();
    var _kameleoonError = require_kameleoonError2();
    var _utilities = require_utilities2();
    var _types = require_types7();
    function _typeof(a) {
      "@babel/helpers - typeof";
      return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(a2) {
        return typeof a2;
      } : function(a2) {
        return a2 && "function" == typeof Symbol && a2.constructor === Symbol && a2 !== Symbol.prototype ? "symbol" : typeof a2;
      }, _typeof(a);
    }
    function _classCallCheck(a, b) {
      if (!(a instanceof b))
        throw new TypeError("Cannot call a class as a function");
    }
    function _defineProperties(a, b) {
      for (var c, d = 0; d < b.length; d++)
        c = b[d], c.enumerable = c.enumerable || false, c.configurable = true, "value" in c && (c.writable = true), Object.defineProperty(a, _toPropertyKey(c.key), c);
    }
    function _createClass(a, b, c) {
      return b && _defineProperties(a.prototype, b), c && _defineProperties(a, c), Object.defineProperty(a, "prototype", { writable: false }), a;
    }
    function _defineProperty(a, b, c) {
      return b = _toPropertyKey(b), b in a ? Object.defineProperty(a, b, { value: c, enumerable: true, configurable: true, writable: true }) : a[b] = c, a;
    }
    function _toPropertyKey(a) {
      var b = _toPrimitive(a, "string");
      return "symbol" === _typeof(b) ? b : b + "";
    }
    function _toPrimitive(a, b) {
      if ("object" !== _typeof(a) || null === a)
        return a;
      var c = a[Symbol.toPrimitive];
      if (c !== void 0) {
        var d = c.call(a, b || "default");
        if ("object" !== _typeof(d))
          return d;
        throw new TypeError("@@toPrimitive must return a primitive value.");
      }
      return ("string" === b ? String : Number)(a);
    }
    var VisitorCodeCondition = function() {
      function a(b) {
        var c = b.visitorCode, d = b.matchType;
        _classCallCheck(this, a), _defineProperty(this, "matchType", void 0), _defineProperty(this, "conditionValue", void 0), this.matchType = d, this.conditionValue = c;
      }
      return _createClass(a, [{ key: "evaluate", value: function evaluate(a2) {
        var b = a2.visitorCode;
        return (0, _tsRes.Ok)(this.checkCondition(b));
      } }, { key: "checkCondition", value: function checkCondition(a2) {
        if (!this.matchType || !this.conditionValue)
          return false;
        switch (this.matchType) {
          case _types.MatchType.CONTAINS:
            return a2.includes(this.conditionValue);
          case _types.MatchType.EXACT:
            return a2 === this.conditionValue;
          case _types.MatchType.REGULAR_EXPRESSION:
            return _utilities.Utilities.parseRegExp(this.conditionValue).test(a2);
          default:
            (0, _kameleoonError.exhaustCheck)(this.matchType);
        }
      } }]), a;
    }();
    exports.VisitorCodeCondition = VisitorCodeCondition;
  }
});

// node_modules/@kameleoon/javascript-sdk-core/dist/targeting/conditions/conditionFactory.js
var require_conditionFactory = __commonJS({
  "node_modules/@kameleoon/javascript-sdk-core/dist/targeting/conditions/conditionFactory.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true }), exports.ConditionFactory = void 0;
    var _tsRes = require_build();
    var _kameleoonError = require_kameleoonError2();
    var _types = require_types7();
    var _browserCondition = require_browserCondition();
    var _conversionCondition = require_conversionCondition();
    var _customDataCondition = require_customDataCondition();
    var _deviceCondition = require_deviceCondition();
    var _exclusiveExperimentCondition = require_exclusiveExperimentCondition();
    var _pageTitleCondition = require_pageTitleCondition();
    var _pageUrlCondition = require_pageUrlCondition();
    var _sdkLanguageCondition = require_sdkLanguageCondition();
    var _targetExperimentCondition = require_targetExperimentCondition();
    var _visitorCodeCondition = require_visitorCodeCondition();
    function _typeof(a) {
      "@babel/helpers - typeof";
      return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(a2) {
        return typeof a2;
      } : function(a2) {
        return a2 && "function" == typeof Symbol && a2.constructor === Symbol && a2 !== Symbol.prototype ? "symbol" : typeof a2;
      }, _typeof(a);
    }
    function _classCallCheck(a, b) {
      if (!(a instanceof b))
        throw new TypeError("Cannot call a class as a function");
    }
    function _defineProperties(a, b) {
      for (var c, d = 0; d < b.length; d++)
        c = b[d], c.enumerable = c.enumerable || false, c.configurable = true, "value" in c && (c.writable = true), Object.defineProperty(a, _toPropertyKey(c.key), c);
    }
    function _createClass(a, b, c) {
      return b && _defineProperties(a.prototype, b), c && _defineProperties(a, c), Object.defineProperty(a, "prototype", { writable: false }), a;
    }
    function _toPropertyKey(a) {
      var b = _toPrimitive(a, "string");
      return "symbol" === _typeof(b) ? b : b + "";
    }
    function _toPrimitive(a, b) {
      if ("object" !== _typeof(a) || null === a)
        return a;
      var c = a[Symbol.toPrimitive];
      if (c !== void 0) {
        var d = c.call(a, b || "default");
        if ("object" !== _typeof(d))
          return d;
        throw new TypeError("@@toPrimitive must return a primitive value.");
      }
      return ("string" === b ? String : Number)(a);
    }
    var ConditionFactory = function() {
      function a() {
        _classCallCheck(this, a);
      }
      return _createClass(a, null, [{ key: "createCondition", value: function createCondition(a2) {
        var b = a2.targetingType;
        return b === _types.TargetingType.CUSTOM_DATUM ? (0, _tsRes.Ok)(new _customDataCondition.CustomDataCondition(a2)) : b === _types.TargetingType.EXCLUSIVE_EXPERIMENT ? (0, _tsRes.Ok)(new _exclusiveExperimentCondition.ExclusiveExperimentCondition()) : b === _types.TargetingType.TARGET_EXPERIMENT ? (0, _tsRes.Ok)(new _targetExperimentCondition.TargetExperimentCondition(a2)) : b === _types.TargetingType.DEVICE_TYPE ? (0, _tsRes.Ok)(new _deviceCondition.DeviceCondition(a2)) : b === _types.TargetingType.BROWSER ? (0, _tsRes.Ok)(new _browserCondition.BrowserCondition(a2)) : b === _types.TargetingType.PAGE_URL ? (0, _tsRes.Ok)(new _pageUrlCondition.PageUrlCondition(a2)) : b === _types.TargetingType.PAGE_TITLE ? (0, _tsRes.Ok)(new _pageTitleCondition.PageTitleCondition(a2)) : b === _types.TargetingType.CONVERSIONS ? (0, _tsRes.Ok)(new _conversionCondition.ConversionCondition(a2)) : b === _types.TargetingType.VISITOR_CODE ? (0, _tsRes.Ok)(new _visitorCodeCondition.VisitorCodeCondition(a2)) : b === _types.TargetingType.SDK_LANGUAGE ? (0, _tsRes.Ok)(new _sdkLanguageCondition.SdkLanguageCondition(a2)) : (0, _tsRes.Err)(new _kameleoonError.KameleoonError(_kameleoonError.KameleoonException.TargetingCondition, b));
      } }]), a;
    }();
    exports.ConditionFactory = ConditionFactory;
  }
});

// node_modules/@kameleoon/javascript-sdk-core/dist/targeting/conditions/types.js
var require_types8 = __commonJS({
  "node_modules/@kameleoon/javascript-sdk-core/dist/targeting/conditions/types.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
  }
});

// node_modules/@kameleoon/javascript-sdk-core/dist/targeting/conditions/index.js
var require_conditions = __commonJS({
  "node_modules/@kameleoon/javascript-sdk-core/dist/targeting/conditions/index.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true }), Object.defineProperty(exports, "BrowserCondition", { enumerable: true, get: function get() {
      return _browserCondition.BrowserCondition;
    } }), Object.defineProperty(exports, "ConditionDataType", { enumerable: true, get: function get() {
      return _types.ConditionDataType;
    } }), Object.defineProperty(exports, "ConditionFactory", { enumerable: true, get: function get() {
      return _conditionFactory.ConditionFactory;
    } }), Object.defineProperty(exports, "ConditionType", { enumerable: true, get: function get() {
      return _types.ConditionType;
    } }), Object.defineProperty(exports, "ConversionCondition", { enumerable: true, get: function get() {
      return _conversionCondition.ConversionCondition;
    } }), Object.defineProperty(exports, "CustomDataCondition", { enumerable: true, get: function get() {
      return _customDataCondition.CustomDataCondition;
    } }), Object.defineProperty(exports, "DeviceCondition", { enumerable: true, get: function get() {
      return _deviceCondition.DeviceCondition;
    } }), Object.defineProperty(exports, "ExclusiveExperimentCondition", { enumerable: true, get: function get() {
      return _exclusiveExperimentCondition.ExclusiveExperimentCondition;
    } }), Object.defineProperty(exports, "PageTitleCondition", { enumerable: true, get: function get() {
      return _pageTitleCondition.PageTitleCondition;
    } }), Object.defineProperty(exports, "PageUrlCondition", { enumerable: true, get: function get() {
      return _pageUrlCondition.PageUrlCondition;
    } }), Object.defineProperty(exports, "SdkLanguageCondition", { enumerable: true, get: function get() {
      return _sdkLanguageCondition.SdkLanguageCondition;
    } }), Object.defineProperty(exports, "TargetExperimentCondition", { enumerable: true, get: function get() {
      return _targetExperimentCondition.TargetExperimentCondition;
    } }), Object.defineProperty(exports, "VisitorCodeCondition", { enumerable: true, get: function get() {
      return _visitorCodeCondition.VisitorCodeCondition;
    } });
    var _deviceCondition = require_deviceCondition();
    var _conditionFactory = require_conditionFactory();
    var _types = require_types8();
    var _customDataCondition = require_customDataCondition();
    var _targetExperimentCondition = require_targetExperimentCondition();
    var _exclusiveExperimentCondition = require_exclusiveExperimentCondition();
    var _browserCondition = require_browserCondition();
    var _pageUrlCondition = require_pageUrlCondition();
    var _pageTitleCondition = require_pageTitleCondition();
    var _conversionCondition = require_conversionCondition();
    var _visitorCodeCondition = require_visitorCodeCondition();
    var _sdkLanguageCondition = require_sdkLanguageCondition();
  }
});

// node_modules/@kameleoon/javascript-sdk-core/dist/targeting/targetingNode.js
var require_targetingNode = __commonJS({
  "node_modules/@kameleoon/javascript-sdk-core/dist/targeting/targetingNode.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true }), exports.TargetingNode = void 0;
    var _conditions = require_conditions();
    var _types = require_types7();
    function _typeof(a) {
      "@babel/helpers - typeof";
      return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(a2) {
        return typeof a2;
      } : function(a2) {
        return a2 && "function" == typeof Symbol && a2.constructor === Symbol && a2 !== Symbol.prototype ? "symbol" : typeof a2;
      }, _typeof(a);
    }
    function _classCallCheck(a, b) {
      if (!(a instanceof b))
        throw new TypeError("Cannot call a class as a function");
    }
    function _defineProperties(a, b) {
      for (var c, d = 0; d < b.length; d++)
        c = b[d], c.enumerable = c.enumerable || false, c.configurable = true, "value" in c && (c.writable = true), Object.defineProperty(a, _toPropertyKey(c.key), c);
    }
    function _createClass(a, b, c) {
      return b && _defineProperties(a.prototype, b), c && _defineProperties(a, c), Object.defineProperty(a, "prototype", { writable: false }), a;
    }
    function _defineProperty(a, b, c) {
      return b = _toPropertyKey(b), b in a ? Object.defineProperty(a, b, { value: c, enumerable: true, configurable: true, writable: true }) : a[b] = c, a;
    }
    function _toPropertyKey(a) {
      var b = _toPrimitive(a, "string");
      return "symbol" === _typeof(b) ? b : b + "";
    }
    function _toPrimitive(a, b) {
      if ("object" !== _typeof(a) || null === a)
        return a;
      var c = a[Symbol.toPrimitive];
      if (c !== void 0) {
        var d = c.call(a, b || "default");
        if ("object" !== _typeof(d))
          return d;
        throw new TypeError("@@toPrimitive must return a primitive value.");
      }
      return ("string" === b ? String : Number)(a);
    }
    var TargetingNode = function() {
      function a(b, c, d) {
        if (_classCallCheck(this, a), _defineProperty(this, "nodeValue", void 0), _defineProperty(this, "nodeError", void 0), _defineProperty(this, "leftChild", void 0), _defineProperty(this, "rightChild", void 0), _defineProperty(this, "inverseResult", false), this.isOperator(b))
          this.nodeValue = b;
        else {
          var e, f = _conditions.ConditionFactory.createCondition(b);
          this.inverseResult = null !== (e = b.isInclude) && void 0 !== e && !e, f.ok ? this.nodeValue = f.data : this.nodeError = f.error;
        }
        this.leftChild = c, this.rightChild = d;
      }
      return _createClass(a, [{ key: "value", get: function get() {
        return this.nodeValue;
      } }, { key: "error", get: function get() {
        return this.nodeError;
      } }, { key: "left", get: function get() {
        return this.leftChild;
      } }, { key: "right", get: function get() {
        return this.rightChild;
      } }, { key: "inverse", get: function get() {
        return this.inverseResult;
      } }, { key: "isOperator", value: function isOperator(a2) {
        return a2 === _types.Operator.And || a2 === _types.Operator.Or;
      } }]), a;
    }();
    exports.TargetingNode = TargetingNode;
  }
});

// node_modules/@kameleoon/javascript-sdk-core/dist/targeting/targetingTree.js
var require_targetingTree = __commonJS({
  "node_modules/@kameleoon/javascript-sdk-core/dist/targeting/targetingTree.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true }), exports.TargetingTree = void 0;
    var _tsRes = require_build();
    var _kameleoonError = require_kameleoonError2();
    var _targetingNode = require_targetingNode();
    var _types = require_types7();
    function _typeof(a) {
      "@babel/helpers - typeof";
      return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(a2) {
        return typeof a2;
      } : function(a2) {
        return a2 && "function" == typeof Symbol && a2.constructor === Symbol && a2 !== Symbol.prototype ? "symbol" : typeof a2;
      }, _typeof(a);
    }
    function _createForOfIteratorHelper(a, b) {
      var c = "undefined" != typeof Symbol && a[Symbol.iterator] || a["@@iterator"];
      if (!c) {
        if (Array.isArray(a) || (c = _unsupportedIterableToArray(a)) || b && a && "number" == typeof a.length) {
          c && (a = c);
          var d = 0, e = function() {
          };
          return { s: e, n: function n() {
            return d >= a.length ? { done: true } : { done: false, value: a[d++] };
          }, e: function e2(a2) {
            throw a2;
          }, f: e };
        }
        throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
      }
      var f, g = true, h = false;
      return { s: function s() {
        c = c.call(a);
      }, n: function n() {
        var a2 = c.next();
        return g = a2.done, a2;
      }, e: function e2(a2) {
        h = true, f = a2;
      }, f: function f2() {
        try {
          g || null == c.return || c.return();
        } finally {
          if (h)
            throw f2;
        }
      } };
    }
    function _unsupportedIterableToArray(a, b) {
      if (a) {
        if ("string" == typeof a)
          return _arrayLikeToArray(a, b);
        var c = Object.prototype.toString.call(a).slice(8, -1);
        return "Object" === c && a.constructor && (c = a.constructor.name), "Map" === c || "Set" === c ? Array.from(a) : "Arguments" === c || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c) ? _arrayLikeToArray(a, b) : void 0;
      }
    }
    function _arrayLikeToArray(a, b) {
      (null == b || b > a.length) && (b = a.length);
      for (var c = 0, d = Array(b); c < b; c++)
        d[c] = a[c];
      return d;
    }
    function _classCallCheck(a, b) {
      if (!(a instanceof b))
        throw new TypeError("Cannot call a class as a function");
    }
    function _defineProperties(a, b) {
      for (var c, d = 0; d < b.length; d++)
        c = b[d], c.enumerable = c.enumerable || false, c.configurable = true, "value" in c && (c.writable = true), Object.defineProperty(a, _toPropertyKey(c.key), c);
    }
    function _createClass(a, b, c) {
      return b && _defineProperties(a.prototype, b), c && _defineProperties(a, c), Object.defineProperty(a, "prototype", { writable: false }), a;
    }
    function _defineProperty(a, b, c) {
      return b = _toPropertyKey(b), b in a ? Object.defineProperty(a, b, { value: c, enumerable: true, configurable: true, writable: true }) : a[b] = c, a;
    }
    function _toPropertyKey(a) {
      var b = _toPrimitive(a, "string");
      return "symbol" === _typeof(b) ? b : b + "";
    }
    function _toPrimitive(a, b) {
      if ("object" !== _typeof(a) || null === a)
        return a;
      var c = a[Symbol.toPrimitive];
      if (c !== void 0) {
        var d = c.call(a, b || "default");
        if ("object" !== _typeof(d))
          return d;
        throw new TypeError("@@toPrimitive must return a primitive value.");
      }
      return ("string" === b ? String : Number)(a);
    }
    var TargetingTree = function() {
      function a(b) {
        var c = this;
        _classCallCheck(this, a), _defineProperty(this, "tree", void 0), _defineProperty(this, "error", null);
        var d = this.flattenSegment(b), e = d.nestedConditions, f = d.topLevelOperators, g = e.map(function(a2) {
          var b2 = a2.conditions, d2 = a2.operators, e2 = b2.map(function(a3) {
            return new _targetingNode.TargetingNode(a3);
          });
          return c.buildTree(e2, d2);
        });
        this.tree = this.buildTree(g, f);
      }
      return _createClass(a, [{ key: "evaluate", value: function evaluate(a2) {
        var b = this.evaluateNode(this.tree, a2);
        return this.error ? (0, _tsRes.Err)(this.error) : (0, _tsRes.Ok)(b);
      } }, { key: "evaluateNode", value: function evaluateNode(a2, b) {
        if (this.isLeafNode(a2)) {
          if (a2.error)
            return a2.error.type === _kameleoonError.KameleoonException.TargetingCondition;
          var c = a2.value.evaluate(b);
          return c.ok ? a2.inverse ? !c.data : c.data : (this.error = c.error, false);
        }
        if (this.isNonLeafNode(a2))
          switch (a2.value) {
            case _types.Operator.And:
              return this.evaluateNode(a2.left, b) && this.evaluateNode(a2.right, b);
            case _types.Operator.Or:
              return this.evaluateNode(a2.left, b) || this.evaluateNode(a2.right, b);
            default:
          }
        return false;
      } }, { key: "isLeafNode", value: function isLeafNode(a2) {
        return !!!(a2.left && a2.right);
      } }, {
        key: "isNonLeafNode",
        value: function isNonLeafNode(a2) {
          return !!(a2.left && a2.right && (a2.value === _types.Operator.Or || a2.value === _types.Operator.And));
        }
        // --- Note ---
        // This method mutates `nodes` array
        // It's done for the sake of performance
      }, { key: "buildTree", value: function buildTree(a2, b) {
        if (1 === a2.length)
          return a2[0];
        var c, d = _createForOfIteratorHelper(b);
        try {
          for (d.s(); !(c = d.n()).done; ) {
            var e = c.value, f = a2.shift(), g = a2.shift(), h = new _targetingNode.TargetingNode(e, f, g);
            a2.unshift(h);
          }
        } catch (a3) {
          d.e(a3);
        } finally {
          d.f();
        }
        return a2[0];
      } }, { key: "flattenSegment", value: function flattenSegment(a2) {
        var b = this, c = a2.conditionsData, d = c.firstLevel, e = c.firstLevelOrOperators, f = [];
        return d.forEach(function(a3) {
          var c2 = a3.conditions, d2 = a3.orOperators, e2 = { operators: b.convertOperators(d2), conditions: c2 };
          f.push(e2);
        }), { topLevelOperators: this.convertOperators(e), nestedConditions: f };
      } }, { key: "convertOperators", value: function convertOperators(a2) {
        return a2.map(function(a3) {
          return a3 ? _types.Operator.Or : _types.Operator.And;
        });
      } }]), a;
    }();
    exports.TargetingTree = TargetingTree;
  }
});

// node_modules/@kameleoon/javascript-sdk-core/dist/targeting/index.js
var require_targeting = __commonJS({
  "node_modules/@kameleoon/javascript-sdk-core/dist/targeting/index.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true }), Object.defineProperty(exports, "BrowserCondition", { enumerable: true, get: function get() {
      return _conditions.BrowserCondition;
    } }), Object.defineProperty(exports, "ConditionFactory", { enumerable: true, get: function get() {
      return _conditions.ConditionFactory;
    } }), Object.defineProperty(exports, "ConversionCondition", { enumerable: true, get: function get() {
      return _conditions.ConversionCondition;
    } }), Object.defineProperty(exports, "CustomDataCondition", { enumerable: true, get: function get() {
      return _conditions.CustomDataCondition;
    } }), Object.defineProperty(exports, "DeviceCondition", { enumerable: true, get: function get() {
      return _conditions.DeviceCondition;
    } }), Object.defineProperty(exports, "EvaluationDataType", { enumerable: true, get: function get() {
      return _types.EvaluationDataType;
    } }), Object.defineProperty(exports, "ExclusiveExperimentCondition", { enumerable: true, get: function get() {
      return _conditions.ExclusiveExperimentCondition;
    } }), Object.defineProperty(exports, "MatchType", { enumerable: true, get: function get() {
      return _types.MatchType;
    } }), Object.defineProperty(exports, "MatchTypeCustomData", { enumerable: true, get: function get() {
      return _types.MatchTypeCustomData;
    } }), Object.defineProperty(exports, "MatchTypeVariation", { enumerable: true, get: function get() {
      return _types.MatchTypeVariation;
    } }), Object.defineProperty(exports, "Operator", { enumerable: true, get: function get() {
      return _types.Operator;
    } }), Object.defineProperty(exports, "PageTitleCondition", { enumerable: true, get: function get() {
      return _conditions.PageTitleCondition;
    } }), Object.defineProperty(exports, "PageUrlCondition", { enumerable: true, get: function get() {
      return _conditions.PageUrlCondition;
    } }), Object.defineProperty(exports, "SdkLanguageCondition", { enumerable: true, get: function get() {
      return _conditions.SdkLanguageCondition;
    } }), Object.defineProperty(exports, "SegmentType", { enumerable: true, get: function get() {
      return _types.SegmentType;
    } }), Object.defineProperty(exports, "TargetExperimentCondition", { enumerable: true, get: function get() {
      return _conditions.TargetExperimentCondition;
    } }), Object.defineProperty(exports, "TargetingDataType", { enumerable: true, get: function get() {
      return _types.TargetingDataType;
    } }), Object.defineProperty(exports, "TargetingTree", { enumerable: true, get: function get() {
      return _targetingTree.TargetingTree;
    } }), Object.defineProperty(exports, "TargetingType", { enumerable: true, get: function get() {
      return _types.TargetingType;
    } }), Object.defineProperty(exports, "VersionMatchType", { enumerable: true, get: function get() {
      return _types.VersionMatchType;
    } }), Object.defineProperty(exports, "VisitorCodeCondition", { enumerable: true, get: function get() {
      return _conditions.VisitorCodeCondition;
    } });
    var _targetingTree = require_targetingTree();
    var _types = require_types7();
    var _conditions = require_conditions();
  }
});

// node_modules/@kameleoon/javascript-sdk-core/dist/eventSource/types.js
var require_types9 = __commonJS({
  "node_modules/@kameleoon/javascript-sdk-core/dist/eventSource/types.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
  }
});

// node_modules/@kameleoon/javascript-sdk-core/dist/eventSource/constants.js
var require_constants5 = __commonJS({
  "node_modules/@kameleoon/javascript-sdk-core/dist/eventSource/constants.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true }), exports.REAL_TIME_EVENT = void 0;
    exports.REAL_TIME_EVENT = "configuration-update-event";
  }
});

// node_modules/@kameleoon/javascript-sdk-core/dist/eventSource/externalEventSource.js
var require_externalEventSource = __commonJS({
  "node_modules/@kameleoon/javascript-sdk-core/dist/eventSource/externalEventSource.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true }), exports.ExternalEventSource = void 0;
    var _requester = require_requester2();
    var _constants = require_constants4();
    var _constants2 = require_constants5();
    function _typeof(a) {
      "@babel/helpers - typeof";
      return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(a2) {
        return typeof a2;
      } : function(a2) {
        return a2 && "function" == typeof Symbol && a2.constructor === Symbol && a2 !== Symbol.prototype ? "symbol" : typeof a2;
      }, _typeof(a);
    }
    function _classCallCheck(a, b) {
      if (!(a instanceof b))
        throw new TypeError("Cannot call a class as a function");
    }
    function _defineProperties(a, b) {
      for (var c, d = 0; d < b.length; d++)
        c = b[d], c.enumerable = c.enumerable || false, c.configurable = true, "value" in c && (c.writable = true), Object.defineProperty(a, _toPropertyKey(c.key), c);
    }
    function _createClass(a, b, c) {
      return b && _defineProperties(a.prototype, b), c && _defineProperties(a, c), Object.defineProperty(a, "prototype", { writable: false }), a;
    }
    function _defineProperty(a, b, c) {
      return b = _toPropertyKey(b), b in a ? Object.defineProperty(a, b, { value: c, enumerable: true, configurable: true, writable: true }) : a[b] = c, a;
    }
    function _toPropertyKey(a) {
      var b = _toPrimitive(a, "string");
      return "symbol" === _typeof(b) ? b : b + "";
    }
    function _toPrimitive(a, b) {
      if ("object" !== _typeof(a) || null === a)
        return a;
      var c = a[Symbol.toPrimitive];
      if (c !== void 0) {
        var d = c.call(a, b || "default");
        if ("object" !== _typeof(d))
          return d;
        throw new TypeError("@@toPrimitive must return a primitive value.");
      }
      return ("string" === b ? String : Number)(a);
    }
    var ExternalEventSource = function() {
      function a(b, c) {
        _classCallCheck(this, a), _defineProperty(this, "eventSource", void 0), _defineProperty(this, "siteCode", void 0);
        var d = _requester.URL.SERVER_SENT_EVENTS + _constants.UrlQuery.Sse + b, e = c.initialize(d);
        this.eventSource = e, this.siteCode = b;
      }
      return _createClass(a, [{ key: "open", value: function open(a2) {
        this.eventSource.open({ onEvent: a2, siteCode: this.siteCode, eventType: _constants2.REAL_TIME_EVENT });
      } }, { key: "close", value: function close() {
        this.eventSource.close();
      } }]), a;
    }();
    exports.ExternalEventSource = ExternalEventSource;
  }
});

// node_modules/@kameleoon/javascript-sdk-core/dist/eventSource/index.js
var require_eventSource = __commonJS({
  "node_modules/@kameleoon/javascript-sdk-core/dist/eventSource/index.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true }), Object.defineProperty(exports, "EventSourceOpenParametersType", { enumerable: true, get: function get() {
      return _types.EventSourceOpenParametersType;
    } }), Object.defineProperty(exports, "ExternalEventSource", { enumerable: true, get: function get() {
      return _externalEventSource.ExternalEventSource;
    } }), Object.defineProperty(exports, "IEventSource", { enumerable: true, get: function get() {
      return _externalEventSource.IEventSource;
    } }), Object.defineProperty(exports, "IExternalEventSource", { enumerable: true, get: function get() {
      return _types.IExternalEventSource;
    } }), Object.defineProperty(exports, "IExternalEventSourceConstructor", { enumerable: true, get: function get() {
      return _types.IExternalEventSourceConstructor;
    } }), Object.defineProperty(exports, "REAL_TIME_EVENT", { enumerable: true, get: function get() {
      return _constants.REAL_TIME_EVENT;
    } }), Object.defineProperty(exports, "RealTimeEventType", { enumerable: true, get: function get() {
      return _types.RealTimeEventType;
    } });
    var _types = require_types9();
    var _externalEventSource = require_externalEventSource();
    var _constants = require_constants5();
  }
});

// node_modules/@kameleoon/javascript-sdk-core/dist/campaignConfiguration/constants.js
var require_constants6 = __commonJS({
  "node_modules/@kameleoon/javascript-sdk-core/dist/campaignConfiguration/constants.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true }), exports.DEFAULT_CONFIGURATION_DATA = exports.CLEANUP_TARGETING_DATA_INTERVAL = void 0;
    exports.CLEANUP_TARGETING_DATA_INTERVAL = 30;
    var DEFAULT_CONFIGURATION_DATA = { experiments: [], featureFlags: [], customData: [], configuration: { realTimeUpdate: false } };
    exports.DEFAULT_CONFIGURATION_DATA = DEFAULT_CONFIGURATION_DATA;
  }
});

// node_modules/@kameleoon/javascript-sdk-core/dist/campaignConfiguration/campaignConfiguration.js
var require_campaignConfiguration = __commonJS({
  "node_modules/@kameleoon/javascript-sdk-core/dist/campaignConfiguration/campaignConfiguration.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true }), exports.CampaignConfiguration = void 0;
    var _tsRes = require_build();
    var _kameleoonData = require_kameleoonData();
    var _targeting = require_targeting();
    var _eventSource = require_eventSource();
    var _types = require_types();
    var _constants = require_constants6();
    var _types2 = require_types3();
    var _utilities = require_utilities2();
    var _excluded = ["customData"];
    function _typeof(a) {
      "@babel/helpers - typeof";
      return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(a2) {
        return typeof a2;
      } : function(a2) {
        return a2 && "function" == typeof Symbol && a2.constructor === Symbol && a2 !== Symbol.prototype ? "symbol" : typeof a2;
      }, _typeof(a);
    }
    function _objectWithoutProperties(a, b) {
      if (null == a)
        return {};
      var c, d, e = _objectWithoutPropertiesLoose(a, b);
      if (Object.getOwnPropertySymbols) {
        var f = Object.getOwnPropertySymbols(a);
        for (d = 0; d < f.length; d++)
          c = f[d], 0 <= b.indexOf(c) || Object.prototype.propertyIsEnumerable.call(a, c) && (e[c] = a[c]);
      }
      return e;
    }
    function _objectWithoutPropertiesLoose(a, b) {
      if (null == a)
        return {};
      var c, d, e = {}, f = Object.keys(a);
      for (d = 0; d < f.length; d++)
        c = f[d], 0 <= b.indexOf(c) || (e[c] = a[c]);
      return e;
    }
    function _slicedToArray(a, b) {
      return _arrayWithHoles(a) || _iterableToArrayLimit(a, b) || _unsupportedIterableToArray(a, b) || _nonIterableRest();
    }
    function _nonIterableRest() {
      throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
    }
    function _iterableToArrayLimit(a, b) {
      var c = null == a ? null : "undefined" != typeof Symbol && a[Symbol.iterator] || a["@@iterator"];
      if (null != c) {
        var d, e, f, g, h = [], i = true, j = false;
        try {
          if (f = (c = c.call(a)).next, 0 === b) {
            if (Object(c) !== c)
              return;
            i = false;
          } else
            for (; !(i = (d = f.call(c)).done) && (h.push(d.value), h.length !== b); i = true)
              ;
        } catch (a2) {
          j = true, e = a2;
        } finally {
          try {
            if (!i && null != c.return && (g = c.return(), Object(g) !== g))
              return;
          } finally {
            if (j)
              throw e;
          }
        }
        return h;
      }
    }
    function _arrayWithHoles(a) {
      if (Array.isArray(a))
        return a;
    }
    function _createForOfIteratorHelper(a, b) {
      var c = "undefined" != typeof Symbol && a[Symbol.iterator] || a["@@iterator"];
      if (!c) {
        if (Array.isArray(a) || (c = _unsupportedIterableToArray(a)) || b && a && "number" == typeof a.length) {
          c && (a = c);
          var d = 0, e = function() {
          };
          return { s: e, n: function n() {
            return d >= a.length ? { done: true } : { done: false, value: a[d++] };
          }, e: function e2(a2) {
            throw a2;
          }, f: e };
        }
        throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
      }
      var f, g = true, h = false;
      return { s: function s() {
        c = c.call(a);
      }, n: function n() {
        var a2 = c.next();
        return g = a2.done, a2;
      }, e: function e2(a2) {
        h = true, f = a2;
      }, f: function f2() {
        try {
          g || null == c.return || c.return();
        } finally {
          if (h)
            throw f2;
        }
      } };
    }
    function _unsupportedIterableToArray(a, b) {
      if (a) {
        if ("string" == typeof a)
          return _arrayLikeToArray(a, b);
        var c = Object.prototype.toString.call(a).slice(8, -1);
        return "Object" === c && a.constructor && (c = a.constructor.name), "Map" === c || "Set" === c ? Array.from(a) : "Arguments" === c || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c) ? _arrayLikeToArray(a, b) : void 0;
      }
    }
    function _arrayLikeToArray(a, b) {
      (null == b || b > a.length) && (b = a.length);
      for (var c = 0, d = Array(b); c < b; c++)
        d[c] = a[c];
      return d;
    }
    function ownKeys(a, b) {
      var c = Object.keys(a);
      if (Object.getOwnPropertySymbols) {
        var d = Object.getOwnPropertySymbols(a);
        b && (d = d.filter(function(b2) {
          return Object.getOwnPropertyDescriptor(a, b2).enumerable;
        })), c.push.apply(c, d);
      }
      return c;
    }
    function _objectSpread(a) {
      for (var b, c = 1; c < arguments.length; c++)
        b = null == arguments[c] ? {} : arguments[c], c % 2 ? ownKeys(Object(b), true).forEach(function(c2) {
          _defineProperty(a, c2, b[c2]);
        }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(a, Object.getOwnPropertyDescriptors(b)) : ownKeys(Object(b)).forEach(function(c2) {
          Object.defineProperty(a, c2, Object.getOwnPropertyDescriptor(b, c2));
        });
      return a;
    }
    function _regeneratorRuntime() {
      "use strict";
      function a(a2, b2, c2) {
        return Object.defineProperty(a2, b2, { value: c2, enumerable: true, configurable: true, writable: true }), a2[b2];
      }
      function b(a2, b2, c2, e2) {
        var f2 = b2 && b2.prototype instanceof d ? b2 : d, g2 = Object.create(f2.prototype), h2 = new m(e2 || []);
        return s(g2, "_invoke", { value: i(a2, c2, h2) }), g2;
      }
      function c(a2, b2, c2) {
        try {
          return { type: "normal", arg: a2.call(b2, c2) };
        } catch (a3) {
          return { type: "throw", arg: a3 };
        }
      }
      function d() {
      }
      function e() {
      }
      function f() {
      }
      function g(b2) {
        ["next", "throw", "return"].forEach(function(c2) {
          a(b2, c2, function(a2) {
            return this._invoke(c2, a2);
          });
        });
      }
      function h(a2, b2) {
        function d2(e3, f2, g2, h2) {
          var i2 = c(a2[e3], a2, f2);
          if ("throw" !== i2.type) {
            var j2 = i2.arg, k2 = j2.value;
            return k2 && "object" == _typeof(k2) && r.call(k2, "__await") ? b2.resolve(k2.__await).then(function(a3) {
              d2("next", a3, g2, h2);
            }, function(a3) {
              d2("throw", a3, g2, h2);
            }) : b2.resolve(k2).then(function(a3) {
              j2.value = a3, g2(j2);
            }, function(a3) {
              return d2("throw", a3, g2, h2);
            });
          }
          h2(i2.arg);
        }
        var e2;
        s(this, "_invoke", { value: function value(a3, c2) {
          function f2() {
            return new b2(function(b3, e3) {
              d2(a3, c2, b3, e3);
            });
          }
          return e2 = e2 ? e2.then(f2, f2) : f2();
        } });
      }
      function i(a2, b2, d2) {
        var e2 = "suspendedStart";
        return function(f2, g2) {
          if ("executing" == e2)
            throw new Error("Generator is already running");
          if ("completed" == e2) {
            if ("throw" === f2)
              throw g2;
            return o();
          }
          for (d2.method = f2, d2.arg = g2; ; ) {
            var h2 = d2.delegate;
            if (h2) {
              var i2 = j(h2, d2);
              if (i2) {
                if (i2 === x)
                  continue;
                return i2;
              }
            }
            if ("next" === d2.method)
              d2.sent = d2._sent = d2.arg;
            else if ("throw" === d2.method) {
              if ("suspendedStart" == e2)
                throw e2 = "completed", d2.arg;
              d2.dispatchException(d2.arg);
            } else
              "return" === d2.method && d2.abrupt("return", d2.arg);
            e2 = "executing";
            var k2 = c(a2, b2, d2);
            if ("normal" === k2.type) {
              if (e2 = d2.done ? "completed" : "suspendedYield", k2.arg === x)
                continue;
              return { value: k2.arg, done: d2.done };
            }
            "throw" === k2.type && (e2 = "completed", d2.method = "throw", d2.arg = k2.arg);
          }
        };
      }
      function j(a2, b2) {
        var d2 = b2.method, e2 = a2.iterator[d2];
        if (void 0 === e2)
          return b2.delegate = null, "throw" === d2 && a2.iterator.return && (b2.method = "return", b2.arg = void 0, j(a2, b2), "throw" === b2.method) || "return" !== d2 && (b2.method = "throw", b2.arg = new TypeError("The iterator does not provide a '" + d2 + "' method")), x;
        var f2 = c(e2, a2.iterator, b2.arg);
        if ("throw" === f2.type)
          return b2.method = "throw", b2.arg = f2.arg, b2.delegate = null, x;
        var g2 = f2.arg;
        return g2 ? g2.done ? (b2[a2.resultName] = g2.value, b2.next = a2.nextLoc, "return" !== b2.method && (b2.method = "next", b2.arg = void 0), b2.delegate = null, x) : g2 : (b2.method = "throw", b2.arg = new TypeError("iterator result is not an object"), b2.delegate = null, x);
      }
      function k(a2) {
        var b2 = { tryLoc: a2[0] };
        1 in a2 && (b2.catchLoc = a2[1]), 2 in a2 && (b2.finallyLoc = a2[2], b2.afterLoc = a2[3]), this.tryEntries.push(b2);
      }
      function l(a2) {
        var b2 = a2.completion || {};
        b2.type = "normal", delete b2.arg, a2.completion = b2;
      }
      function m(a2) {
        this.tryEntries = [{ tryLoc: "root" }], a2.forEach(k, this), this.reset(true);
      }
      function n(a2) {
        if (a2) {
          var b2 = a2[u];
          if (b2)
            return b2.call(a2);
          if ("function" == typeof a2.next)
            return a2;
          if (!isNaN(a2.length)) {
            var c2 = -1, d2 = function b3() {
              for (; ++c2 < a2.length; )
                if (r.call(a2, c2))
                  return b3.value = a2[c2], b3.done = false, b3;
              return b3.value = void 0, b3.done = true, b3;
            };
            return d2.next = d2;
          }
        }
        return { next: o };
      }
      function o() {
        return { value: void 0, done: true };
      }
      _regeneratorRuntime = function() {
        return p;
      };
      var p = {}, q = Object.prototype, r = q.hasOwnProperty, s = Object.defineProperty || function(a2, b2, c2) {
        a2[b2] = c2.value;
      }, t = "function" == typeof Symbol ? Symbol : {}, u = t.iterator || "@@iterator", v = t.asyncIterator || "@@asyncIterator", w = t.toStringTag || "@@toStringTag";
      try {
        a({}, "");
      } catch (b2) {
        a = function(a2, b3, c2) {
          return a2[b3] = c2;
        };
      }
      p.wrap = b;
      var x = {}, y = {};
      a(y, u, function() {
        return this;
      });
      var z = Object.getPrototypeOf, A = z && z(z(n([])));
      A && A !== q && r.call(A, u) && (y = A);
      var B = f.prototype = d.prototype = Object.create(y);
      return e.prototype = f, s(B, "constructor", { value: f, configurable: true }), s(f, "constructor", { value: e, configurable: true }), e.displayName = a(f, w, "GeneratorFunction"), p.isGeneratorFunction = function(a2) {
        var b2 = "function" == typeof a2 && a2.constructor;
        return !!b2 && (b2 === e || "GeneratorFunction" === (b2.displayName || b2.name));
      }, p.mark = function(b2) {
        return Object.setPrototypeOf ? Object.setPrototypeOf(b2, f) : (b2.__proto__ = f, a(b2, w, "GeneratorFunction")), b2.prototype = Object.create(B), b2;
      }, p.awrap = function(a2) {
        return { __await: a2 };
      }, g(h.prototype), a(h.prototype, v, function() {
        return this;
      }), p.AsyncIterator = h, p.async = function(a2, c2, d2, e2, f2) {
        void 0 === f2 && (f2 = Promise);
        var g2 = new h(b(a2, c2, d2, e2), f2);
        return p.isGeneratorFunction(c2) ? g2 : g2.next().then(function(a3) {
          return a3.done ? a3.value : g2.next();
        });
      }, g(B), a(B, w, "Generator"), a(B, u, function() {
        return this;
      }), a(B, "toString", function() {
        return "[object Generator]";
      }), p.keys = function(a2) {
        var b2 = Object(a2), c2 = [];
        for (var d2 in b2)
          c2.push(d2);
        return c2.reverse(), function a3() {
          for (; c2.length; ) {
            var d3 = c2.pop();
            if (d3 in b2)
              return a3.value = d3, a3.done = false, a3;
          }
          return a3.done = true, a3;
        };
      }, p.values = n, m.prototype = { constructor: m, reset: function reset(a2) {
        if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = false, this.delegate = null, this.method = "next", this.arg = void 0, this.tryEntries.forEach(l), !a2)
          for (var b2 in this)
            "t" === b2.charAt(0) && r.call(this, b2) && !isNaN(+b2.slice(1)) && (this[b2] = void 0);
      }, stop: function stop() {
        this.done = true;
        var a2 = this.tryEntries[0].completion;
        if ("throw" === a2.type)
          throw a2.arg;
        return this.rval;
      }, dispatchException: function dispatchException(a2) {
        function b2(b3, d3) {
          return f2.type = "throw", f2.arg = a2, c2.next = b3, d3 && (c2.method = "next", c2.arg = void 0), !!d3;
        }
        if (this.done)
          throw a2;
        for (var c2 = this, d2 = this.tryEntries.length - 1; 0 <= d2; --d2) {
          var e2 = this.tryEntries[d2], f2 = e2.completion;
          if ("root" === e2.tryLoc)
            return b2("end");
          if (e2.tryLoc <= this.prev) {
            var g2 = r.call(e2, "catchLoc"), h2 = r.call(e2, "finallyLoc");
            if (g2 && h2) {
              if (this.prev < e2.catchLoc)
                return b2(e2.catchLoc, true);
              if (this.prev < e2.finallyLoc)
                return b2(e2.finallyLoc);
            } else if (!g2) {
              if (!h2)
                throw new Error("try statement without catch or finally");
              if (this.prev < e2.finallyLoc)
                return b2(e2.finallyLoc);
            } else if (this.prev < e2.catchLoc)
              return b2(e2.catchLoc, true);
          }
        }
      }, abrupt: function abrupt(a2, b2) {
        for (var c2, d2 = this.tryEntries.length - 1; 0 <= d2; --d2)
          if (c2 = this.tryEntries[d2], c2.tryLoc <= this.prev && r.call(c2, "finallyLoc") && this.prev < c2.finallyLoc) {
            var e2 = c2;
            break;
          }
        e2 && ("break" === a2 || "continue" === a2) && e2.tryLoc <= b2 && b2 <= e2.finallyLoc && (e2 = null);
        var f2 = e2 ? e2.completion : {};
        return f2.type = a2, f2.arg = b2, e2 ? (this.method = "next", this.next = e2.finallyLoc, x) : this.complete(f2);
      }, complete: function complete(a2, b2) {
        if ("throw" === a2.type)
          throw a2.arg;
        return "break" === a2.type || "continue" === a2.type ? this.next = a2.arg : "return" === a2.type ? (this.rval = this.arg = a2.arg, this.method = "return", this.next = "end") : "normal" === a2.type && b2 && (this.next = b2), x;
      }, finish: function finish(a2) {
        for (var b2, c2 = this.tryEntries.length - 1; 0 <= c2; --c2)
          if (b2 = this.tryEntries[c2], b2.finallyLoc === a2)
            return this.complete(b2.completion, b2.afterLoc), l(b2), x;
      }, catch: function _catch(a2) {
        for (var b2, c2 = this.tryEntries.length - 1; 0 <= c2; --c2)
          if (b2 = this.tryEntries[c2], b2.tryLoc === a2) {
            var d2 = b2.completion;
            if ("throw" === d2.type) {
              var e2 = d2.arg;
              l(b2);
            }
            return e2;
          }
        throw new Error("illegal catch attempt");
      }, delegateYield: function delegateYield(a2, b2, c2) {
        return this.delegate = { iterator: n(a2), resultName: b2, nextLoc: c2 }, "next" === this.method && (this.arg = void 0), x;
      } }, p;
    }
    function asyncGeneratorStep(a, b, c, d, e, f, g) {
      try {
        var h = a[f](g), i = h.value;
      } catch (a2) {
        return void c(a2);
      }
      h.done ? b(i) : Promise.resolve(i).then(d, e);
    }
    function _asyncToGenerator(a) {
      return function() {
        var b = this, c = arguments;
        return new Promise(function(d, e) {
          function f(a2) {
            asyncGeneratorStep(h, d, e, f, g, "next", a2);
          }
          function g(a2) {
            asyncGeneratorStep(h, d, e, f, g, "throw", a2);
          }
          var h = a.apply(b, c);
          f(void 0);
        });
      };
    }
    function _classCallCheck(a, b) {
      if (!(a instanceof b))
        throw new TypeError("Cannot call a class as a function");
    }
    function _defineProperties(a, b) {
      for (var c, d = 0; d < b.length; d++)
        c = b[d], c.enumerable = c.enumerable || false, c.configurable = true, "value" in c && (c.writable = true), Object.defineProperty(a, _toPropertyKey(c.key), c);
    }
    function _createClass(a, b, c) {
      return b && _defineProperties(a.prototype, b), c && _defineProperties(a, c), Object.defineProperty(a, "prototype", { writable: false }), a;
    }
    function _defineProperty(a, b, c) {
      return b = _toPropertyKey(b), b in a ? Object.defineProperty(a, b, { value: c, enumerable: true, configurable: true, writable: true }) : a[b] = c, a;
    }
    function _toPropertyKey(a) {
      var b = _toPrimitive(a, "string");
      return "symbol" === _typeof(b) ? b : b + "";
    }
    function _toPrimitive(a, b) {
      if ("object" !== _typeof(a) || null === a)
        return a;
      var c = a[Symbol.toPrimitive];
      if (c !== void 0) {
        var d = c.call(a, b || "default");
        if ("object" !== _typeof(d))
          return d;
        throw new TypeError("@@toPrimitive must return a primitive value.");
      }
      return ("string" === b ? String : Number)(a);
    }
    var CampaignConfiguration = function() {
      function a(b) {
        var c = b.settings, d = b.storage, e = b.requester, f = b.externalClientConfiguration, g = b.targetingCleanupInterval, h = b.offlineTrackingStorage, i = b.externalEventSource;
        if (_classCallCheck(this, a), _defineProperty(this, "configurationUpdateCallback", void 0), _defineProperty(this, "updateConfigurationIntervalId", null), _defineProperty(this, "updateType", _types2.UpdateType.Idle), _defineProperty(this, "targetingDataIntervalId", null), _defineProperty(this, "unsentTargetingData", {}), _defineProperty(this, "targetingData", {}), _defineProperty(this, "targetingTrees", /* @__PURE__ */ new Map()), _defineProperty(this, "configurationData", _constants.DEFAULT_CONFIGURATION_DATA), _defineProperty(this, "settings", void 0), _defineProperty(this, "lastUpdate", void 0), _defineProperty(this, "storage", void 0), _defineProperty(this, "offlineTrackingStorage", void 0), _defineProperty(this, "requester", void 0), _defineProperty(this, "eventSource", void 0), _defineProperty(this, "externalEventSource", void 0), _defineProperty(this, "externalClientConfiguration", void 0), _defineProperty(this, "targetingDataLifetime", _constants.CLEANUP_TARGETING_DATA_INTERVAL * _types.Milliseconds.Minute), _defineProperty(this, "localCustomDataIndexes", /* @__PURE__ */ new Set()), _defineProperty(this, "persistentCustomDataIndexes", /* @__PURE__ */ new Set()), this.requester = e, this.settings = c, this.lastUpdate = /* @__PURE__ */ new Date(), this.storage = d, this.readStorageData(), this.externalClientConfiguration = f, this.offlineTrackingStorage = h, this.externalEventSource = i, g) {
          this.targetingDataLifetime = g * _types.Milliseconds.Minute;
          var j = 0 > g ? 1 : g;
          try {
            this.targetingDataIntervalId = setInterval(this.cleanupOutdatedTargetingData.bind(this), j * _types.Milliseconds.Minute);
          } catch (a2) {
            throw this.targetingDataIntervalId && clearInterval(this.targetingDataIntervalId), a2;
          }
        }
      }
      return _createClass(a, [{ key: "initialize", value: function() {
        function a2() {
          return b.apply(this, arguments);
        }
        var b = _asyncToGenerator(_regeneratorRuntime().mark(function b2(a3) {
          var c, d, e, f;
          return _regeneratorRuntime().wrap(function g(b3) {
            for (; 1; )
              switch (b3.prev = b3.next) {
                case 0:
                  if (c = !!this.externalClientConfiguration, d = this.checkShouldUpdate(c), !d) {
                    b3.next = 11;
                    break;
                  }
                  return b3.next = 5, this.updateClientConfiguration({ useCache: a3 });
                case 5:
                  if (e = b3.sent, e.ok) {
                    b3.next = 8;
                    break;
                  }
                  return b3.abrupt("return", e);
                case 8:
                  if (f = e.data, !f) {
                    b3.next = 11;
                    break;
                  }
                  return b3.abrupt("return", (0, _tsRes.Ok)());
                case 11:
                  if (!c) {
                    b3.next = 14;
                    break;
                  }
                  return this.handleExternalUpdates(), b3.abrupt("return", (0, _tsRes.Ok)());
                case 14:
                  if (this.updateType !== _types2.UpdateType.RealTime || this.eventSource) {
                    b3.next = 18;
                    break;
                  }
                  return this.updateType = _types2.UpdateType.Idle, this.handleRealTimeUpdates(a3), b3.abrupt("return", (0, _tsRes.Ok)());
                case 18:
                  return this.updateType === _types2.UpdateType.Polling && this.handlePollingUpdates(a3), b3.abrupt("return", (0, _tsRes.Ok)());
                case 20:
                case "end":
                  return b3.stop();
              }
          }, b2, this);
        }));
        return a2;
      }() }, { key: "cleanupHandlers", value: function cleanupHandlers() {
        this.eventSource && this.eventSource.close(), this.updateConfigurationIntervalId && clearInterval(this.updateConfigurationIntervalId);
      } }, { key: "handleExternalUpdates", value: function handleExternalUpdates() {
        this.cleanupHandlers();
        var a2 = this.externalClientConfiguration, b = a2.configuration, c = a2.customData, d = a2.experiments, e = a2.featureFlagConfigurations;
        this.configurationData = { customData: c, configuration: b, experiments: d, featureFlags: e };
      } }, { key: "handleRealTimeUpdates", value: function handleRealTimeUpdates(a2) {
        var b = this;
        this.cleanupHandlers(), this.eventSource = new _eventSource.ExternalEventSource(this.settings.siteCode, this.externalEventSource);
        var c = function updateEventCallback(c2) {
          b.updateClientConfiguration({ useCache: a2, timeStamp: c2 }), b.configurationUpdateCallback && b.configurationUpdateCallback();
        };
        this.eventSource.open(c);
      } }, { key: "handlePollingUpdates", value: function handlePollingUpdates(a2) {
        var b = this;
        this.cleanupHandlers();
        try {
          this.updateConfigurationIntervalId = setInterval(function() {
            return b.updateClientConfiguration.bind(b)({ useCache: a2 });
          }, this.settings.updateInterval);
        } catch (a3) {
          throw this.updateConfigurationIntervalId && clearInterval(this.updateConfigurationIntervalId), a3;
        }
      } }, { key: "addTargetingData", value: function addTargetingData(a2) {
        var b = this;
        a2 in this.targetingData || (this.targetingData[a2] = {});
        for (var c = arguments.length, d = Array(1 < c ? c - 1 : 0), e = 1; e < c; e++)
          d[e - 1] = arguments[e];
        d.forEach(function(c2) {
          if (_utilities.Utilities.isCustomData(c2)) {
            var d2 = _objectSpread(_objectSpread({}, c2.data), {}, { lastActivityTime: Date.now() }), e2 = _kameleoonData.KameleoonData.CustomData in b.targetingData[a2];
            e2 ? b.targetingData[a2][d2.type][d2.index] = d2 : b.targetingData[a2] = _objectSpread(_objectSpread({}, b.targetingData[a2]), {}, _defineProperty({}, d2.type, _objectSpread(_objectSpread({}, b.targetingData[a2][d2.type]), {}, _defineProperty({}, d2.index, d2))));
          } else {
            var f2 = _objectSpread(_objectSpread({}, c2.data), {}, { lastActivityTime: Date.now() }), g = c2.data.type in b.targetingData[a2];
            g ? b.targetingData[a2][c2.data.type] = f2 : b.targetingData[a2] = _objectSpread(_objectSpread({}, b.targetingData[a2]), {}, _defineProperty({}, c2.data.type, f2));
          }
        });
        var f = this.updateStorageData(this.lastUpdate);
        return f.ok && d.forEach(function(c2) {
          b.unsentTargetingData[a2] || (b.unsentTargetingData[a2] = /* @__PURE__ */ new Map());
          var d2;
          if (_utilities.Utilities.isCustomData(c2)) {
            if (b.localCustomDataIndexes.has(c2.data.index))
              return;
            d2 = c2.data.index;
          } else
            d2 = c2.data.type;
          b.unsentTargetingData[a2].set(d2, c2);
        }), f;
      } }, { key: "getUnsentData", value: function getUnsentData(a2) {
        return this.unsentTargetingData[a2];
      } }, { key: "clearUnsentData", value: function clearUnsentData(a2) {
        var b, c = null === (b = this.unsentTargetingData[a2]) || void 0 === b ? void 0 : b.values();
        if (c && this.persistentCustomDataIndexes.size) {
          var d, e = /* @__PURE__ */ new Map(), f = _createForOfIteratorHelper(c);
          try {
            for (f.s(); !(d = f.n()).done; ) {
              var g = d.value;
              this.isPersistentCustomData(g) && e.set(g.data.index, g);
            }
          } catch (a3) {
            f.e(a3);
          } finally {
            f.f();
          }
          if (e.size)
            return void (this.unsentTargetingData[a2] = e);
        }
        delete this.unsentTargetingData[a2];
      } }, { key: "getTargetingTree", value: function getTargetingTree(a2) {
        if (!this.targetingTrees.has(a2.id)) {
          var b = new _targeting.TargetingTree(a2);
          return this.targetingTrees.set(a2.id, new _targeting.TargetingTree(a2)), b;
        }
        return this.targetingTrees.get(a2.id);
      } }, { key: "onConfigurationUpdate", value: function onConfigurationUpdate(a2) {
        this.configurationUpdateCallback = a2;
      } }, { key: "isPersistentCustomData", value: function isPersistentCustomData(a2) {
        return !!this.persistentCustomDataIndexes.size && !!_utilities.Utilities.isCustomData(a2) && this.persistentCustomDataIndexes.has(a2.data.index);
      } }, { key: "unsentDataVisitors", get: function get() {
        return Object.keys(this.unsentTargetingData);
      } }, { key: "storedTargetingData", get: function get() {
        return this.targetingData;
      } }, { key: "experiments", get: function get() {
        return this.configurationData.experiments;
      } }, { key: "featureFlags", get: function get() {
        return this.configurationData.featureFlags;
      } }, { key: "configuration", get: function get() {
        return this.configurationData.configuration;
      } }, { key: "checkShouldUpdate", value: function checkShouldUpdate() {
        var a2 = !!(0 < arguments.length && void 0 !== arguments[0]) && arguments[0], b = this.configurationData, c = b.featureFlags, d = b.experiments, e = b.configuration, f = this.settings.updateInterval;
        if (a2)
          return this.updateType = _types2.UpdateType.Idle, false;
        if (this.updateType = e.realTimeUpdate ? _types2.UpdateType.RealTime : _types2.UpdateType.Polling, !c.length && !d.length)
          return true;
        var g = this.lastUpdate.getTime(), h = Date.now() - f;
        return g < h;
      } }, { key: "cleanupOutdatedTargetingData", value: function cleanupOutdatedTargetingData() {
        for (var a2 = Date.now(), b = 0, c = Object.entries(this.targetingData); b < c.length; b++) {
          var d = _slicedToArray(c[b], 2), e = d[0], f = d[1], g = f.customData, h = _objectWithoutProperties(f, _excluded);
          if (g)
            for (var i = 0, j = Object.entries(g); i < j.length; i++) {
              var k = _slicedToArray(j[i], 2), l = k[0], m = k[1];
              if (m) {
                var n = m.lastActivityTime + this.targetingDataLifetime < a2, o = f[_kameleoonData.KameleoonData.CustomData];
                n && o && delete o[+l], o && !Object.keys(o).length && delete f[_kameleoonData.KameleoonData.CustomData];
              }
            }
          for (var p = 0, q = Object.entries(h); p < q.length; p++) {
            var r = _slicedToArray(q[p], 2), s = r[0], t = r[1], u = t.lastActivityTime + this.targetingDataLifetime < a2;
            u && delete f[s];
          }
          Object.keys(this.targetingData[e]).length || delete this.targetingData[e];
        }
        this.updateStorageData(this.lastUpdate).throw();
      } }, { key: "readStorageData", value: function readStorageData() {
        var a2 = this.storage.read();
        if (a2.ok) {
          var b = a2.data, c = b.kameleoonTargetingData, d = b.kameleoonConfiguration, e = b.lastUpdate;
          this.configurationData = d, this.targetingData = c, this.lastUpdate = new Date(Date.parse(e));
        }
      } }, {
        key: "clearTargetingTrees",
        value: function clearTargetingTrees() {
          this.targetingTrees.clear();
        }
        /**
        * Updates client configuration
        *
        * @param useCache - if true, will not update configuration if it is already present (for _offline_ mode)
        * @param timeStamp - timestamp for real-time configuration update
        *
        * @returns `true` if current update type should be toggled (SSE/Polling)
        */
      }, { key: "updateClientConfiguration", value: function() {
        function a2() {
          return b.apply(this, arguments);
        }
        var b = _asyncToGenerator(_regeneratorRuntime().mark(function a3() {
          var b2, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t = arguments;
          return _regeneratorRuntime().wrap(function u(a4) {
            for (; 1; )
              switch (a4.prev = a4.next) {
                case 0:
                  return b2 = 0 < t.length && void 0 !== t[0] ? t[0] : {}, c = b2.useCache, d = void 0 !== c && c, e = b2.timeStamp, a4.next = 3, this.requester.getClientConfiguration(e);
                case 3:
                  if (f = a4.sent, f.ok) {
                    a4.next = 9;
                    break;
                  }
                  if (g = this.configurationData, h = g.featureFlags, i = g.experiments, !(d && h.length && i.length)) {
                    a4.next = 8;
                    break;
                  }
                  return a4.abrupt("return", (0, _tsRes.Ok)(true));
                case 8:
                  return a4.abrupt("return", f);
                case 9:
                  if (_utilities.Utilities.sendOfflineTracking({ storage: this.offlineTrackingStorage, requester: this.requester }), j = f.data, k = j.configuration, l = j.experiments, m = j.featureFlagConfigurations, n = j.customData, this.configurationData = { configuration: k, experiments: l, featureFlags: m, customData: n }, null !== n && void 0 !== n && n.length && (o = [], p = [], n.forEach(function(a5) {
                    a5.localOnly && o.push(a5.index), a5.scope === _types2.CustomDataScope.Visitor && p.push(a5.index);
                  }), o.length && (this.localCustomDataIndexes = new Set(o)), p.length && (this.persistentCustomDataIndexes = new Set(p))), this.clearTargetingTrees(), q = this.updateStorageData(/* @__PURE__ */ new Date()), q.ok) {
                    a4.next = 17;
                    break;
                  }
                  return a4.abrupt("return", q);
                case 17:
                  if (r = k.realTimeUpdate ? _types2.UpdateType.RealTime : _types2.UpdateType.Polling, s = r !== this.updateType, !s) {
                    a4.next = 23;
                    break;
                  }
                  return this.updateType = r, a4.next = 23, this.initialize(d);
                case 23:
                  return a4.abrupt("return", (0, _tsRes.Ok)(s));
                case 24:
                case "end":
                  return a4.stop();
              }
          }, a3, this);
        }));
        return a2;
      }() }, { key: "updateStorageData", value: function updateStorageData(a2) {
        this.lastUpdate = a2;
        var b = { kameleoonTargetingData: this.targetingData, kameleoonConfiguration: this.configurationData, lastUpdate: a2.toString() };
        return this.storage.write(b);
      } }]), a;
    }();
    exports.CampaignConfiguration = CampaignConfiguration;
  }
});

// node_modules/@kameleoon/javascript-sdk-core/dist/campaignConfiguration/index.js
var require_campaignConfiguration2 = __commonJS({
  "node_modules/@kameleoon/javascript-sdk-core/dist/campaignConfiguration/index.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true }), Object.defineProperty(exports, "CLEANUP_TARGETING_DATA_INTERVAL", { enumerable: true, get: function get() {
      return _constants.CLEANUP_TARGETING_DATA_INTERVAL;
    } }), Object.defineProperty(exports, "CampaignConfiguration", { enumerable: true, get: function get() {
      return _campaignConfiguration.CampaignConfiguration;
    } }), Object.defineProperty(exports, "CampaignConfigurationType", { enumerable: true, get: function get() {
      return _types.CampaignConfigurationType;
    } }), Object.defineProperty(exports, "ConfigurationDataType", { enumerable: true, get: function get() {
      return _types.ConfigurationDataType;
    } }), Object.defineProperty(exports, "CustomDataConfigurationType", { enumerable: true, get: function get() {
      return _types.CustomDataConfigurationType;
    } }), Object.defineProperty(exports, "CustomDataScope", { enumerable: true, get: function get() {
      return _types.CustomDataScope;
    } }), Object.defineProperty(exports, "ExperimentItemType", { enumerable: true, get: function get() {
      return _types.ExperimentItemType;
    } }), Object.defineProperty(exports, "FeatureFlagType", { enumerable: true, get: function get() {
      return _types.FeatureFlagType;
    } }), Object.defineProperty(exports, "FeatureVariableType", { enumerable: true, get: function get() {
      return _types.FeatureVariableType;
    } }), Object.defineProperty(exports, "JSONType", { enumerable: true, get: function get() {
      return _types.JSONType;
    } }), Object.defineProperty(exports, "JSONValue", { enumerable: true, get: function get() {
      return _types.JSONValue;
    } }), Object.defineProperty(exports, "RespoolTimeType", { enumerable: true, get: function get() {
      return _types.RespoolTimeType;
    } }), Object.defineProperty(exports, "RuleItemType", { enumerable: true, get: function get() {
      return _types.RuleItemType;
    } }), Object.defineProperty(exports, "RuleType", { enumerable: true, get: function get() {
      return _types.RuleType;
    } }), Object.defineProperty(exports, "VariationByExpositionType", { enumerable: true, get: function get() {
      return _types.VariationByExpositionType;
    } });
    var _types = require_types3();
    var _campaignConfiguration = require_campaignConfiguration();
    var _constants = require_constants6();
  }
});

// node_modules/@kameleoon/javascript-sdk-core/dist/clientSettings/clientSettings.js
var require_clientSettings = __commonJS({
  "node_modules/@kameleoon/javascript-sdk-core/dist/clientSettings/clientSettings.js"(exports) {
    "use strict";
    var _types = require_types();
    Object.defineProperty(exports, "__esModule", { value: true }), exports.ClientSettings = void 0;
    function _typeof(a) {
      "@babel/helpers - typeof";
      return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(a2) {
        return typeof a2;
      } : function(a2) {
        return a2 && "function" == typeof Symbol && a2.constructor === Symbol && a2 !== Symbol.prototype ? "symbol" : typeof a2;
      }, _typeof(a);
    }
    function _classCallCheck(a, b) {
      if (!(a instanceof b))
        throw new TypeError("Cannot call a class as a function");
    }
    function _defineProperties(a, b) {
      for (var c, d = 0; d < b.length; d++)
        c = b[d], c.enumerable = c.enumerable || false, c.configurable = true, "value" in c && (c.writable = true), Object.defineProperty(a, _toPropertyKey(c.key), c);
    }
    function _createClass(a, b, c) {
      return b && _defineProperties(a.prototype, b), c && _defineProperties(a, c), Object.defineProperty(a, "prototype", { writable: false }), a;
    }
    function _defineProperty(a, b, c) {
      return b = _toPropertyKey(b), b in a ? Object.defineProperty(a, b, { value: c, enumerable: true, configurable: true, writable: true }) : a[b] = c, a;
    }
    function _toPropertyKey(a) {
      var b = _toPrimitive(a, "string");
      return "symbol" === _typeof(b) ? b : b + "";
    }
    function _toPrimitive(a, b) {
      if ("object" !== _typeof(a) || null === a)
        return a;
      var c = a[Symbol.toPrimitive];
      if (c !== void 0) {
        var d = c.call(a, b || "default");
        if ("object" !== _typeof(d))
          return d;
        throw new TypeError("@@toPrimitive must return a primitive value.");
      }
      return ("string" === b ? String : Number)(a);
    }
    var ClientSettings = function() {
      function a(b, c) {
        _classCallCheck(this, a), _defineProperty(this, "updateInterval", 60 * _types.Milliseconds.Minute), _defineProperty(this, "environment", void 0), _defineProperty(this, "siteCode", void 0), this.siteCode = b, null !== c && void 0 !== c && c.environment && (this.environment = c.environment), null !== c && void 0 !== c && c.updateInterval && (1 > c.updateInterval && (this.updateInterval = 1 * _types.Milliseconds.Minute), this.updateInterval = c.updateInterval * _types.Milliseconds.Minute);
      }
      return _createClass(a, [{ key: "settings", get: function get() {
        return { updateInterval: this.updateInterval, environment: this.environment, siteCode: this.siteCode };
      } }]), a;
    }();
    exports.ClientSettings = ClientSettings;
  }
});

// node_modules/@kameleoon/javascript-sdk-core/dist/clientSettings/types.js
var require_types10 = __commonJS({
  "node_modules/@kameleoon/javascript-sdk-core/dist/clientSettings/types.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
  }
});

// node_modules/@kameleoon/javascript-sdk-core/dist/clientSettings/index.js
var require_clientSettings2 = __commonJS({
  "node_modules/@kameleoon/javascript-sdk-core/dist/clientSettings/index.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true }), Object.defineProperty(exports, "ClientSettings", { enumerable: true, get: function get() {
      return _clientSettings.ClientSettings;
    } }), Object.defineProperty(exports, "ClientSettingsType", { enumerable: true, get: function get() {
      return _types.ClientSettingsType;
    } });
    var _clientSettings = require_clientSettings();
    var _types = require_types10();
  }
});

// node_modules/@kameleoon/javascript-sdk-core/dist/storage/constants.js
var require_constants7 = __commonJS({
  "node_modules/@kameleoon/javascript-sdk-core/dist/storage/constants.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true }), exports.KameleoonStorageKey = void 0;
    var KameleoonStorageKey = function(a) {
      return a.ClientData = "kameleoonClientData", a.VariationData = "kameleoonVariationData", a.VisitorCode = "kameleoonVisitorCode", a.OfflineTracking = "kameleoonOfflineTracking", a;
    }({});
    exports.KameleoonStorageKey = KameleoonStorageKey;
  }
});

// node_modules/@kameleoon/javascript-sdk-core/dist/storage/externalStorage.js
var require_externalStorage = __commonJS({
  "node_modules/@kameleoon/javascript-sdk-core/dist/storage/externalStorage.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true }), exports.ExternalStorage = void 0;
    var _tsRes = require_build();
    var _kameleoonError = require_kameleoonError2();
    function _typeof(a) {
      "@babel/helpers - typeof";
      return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(a2) {
        return typeof a2;
      } : function(a2) {
        return a2 && "function" == typeof Symbol && a2.constructor === Symbol && a2 !== Symbol.prototype ? "symbol" : typeof a2;
      }, _typeof(a);
    }
    function _classCallCheck(a, b) {
      if (!(a instanceof b))
        throw new TypeError("Cannot call a class as a function");
    }
    function _defineProperties(a, b) {
      for (var c, d = 0; d < b.length; d++)
        c = b[d], c.enumerable = c.enumerable || false, c.configurable = true, "value" in c && (c.writable = true), Object.defineProperty(a, _toPropertyKey(c.key), c);
    }
    function _createClass(a, b, c) {
      return b && _defineProperties(a.prototype, b), c && _defineProperties(a, c), Object.defineProperty(a, "prototype", { writable: false }), a;
    }
    function _defineProperty(a, b, c) {
      return b = _toPropertyKey(b), b in a ? Object.defineProperty(a, b, { value: c, enumerable: true, configurable: true, writable: true }) : a[b] = c, a;
    }
    function _toPropertyKey(a) {
      var b = _toPrimitive(a, "string");
      return "symbol" === _typeof(b) ? b : b + "";
    }
    function _toPrimitive(a, b) {
      if ("object" !== _typeof(a) || null === a)
        return a;
      var c = a[Symbol.toPrimitive];
      if (c !== void 0) {
        var d = c.call(a, b || "default");
        if ("object" !== _typeof(d))
          return d;
        throw new TypeError("@@toPrimitive must return a primitive value.");
      }
      return ("string" === b ? String : Number)(a);
    }
    var ExternalStorage = function() {
      function a(b) {
        _classCallCheck(this, a), _defineProperty(this, "key", void 0), _defineProperty(this, "storage", void 0), this.key = b.key, this.storage = b;
      }
      return _createClass(a, [{ key: "read", value: function read() {
        var a2 = this.storage.read();
        return a2.ok ? this.parse(a2.data) : a2;
      } }, { key: "write", value: function write(a2) {
        return this.storage.write(JSON.stringify(a2)), (0, _tsRes.Ok)();
      } }, { key: "parse", value: function parse(a2) {
        var b;
        try {
          b = JSON.parse(a2);
        } catch (a3) {
          throw new _kameleoonError.KameleoonError(_kameleoonError.KameleoonException.StorageParse, a3, this.key);
        }
        return (0, _tsRes.Ok)(b);
      } }]), a;
    }();
    exports.ExternalStorage = ExternalStorage;
  }
});

// node_modules/@kameleoon/javascript-sdk-core/dist/storage/types.js
var require_types11 = __commonJS({
  "node_modules/@kameleoon/javascript-sdk-core/dist/storage/types.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
  }
});

// node_modules/@kameleoon/javascript-sdk-core/dist/storage/index.js
var require_storage = __commonJS({
  "node_modules/@kameleoon/javascript-sdk-core/dist/storage/index.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true }), Object.defineProperty(exports, "ClientDataType", { enumerable: true, get: function get() {
      return _types.ClientDataType;
    } }), Object.defineProperty(exports, "ExperimentVariationsType", { enumerable: true, get: function get() {
      return _types.ExperimentVariationsType;
    } }), Object.defineProperty(exports, "ExternalStorage", { enumerable: true, get: function get() {
      return _externalStorage.ExternalStorage;
    } }), Object.defineProperty(exports, "IExternalStorage", { enumerable: true, get: function get() {
      return _types.IExternalStorage;
    } }), Object.defineProperty(exports, "IExternalStorageConstructor", { enumerable: true, get: function get() {
      return _types.IExternalStorageConstructor;
    } }), Object.defineProperty(exports, "IStorage", { enumerable: true, get: function get() {
      return _types.IStorage;
    } }), Object.defineProperty(exports, "KameleoonStorageKey", { enumerable: true, get: function get() {
      return _constants.KameleoonStorageKey;
    } }), Object.defineProperty(exports, "VariationDataType", { enumerable: true, get: function get() {
      return _types.VariationDataType;
    } });
    var _constants = require_constants7();
    var _externalStorage = require_externalStorage();
    var _types = require_types11();
  }
});

// browser-external:crypto
var require_crypto = __commonJS({
  "browser-external:crypto"(exports, module) {
    module.exports = Object.create(new Proxy({}, {
      get(_, key) {
        if (key !== "__esModule" && key !== "__proto__" && key !== "constructor" && key !== "splice") {
          console.warn(`Module "crypto" has been externalized for browser compatibility. Cannot access "crypto.${key}" in client code. See http://vitejs.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`);
        }
      }
    }));
  }
});

// node_modules/crypto-js/core.js
var require_core = __commonJS({
  "node_modules/crypto-js/core.js"(exports, module) {
    (function(root, factory) {
      if (typeof exports === "object") {
        module.exports = exports = factory();
      } else if (typeof define === "function" && define.amd) {
        define([], factory);
      } else {
        root.CryptoJS = factory();
      }
    })(exports, function() {
      var CryptoJS = CryptoJS || function(Math2, undefined) {
        var crypto;
        if (typeof window !== "undefined" && window.crypto) {
          crypto = window.crypto;
        }
        if (typeof self !== "undefined" && self.crypto) {
          crypto = self.crypto;
        }
        if (typeof globalThis !== "undefined" && globalThis.crypto) {
          crypto = globalThis.crypto;
        }
        if (!crypto && typeof window !== "undefined" && window.msCrypto) {
          crypto = window.msCrypto;
        }
        if (!crypto && typeof global !== "undefined" && global.crypto) {
          crypto = global.crypto;
        }
        if (!crypto && typeof __require === "function") {
          try {
            crypto = require_crypto();
          } catch (err) {
          }
        }
        var cryptoSecureRandomInt = function() {
          if (crypto) {
            if (typeof crypto.getRandomValues === "function") {
              try {
                return crypto.getRandomValues(new Uint32Array(1))[0];
              } catch (err) {
              }
            }
            if (typeof crypto.randomBytes === "function") {
              try {
                return crypto.randomBytes(4).readInt32LE();
              } catch (err) {
              }
            }
          }
          throw new Error("Native crypto module could not be used to get secure random number.");
        };
        var create = Object.create || function() {
          function F() {
          }
          return function(obj) {
            var subtype;
            F.prototype = obj;
            subtype = new F();
            F.prototype = null;
            return subtype;
          };
        }();
        var C = {};
        var C_lib = C.lib = {};
        var Base = C_lib.Base = function() {
          return {
            /**
             * Creates a new object that inherits from this object.
             *
             * @param {Object} overrides Properties to copy into the new object.
             *
             * @return {Object} The new object.
             *
             * @static
             *
             * @example
             *
             *     var MyType = CryptoJS.lib.Base.extend({
             *         field: 'value',
             *
             *         method: function () {
             *         }
             *     });
             */
            extend: function(overrides) {
              var subtype = create(this);
              if (overrides) {
                subtype.mixIn(overrides);
              }
              if (!subtype.hasOwnProperty("init") || this.init === subtype.init) {
                subtype.init = function() {
                  subtype.$super.init.apply(this, arguments);
                };
              }
              subtype.init.prototype = subtype;
              subtype.$super = this;
              return subtype;
            },
            /**
             * Extends this object and runs the init method.
             * Arguments to create() will be passed to init().
             *
             * @return {Object} The new object.
             *
             * @static
             *
             * @example
             *
             *     var instance = MyType.create();
             */
            create: function() {
              var instance = this.extend();
              instance.init.apply(instance, arguments);
              return instance;
            },
            /**
             * Initializes a newly created object.
             * Override this method to add some logic when your objects are created.
             *
             * @example
             *
             *     var MyType = CryptoJS.lib.Base.extend({
             *         init: function () {
             *             // ...
             *         }
             *     });
             */
            init: function() {
            },
            /**
             * Copies properties into this object.
             *
             * @param {Object} properties The properties to mix in.
             *
             * @example
             *
             *     MyType.mixIn({
             *         field: 'value'
             *     });
             */
            mixIn: function(properties) {
              for (var propertyName in properties) {
                if (properties.hasOwnProperty(propertyName)) {
                  this[propertyName] = properties[propertyName];
                }
              }
              if (properties.hasOwnProperty("toString")) {
                this.toString = properties.toString;
              }
            },
            /**
             * Creates a copy of this object.
             *
             * @return {Object} The clone.
             *
             * @example
             *
             *     var clone = instance.clone();
             */
            clone: function() {
              return this.init.prototype.extend(this);
            }
          };
        }();
        var WordArray = C_lib.WordArray = Base.extend({
          /**
           * Initializes a newly created word array.
           *
           * @param {Array} words (Optional) An array of 32-bit words.
           * @param {number} sigBytes (Optional) The number of significant bytes in the words.
           *
           * @example
           *
           *     var wordArray = CryptoJS.lib.WordArray.create();
           *     var wordArray = CryptoJS.lib.WordArray.create([0x00010203, 0x04050607]);
           *     var wordArray = CryptoJS.lib.WordArray.create([0x00010203, 0x04050607], 6);
           */
          init: function(words, sigBytes) {
            words = this.words = words || [];
            if (sigBytes != undefined) {
              this.sigBytes = sigBytes;
            } else {
              this.sigBytes = words.length * 4;
            }
          },
          /**
           * Converts this word array to a string.
           *
           * @param {Encoder} encoder (Optional) The encoding strategy to use. Default: CryptoJS.enc.Hex
           *
           * @return {string} The stringified word array.
           *
           * @example
           *
           *     var string = wordArray + '';
           *     var string = wordArray.toString();
           *     var string = wordArray.toString(CryptoJS.enc.Utf8);
           */
          toString: function(encoder) {
            return (encoder || Hex).stringify(this);
          },
          /**
           * Concatenates a word array to this word array.
           *
           * @param {WordArray} wordArray The word array to append.
           *
           * @return {WordArray} This word array.
           *
           * @example
           *
           *     wordArray1.concat(wordArray2);
           */
          concat: function(wordArray) {
            var thisWords = this.words;
            var thatWords = wordArray.words;
            var thisSigBytes = this.sigBytes;
            var thatSigBytes = wordArray.sigBytes;
            this.clamp();
            if (thisSigBytes % 4) {
              for (var i = 0; i < thatSigBytes; i++) {
                var thatByte = thatWords[i >>> 2] >>> 24 - i % 4 * 8 & 255;
                thisWords[thisSigBytes + i >>> 2] |= thatByte << 24 - (thisSigBytes + i) % 4 * 8;
              }
            } else {
              for (var j = 0; j < thatSigBytes; j += 4) {
                thisWords[thisSigBytes + j >>> 2] = thatWords[j >>> 2];
              }
            }
            this.sigBytes += thatSigBytes;
            return this;
          },
          /**
           * Removes insignificant bits.
           *
           * @example
           *
           *     wordArray.clamp();
           */
          clamp: function() {
            var words = this.words;
            var sigBytes = this.sigBytes;
            words[sigBytes >>> 2] &= 4294967295 << 32 - sigBytes % 4 * 8;
            words.length = Math2.ceil(sigBytes / 4);
          },
          /**
           * Creates a copy of this word array.
           *
           * @return {WordArray} The clone.
           *
           * @example
           *
           *     var clone = wordArray.clone();
           */
          clone: function() {
            var clone = Base.clone.call(this);
            clone.words = this.words.slice(0);
            return clone;
          },
          /**
           * Creates a word array filled with random bytes.
           *
           * @param {number} nBytes The number of random bytes to generate.
           *
           * @return {WordArray} The random word array.
           *
           * @static
           *
           * @example
           *
           *     var wordArray = CryptoJS.lib.WordArray.random(16);
           */
          random: function(nBytes) {
            var words = [];
            for (var i = 0; i < nBytes; i += 4) {
              words.push(cryptoSecureRandomInt());
            }
            return new WordArray.init(words, nBytes);
          }
        });
        var C_enc = C.enc = {};
        var Hex = C_enc.Hex = {
          /**
           * Converts a word array to a hex string.
           *
           * @param {WordArray} wordArray The word array.
           *
           * @return {string} The hex string.
           *
           * @static
           *
           * @example
           *
           *     var hexString = CryptoJS.enc.Hex.stringify(wordArray);
           */
          stringify: function(wordArray) {
            var words = wordArray.words;
            var sigBytes = wordArray.sigBytes;
            var hexChars = [];
            for (var i = 0; i < sigBytes; i++) {
              var bite = words[i >>> 2] >>> 24 - i % 4 * 8 & 255;
              hexChars.push((bite >>> 4).toString(16));
              hexChars.push((bite & 15).toString(16));
            }
            return hexChars.join("");
          },
          /**
           * Converts a hex string to a word array.
           *
           * @param {string} hexStr The hex string.
           *
           * @return {WordArray} The word array.
           *
           * @static
           *
           * @example
           *
           *     var wordArray = CryptoJS.enc.Hex.parse(hexString);
           */
          parse: function(hexStr) {
            var hexStrLength = hexStr.length;
            var words = [];
            for (var i = 0; i < hexStrLength; i += 2) {
              words[i >>> 3] |= parseInt(hexStr.substr(i, 2), 16) << 24 - i % 8 * 4;
            }
            return new WordArray.init(words, hexStrLength / 2);
          }
        };
        var Latin1 = C_enc.Latin1 = {
          /**
           * Converts a word array to a Latin1 string.
           *
           * @param {WordArray} wordArray The word array.
           *
           * @return {string} The Latin1 string.
           *
           * @static
           *
           * @example
           *
           *     var latin1String = CryptoJS.enc.Latin1.stringify(wordArray);
           */
          stringify: function(wordArray) {
            var words = wordArray.words;
            var sigBytes = wordArray.sigBytes;
            var latin1Chars = [];
            for (var i = 0; i < sigBytes; i++) {
              var bite = words[i >>> 2] >>> 24 - i % 4 * 8 & 255;
              latin1Chars.push(String.fromCharCode(bite));
            }
            return latin1Chars.join("");
          },
          /**
           * Converts a Latin1 string to a word array.
           *
           * @param {string} latin1Str The Latin1 string.
           *
           * @return {WordArray} The word array.
           *
           * @static
           *
           * @example
           *
           *     var wordArray = CryptoJS.enc.Latin1.parse(latin1String);
           */
          parse: function(latin1Str) {
            var latin1StrLength = latin1Str.length;
            var words = [];
            for (var i = 0; i < latin1StrLength; i++) {
              words[i >>> 2] |= (latin1Str.charCodeAt(i) & 255) << 24 - i % 4 * 8;
            }
            return new WordArray.init(words, latin1StrLength);
          }
        };
        var Utf8 = C_enc.Utf8 = {
          /**
           * Converts a word array to a UTF-8 string.
           *
           * @param {WordArray} wordArray The word array.
           *
           * @return {string} The UTF-8 string.
           *
           * @static
           *
           * @example
           *
           *     var utf8String = CryptoJS.enc.Utf8.stringify(wordArray);
           */
          stringify: function(wordArray) {
            try {
              return decodeURIComponent(escape(Latin1.stringify(wordArray)));
            } catch (e) {
              throw new Error("Malformed UTF-8 data");
            }
          },
          /**
           * Converts a UTF-8 string to a word array.
           *
           * @param {string} utf8Str The UTF-8 string.
           *
           * @return {WordArray} The word array.
           *
           * @static
           *
           * @example
           *
           *     var wordArray = CryptoJS.enc.Utf8.parse(utf8String);
           */
          parse: function(utf8Str) {
            return Latin1.parse(unescape(encodeURIComponent(utf8Str)));
          }
        };
        var BufferedBlockAlgorithm = C_lib.BufferedBlockAlgorithm = Base.extend({
          /**
           * Resets this block algorithm's data buffer to its initial state.
           *
           * @example
           *
           *     bufferedBlockAlgorithm.reset();
           */
          reset: function() {
            this._data = new WordArray.init();
            this._nDataBytes = 0;
          },
          /**
           * Adds new data to this block algorithm's buffer.
           *
           * @param {WordArray|string} data The data to append. Strings are converted to a WordArray using UTF-8.
           *
           * @example
           *
           *     bufferedBlockAlgorithm._append('data');
           *     bufferedBlockAlgorithm._append(wordArray);
           */
          _append: function(data) {
            if (typeof data == "string") {
              data = Utf8.parse(data);
            }
            this._data.concat(data);
            this._nDataBytes += data.sigBytes;
          },
          /**
           * Processes available data blocks.
           *
           * This method invokes _doProcessBlock(offset), which must be implemented by a concrete subtype.
           *
           * @param {boolean} doFlush Whether all blocks and partial blocks should be processed.
           *
           * @return {WordArray} The processed data.
           *
           * @example
           *
           *     var processedData = bufferedBlockAlgorithm._process();
           *     var processedData = bufferedBlockAlgorithm._process(!!'flush');
           */
          _process: function(doFlush) {
            var processedWords;
            var data = this._data;
            var dataWords = data.words;
            var dataSigBytes = data.sigBytes;
            var blockSize = this.blockSize;
            var blockSizeBytes = blockSize * 4;
            var nBlocksReady = dataSigBytes / blockSizeBytes;
            if (doFlush) {
              nBlocksReady = Math2.ceil(nBlocksReady);
            } else {
              nBlocksReady = Math2.max((nBlocksReady | 0) - this._minBufferSize, 0);
            }
            var nWordsReady = nBlocksReady * blockSize;
            var nBytesReady = Math2.min(nWordsReady * 4, dataSigBytes);
            if (nWordsReady) {
              for (var offset = 0; offset < nWordsReady; offset += blockSize) {
                this._doProcessBlock(dataWords, offset);
              }
              processedWords = dataWords.splice(0, nWordsReady);
              data.sigBytes -= nBytesReady;
            }
            return new WordArray.init(processedWords, nBytesReady);
          },
          /**
           * Creates a copy of this object.
           *
           * @return {Object} The clone.
           *
           * @example
           *
           *     var clone = bufferedBlockAlgorithm.clone();
           */
          clone: function() {
            var clone = Base.clone.call(this);
            clone._data = this._data.clone();
            return clone;
          },
          _minBufferSize: 0
        });
        var Hasher = C_lib.Hasher = BufferedBlockAlgorithm.extend({
          /**
           * Configuration options.
           */
          cfg: Base.extend(),
          /**
           * Initializes a newly created hasher.
           *
           * @param {Object} cfg (Optional) The configuration options to use for this hash computation.
           *
           * @example
           *
           *     var hasher = CryptoJS.algo.SHA256.create();
           */
          init: function(cfg) {
            this.cfg = this.cfg.extend(cfg);
            this.reset();
          },
          /**
           * Resets this hasher to its initial state.
           *
           * @example
           *
           *     hasher.reset();
           */
          reset: function() {
            BufferedBlockAlgorithm.reset.call(this);
            this._doReset();
          },
          /**
           * Updates this hasher with a message.
           *
           * @param {WordArray|string} messageUpdate The message to append.
           *
           * @return {Hasher} This hasher.
           *
           * @example
           *
           *     hasher.update('message');
           *     hasher.update(wordArray);
           */
          update: function(messageUpdate) {
            this._append(messageUpdate);
            this._process();
            return this;
          },
          /**
           * Finalizes the hash computation.
           * Note that the finalize operation is effectively a destructive, read-once operation.
           *
           * @param {WordArray|string} messageUpdate (Optional) A final message update.
           *
           * @return {WordArray} The hash.
           *
           * @example
           *
           *     var hash = hasher.finalize();
           *     var hash = hasher.finalize('message');
           *     var hash = hasher.finalize(wordArray);
           */
          finalize: function(messageUpdate) {
            if (messageUpdate) {
              this._append(messageUpdate);
            }
            var hash = this._doFinalize();
            return hash;
          },
          blockSize: 512 / 32,
          /**
           * Creates a shortcut function to a hasher's object interface.
           *
           * @param {Hasher} hasher The hasher to create a helper for.
           *
           * @return {Function} The shortcut function.
           *
           * @static
           *
           * @example
           *
           *     var SHA256 = CryptoJS.lib.Hasher._createHelper(CryptoJS.algo.SHA256);
           */
          _createHelper: function(hasher) {
            return function(message, cfg) {
              return new hasher.init(cfg).finalize(message);
            };
          },
          /**
           * Creates a shortcut function to the HMAC's object interface.
           *
           * @param {Hasher} hasher The hasher to use in this HMAC helper.
           *
           * @return {Function} The shortcut function.
           *
           * @static
           *
           * @example
           *
           *     var HmacSHA256 = CryptoJS.lib.Hasher._createHmacHelper(CryptoJS.algo.SHA256);
           */
          _createHmacHelper: function(hasher) {
            return function(message, key) {
              return new C_algo.HMAC.init(hasher, key).finalize(message);
            };
          }
        });
        var C_algo = C.algo = {};
        return C;
      }(Math);
      return CryptoJS;
    });
  }
});

// node_modules/crypto-js/sha256.js
var require_sha256 = __commonJS({
  "node_modules/crypto-js/sha256.js"(exports, module) {
    (function(root, factory) {
      if (typeof exports === "object") {
        module.exports = exports = factory(require_core());
      } else if (typeof define === "function" && define.amd) {
        define(["./core"], factory);
      } else {
        factory(root.CryptoJS);
      }
    })(exports, function(CryptoJS) {
      (function(Math2) {
        var C = CryptoJS;
        var C_lib = C.lib;
        var WordArray = C_lib.WordArray;
        var Hasher = C_lib.Hasher;
        var C_algo = C.algo;
        var H = [];
        var K = [];
        (function() {
          function isPrime(n2) {
            var sqrtN = Math2.sqrt(n2);
            for (var factor = 2; factor <= sqrtN; factor++) {
              if (!(n2 % factor)) {
                return false;
              }
            }
            return true;
          }
          function getFractionalBits(n2) {
            return (n2 - (n2 | 0)) * 4294967296 | 0;
          }
          var n = 2;
          var nPrime = 0;
          while (nPrime < 64) {
            if (isPrime(n)) {
              if (nPrime < 8) {
                H[nPrime] = getFractionalBits(Math2.pow(n, 1 / 2));
              }
              K[nPrime] = getFractionalBits(Math2.pow(n, 1 / 3));
              nPrime++;
            }
            n++;
          }
        })();
        var W = [];
        var SHA256 = C_algo.SHA256 = Hasher.extend({
          _doReset: function() {
            this._hash = new WordArray.init(H.slice(0));
          },
          _doProcessBlock: function(M, offset) {
            var H2 = this._hash.words;
            var a = H2[0];
            var b = H2[1];
            var c = H2[2];
            var d = H2[3];
            var e = H2[4];
            var f = H2[5];
            var g = H2[6];
            var h = H2[7];
            for (var i = 0; i < 64; i++) {
              if (i < 16) {
                W[i] = M[offset + i] | 0;
              } else {
                var gamma0x = W[i - 15];
                var gamma0 = (gamma0x << 25 | gamma0x >>> 7) ^ (gamma0x << 14 | gamma0x >>> 18) ^ gamma0x >>> 3;
                var gamma1x = W[i - 2];
                var gamma1 = (gamma1x << 15 | gamma1x >>> 17) ^ (gamma1x << 13 | gamma1x >>> 19) ^ gamma1x >>> 10;
                W[i] = gamma0 + W[i - 7] + gamma1 + W[i - 16];
              }
              var ch = e & f ^ ~e & g;
              var maj = a & b ^ a & c ^ b & c;
              var sigma0 = (a << 30 | a >>> 2) ^ (a << 19 | a >>> 13) ^ (a << 10 | a >>> 22);
              var sigma1 = (e << 26 | e >>> 6) ^ (e << 21 | e >>> 11) ^ (e << 7 | e >>> 25);
              var t1 = h + sigma1 + ch + K[i] + W[i];
              var t2 = sigma0 + maj;
              h = g;
              g = f;
              f = e;
              e = d + t1 | 0;
              d = c;
              c = b;
              b = a;
              a = t1 + t2 | 0;
            }
            H2[0] = H2[0] + a | 0;
            H2[1] = H2[1] + b | 0;
            H2[2] = H2[2] + c | 0;
            H2[3] = H2[3] + d | 0;
            H2[4] = H2[4] + e | 0;
            H2[5] = H2[5] + f | 0;
            H2[6] = H2[6] + g | 0;
            H2[7] = H2[7] + h | 0;
          },
          _doFinalize: function() {
            var data = this._data;
            var dataWords = data.words;
            var nBitsTotal = this._nDataBytes * 8;
            var nBitsLeft = data.sigBytes * 8;
            dataWords[nBitsLeft >>> 5] |= 128 << 24 - nBitsLeft % 32;
            dataWords[(nBitsLeft + 64 >>> 9 << 4) + 14] = Math2.floor(nBitsTotal / 4294967296);
            dataWords[(nBitsLeft + 64 >>> 9 << 4) + 15] = nBitsTotal;
            data.sigBytes = dataWords.length * 4;
            this._process();
            return this._hash;
          },
          clone: function() {
            var clone = Hasher.clone.call(this);
            clone._hash = this._hash.clone();
            return clone;
          }
        });
        C.SHA256 = Hasher._createHelper(SHA256);
        C.HmacSHA256 = Hasher._createHmacHelper(SHA256);
      })(Math);
      return CryptoJS.SHA256;
    });
  }
});

// node_modules/@kameleoon/javascript-sdk-core/dist/hasher/hasher.js
var require_hasher = __commonJS({
  "node_modules/@kameleoon/javascript-sdk-core/dist/hasher/hasher.js"(exports) {
    "use strict";
    var _sha = _interopRequireDefault(require_sha256());
    Object.defineProperty(exports, "__esModule", { value: true }), exports.Hasher = void 0;
    function _interopRequireDefault(a) {
      return a && a.__esModule ? a : { default: a };
    }
    function _typeof(a) {
      "@babel/helpers - typeof";
      return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(a2) {
        return typeof a2;
      } : function(a2) {
        return a2 && "function" == typeof Symbol && a2.constructor === Symbol && a2 !== Symbol.prototype ? "symbol" : typeof a2;
      }, _typeof(a);
    }
    function _classCallCheck(a, b) {
      if (!(a instanceof b))
        throw new TypeError("Cannot call a class as a function");
    }
    function _defineProperties(a, b) {
      for (var c, d = 0; d < b.length; d++)
        c = b[d], c.enumerable = c.enumerable || false, c.configurable = true, "value" in c && (c.writable = true), Object.defineProperty(a, _toPropertyKey(c.key), c);
    }
    function _createClass(a, b, c) {
      return b && _defineProperties(a.prototype, b), c && _defineProperties(a, c), Object.defineProperty(a, "prototype", { writable: false }), a;
    }
    function _toPropertyKey(a) {
      var b = _toPrimitive(a, "string");
      return "symbol" === _typeof(b) ? b : b + "";
    }
    function _toPrimitive(a, b) {
      if ("object" !== _typeof(a) || null === a)
        return a;
      var c = a[Symbol.toPrimitive];
      if (c !== void 0) {
        var d = c.call(a, b || "default");
        if ("object" !== _typeof(d))
          return d;
        throw new TypeError("@@toPrimitive must return a primitive value.");
      }
      return ("string" === b ? String : Number)(a);
    }
    var Hasher = function() {
      function a() {
        _classCallCheck(this, a);
      }
      return _createClass(a, null, [{ key: "obtainExperimentHashDouble", value: function obtainExperimentHashDouble(a2) {
        var b = a2.visitorCode, c = a2.campaignId, d = a2.respoolTime, e = "";
        return d.length && d.forEach(function(a3) {
          e += a3.value + "";
        }), this.calculateHash(b + c + e);
      } }, {
        key: "obtainFeatureFlagHashDouble",
        value: function obtainFeatureFlagHashDouble(a2) {
          var b = a2.visitorCode, c = a2.campaignId, d = a2.respoolTime, e = "";
          return d && (e += d + ""), this.calculateHash(b + c + e);
        }
        // --- Note ---
        // `hashDouble` is a seeded pseudo-random number between 0 and 1
        // used for deciding what variation to assign
        // `calculateHash` algorithm is consistent between every SDK
        // and will always provide same pseudo-random value for the same input parameters
      }, { key: "calculateHash", value: function calculateHash(a2) {
        var b = (0, _sha.default)(a2).toString();
        return parseInt(b, 16) / Math.pow(2, 256);
      } }]), a;
    }();
    exports.Hasher = Hasher;
  }
});

// node_modules/@kameleoon/javascript-sdk-core/dist/hasher/index.js
var require_hasher2 = __commonJS({
  "node_modules/@kameleoon/javascript-sdk-core/dist/hasher/index.js"(exports) {
    "use strict";
    var _hasher = require_hasher();
    Object.defineProperty(exports, "__esModule", { value: true }), Object.defineProperty(exports, "Hasher", { enumerable: true, get: function get() {
      return _hasher.Hasher;
    } });
  }
});

// node_modules/@kameleoon/javascript-sdk-core/dist/variationConfiguration/variationConfiguration.js
var require_variationConfiguration = __commonJS({
  "node_modules/@kameleoon/javascript-sdk-core/dist/variationConfiguration/variationConfiguration.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true }), exports.VariationConfiguration = void 0;
    var _tsRes = require_build();
    var _hasher = require_hasher2();
    var _kameleoonError = require_kameleoonError2();
    var _utilities = require_utilities2();
    var _types = require_types3();
    var _excluded = ["exposition"];
    function _typeof(a) {
      "@babel/helpers - typeof";
      return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(a2) {
        return typeof a2;
      } : function(a2) {
        return a2 && "function" == typeof Symbol && a2.constructor === Symbol && a2 !== Symbol.prototype ? "symbol" : typeof a2;
      }, _typeof(a);
    }
    function ownKeys(a, b) {
      var c = Object.keys(a);
      if (Object.getOwnPropertySymbols) {
        var d = Object.getOwnPropertySymbols(a);
        b && (d = d.filter(function(b2) {
          return Object.getOwnPropertyDescriptor(a, b2).enumerable;
        })), c.push.apply(c, d);
      }
      return c;
    }
    function _objectSpread(a) {
      for (var b, c = 1; c < arguments.length; c++)
        b = null == arguments[c] ? {} : arguments[c], c % 2 ? ownKeys(Object(b), true).forEach(function(c2) {
          _defineProperty(a, c2, b[c2]);
        }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(a, Object.getOwnPropertyDescriptors(b)) : ownKeys(Object(b)).forEach(function(c2) {
          Object.defineProperty(a, c2, Object.getOwnPropertyDescriptor(b, c2));
        });
      return a;
    }
    function _objectWithoutProperties(a, b) {
      if (null == a)
        return {};
      var c, d, e = _objectWithoutPropertiesLoose(a, b);
      if (Object.getOwnPropertySymbols) {
        var f = Object.getOwnPropertySymbols(a);
        for (d = 0; d < f.length; d++)
          c = f[d], 0 <= b.indexOf(c) || Object.prototype.propertyIsEnumerable.call(a, c) && (e[c] = a[c]);
      }
      return e;
    }
    function _objectWithoutPropertiesLoose(a, b) {
      if (null == a)
        return {};
      var c, d, e = {}, f = Object.keys(a);
      for (d = 0; d < f.length; d++)
        c = f[d], 0 <= b.indexOf(c) || (e[c] = a[c]);
      return e;
    }
    function _createForOfIteratorHelper(a, b) {
      var c = "undefined" != typeof Symbol && a[Symbol.iterator] || a["@@iterator"];
      if (!c) {
        if (Array.isArray(a) || (c = _unsupportedIterableToArray(a)) || b && a && "number" == typeof a.length) {
          c && (a = c);
          var d = 0, e = function() {
          };
          return { s: e, n: function n() {
            return d >= a.length ? { done: true } : { done: false, value: a[d++] };
          }, e: function e2(a2) {
            throw a2;
          }, f: e };
        }
        throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
      }
      var f, g = true, h = false;
      return { s: function s() {
        c = c.call(a);
      }, n: function n() {
        var a2 = c.next();
        return g = a2.done, a2;
      }, e: function e2(a2) {
        h = true, f = a2;
      }, f: function f2() {
        try {
          g || null == c.return || c.return();
        } finally {
          if (h)
            throw f2;
        }
      } };
    }
    function _unsupportedIterableToArray(a, b) {
      if (a) {
        if ("string" == typeof a)
          return _arrayLikeToArray(a, b);
        var c = Object.prototype.toString.call(a).slice(8, -1);
        return "Object" === c && a.constructor && (c = a.constructor.name), "Map" === c || "Set" === c ? Array.from(a) : "Arguments" === c || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c) ? _arrayLikeToArray(a, b) : void 0;
      }
    }
    function _arrayLikeToArray(a, b) {
      (null == b || b > a.length) && (b = a.length);
      for (var c = 0, d = Array(b); c < b; c++)
        d[c] = a[c];
      return d;
    }
    function _classCallCheck(a, b) {
      if (!(a instanceof b))
        throw new TypeError("Cannot call a class as a function");
    }
    function _defineProperties(a, b) {
      for (var c, d = 0; d < b.length; d++)
        c = b[d], c.enumerable = c.enumerable || false, c.configurable = true, "value" in c && (c.writable = true), Object.defineProperty(a, _toPropertyKey(c.key), c);
    }
    function _createClass(a, b, c) {
      return b && _defineProperties(a.prototype, b), c && _defineProperties(a, c), Object.defineProperty(a, "prototype", { writable: false }), a;
    }
    function _defineProperty(a, b, c) {
      return b = _toPropertyKey(b), b in a ? Object.defineProperty(a, b, { value: c, enumerable: true, configurable: true, writable: true }) : a[b] = c, a;
    }
    function _toPropertyKey(a) {
      var b = _toPrimitive(a, "string");
      return "symbol" === _typeof(b) ? b : b + "";
    }
    function _toPrimitive(a, b) {
      if ("object" !== _typeof(a) || null === a)
        return a;
      var c = a[Symbol.toPrimitive];
      if (c !== void 0) {
        var d = c.call(a, b || "default");
        if ("object" !== _typeof(d))
          return d;
        throw new TypeError("@@toPrimitive must return a primitive value.");
      }
      return ("string" === b ? String : Number)(a);
    }
    var VariationConfiguration = function() {
      function a(b, c) {
        var d = this;
        _classCallCheck(this, a), _defineProperty(this, "experiments", void 0), _defineProperty(this, "storage", void 0), _defineProperty(this, "getAssociatedVariationId", function(a2, b2) {
          var c2 = d.experiments.find(function(a3) {
            return a3.id === b2 + "";
          });
          return c2 ? d.assignVariation(a2, c2) : (0, _tsRes.Err)(new _kameleoonError.KameleoonError(_kameleoonError.KameleoonException.ExperimentConfigurationNotFound, b2, a2));
        }), this.experiments = b, this.storage = c;
      }
      return _createClass(a, [{ key: "getAssignedVariations", value: function getAssignedVariations(a2) {
        var b = this.storage.read();
        if (!b.ok)
          return b;
        var c = b.data[a2];
        return c ? (0, _tsRes.Ok)(c) : (0, _tsRes.Err)(new _kameleoonError.KameleoonError(_kameleoonError.KameleoonException.StorageRead, a2));
      } }, { key: "getFeatureFlagVariation", value: function getFeatureFlagVariation(a2) {
        var b = a2.visitorCode, c = a2.featureFlag, d = a2.targetingData, e = a2.packageInfo, f = a2.campaignConfiguration, g = a2.withAssignment, h = _utilities.Utilities.validateVisitorCode(b);
        if (!h.ok)
          return (0, _tsRes.Err)(h.error);
        var i, j = c.rules, k = c.featureKey, l = c.id, m = c.defaultVariationKey, n = _createForOfIteratorHelper(j);
        try {
          for (n.s(); !(i = n.n()).done; ) {
            var o = i.value, p = o.segment, q = o.experimentId, r = o.id, s = o.exposition, t = o.respoolTime, u = o.variationByExposition, v = _utilities.Utilities.checkTargeting({ segment: p, visitorCode: b, experimentId: q, targetingData: d, packageInfo: e, campaignConfiguration: f, variationConfiguration: this });
            if (!v.ok)
              return v;
            if (v.data) {
              var w = _hasher.Hasher.obtainFeatureFlagHashDouble({ visitorCode: b, respoolTime: t, campaignId: r + "" });
              if (w <= s) {
                var x, y = 0, z = _hasher.Hasher.obtainFeatureFlagHashDouble({ visitorCode: b, respoolTime: t, campaignId: q + "" }), A = _createForOfIteratorHelper(u);
                try {
                  for (A.s(); !(x = A.n()).done; ) {
                    var B = x.value;
                    if (y += B.exposition, z <= y) {
                      o.type === _types.RuleType.EXPERIMENTATION && void 0 !== g && g && this.updateStorageData({
                        visitorCode: b,
                        experimentId: q + "",
                        // --- Note ---
                        // For `RuleType.EXPERIMENTATION` `variationId` can not be null
                        variationId: B.variationId
                      });
                      var C = B.exposition, D = _objectWithoutProperties(B, _excluded);
                      return (0, _tsRes.Ok)(_objectSpread(_objectSpread({}, D), {}, { rule: o, featureFlagId: l, featureKey: k, experimentId: q }));
                    }
                  }
                } catch (a3) {
                  A.e(a3);
                } finally {
                  A.f();
                }
              }
              if (o.type === _types.RuleType.TARGETED_DELIVERY)
                break;
            }
          }
        } catch (a3) {
          n.e(a3);
        } finally {
          n.f();
        }
        return (0, _tsRes.Ok)({ featureKey: k, featureFlagId: l, experimentId: null, variationKey: m, variationId: null, rule: null });
      } }, { key: "getExperimentVariation", value: function getExperimentVariation(a2, b) {
        var c, d = b.id, e = b.respoolTime, f = b.deviations, g = _hasher.Hasher.obtainExperimentHashDouble({ visitorCode: a2, campaignId: d, respoolTime: e }), h = true, i = 0, j = 0, k = _createForOfIteratorHelper(f);
        try {
          for (k.s(); !(c = k.n()).done; ) {
            var l = c.value;
            if (i += l.value, i >= g) {
              h = false, "origin" !== l.variationId && (j = +l.variationId);
              break;
            }
          }
        } catch (a3) {
          k.e(a3);
        } finally {
          k.f();
        }
        return h ? (0, _tsRes.Err)(new _kameleoonError.KameleoonError(_kameleoonError.KameleoonException.NotAllocated, a2)) : (0, _tsRes.Ok)(j);
      } }, { key: "assignVariation", value: function assignVariation(a2, b) {
        var c = this.getExperimentVariation(a2, b);
        if (!c.ok)
          return c;
        var d = this.updateStorageData({ visitorCode: a2, experimentId: b.id, variationId: c.data });
        return d.ok ? (0, _tsRes.Ok)(c.data) : d;
      } }, {
        key: "updateStorageData",
        value: function updateStorageData(a2) {
          var b = a2.visitorCode, c = a2.experimentId, d = a2.variationId, e = this.storage.read();
          if (!e.ok && e.error.type === _kameleoonError.KameleoonException.StorageParse)
            return e;
          var f = e.ok ? e.data : {}, g = { variationId: d, assignmentDate: (/* @__PURE__ */ new Date()).toString() };
          return f[b] ? f[b][c] = g : f[b] = _defineProperty({}, c, g), this.storage.write(f);
        }
        // --- TODO: commented out in case of future logic rework ---
        // --- Mind: `variationId` could cause the `undefined` issue ---
        // --- Reference: https://development.kameleoon.net/sdk/javascript-sdk-packages/-/merge_requests/89 ---
        // private getAssignedRuleVariation(
        //   visitorCode: string,
        //   rule: RuleItemType,
        // ): Result<GetAssignedRuleVariationResultType, KameleoonError> {
        //   const emptyVariation: Omit<VariationByExpositionType, 'exposition'> = {
        //     variationId: null,
        //     variationKey: '',
        //   };
        //   const { experimentId, variationByExposition } = rule;
        //   const variationsResult = this.getAssignedVariations(visitorCode);
        //   // --- Note ---
        //   // If there is an error, we just want to skip seeking
        //   // for variation in the storage, not throw an error
        //   if (!variationsResult.ok) {
        //     return Ok(emptyVariation);
        //   }
        //   const variations = variationsResult.data;
        //   if (
        //     experimentId &&
        //     typeof variations[experimentId].variationId !== undefined
        //   ) {
        //     const id = variations[experimentId].variationId;
        //     const featureFlagVariation = variationByExposition.find(
        //       (item) => item.variationId == id,
        //     );
        //     if (!featureFlagVariation) {
        //       // --- Note ---
        //       // This error is not described for public methods as
        //       // it serves internal purpose of checking whether
        //       // the persistent variation has been updated and should be re-allocated
        //       return Err(new KameleoonError(KameleoonException.DataInconsistency));
        //     }
        //     const { exposition, ...restParameters } = featureFlagVariation;
        //     return Ok({ ...restParameters });
        //   }
        //   return Ok(emptyVariation);
        // }
      }]), a;
    }();
    exports.VariationConfiguration = VariationConfiguration;
  }
});

// node_modules/@kameleoon/javascript-sdk-core/dist/variationConfiguration/types.js
var require_types12 = __commonJS({
  "node_modules/@kameleoon/javascript-sdk-core/dist/variationConfiguration/types.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
  }
});

// node_modules/@kameleoon/javascript-sdk-core/dist/variationConfiguration/index.js
var require_variationConfiguration2 = __commonJS({
  "node_modules/@kameleoon/javascript-sdk-core/dist/variationConfiguration/index.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true }), Object.defineProperty(exports, "FeatureFlagVariationType", { enumerable: true, get: function get() {
      return _types.FeatureFlagVariationType;
    } }), Object.defineProperty(exports, "VariationConfiguration", { enumerable: true, get: function get() {
      return _variationConfiguration.VariationConfiguration;
    } }), Object.defineProperty(exports, "VariationType", { enumerable: true, get: function get() {
      return _types.VariationType;
    } });
    var _variationConfiguration = require_variationConfiguration();
    var _types = require_types12();
  }
});

// node_modules/@kameleoon/javascript-sdk-core/dist/kameleoonClient.js
var require_kameleoonClient = __commonJS({
  "node_modules/@kameleoon/javascript-sdk-core/dist/kameleoonClient.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true }), exports.KameleoonClient = void 0;
    var _tsRes = require_build();
    var _cacheManager = require_cacheManager2();
    var _campaignConfiguration = require_campaignConfiguration2();
    var _clientSettings = require_clientSettings2();
    var _constants = require_constants2();
    var _kameleoonData = require_kameleoonData();
    var _kameleoonError = require_kameleoonError2();
    var _requester = require_requester2();
    var _storage = require_storage();
    var _externalStorage = require_externalStorage();
    var _utilities = require_utilities2();
    var _variationConfiguration = require_variationConfiguration2();
    function _typeof(a) {
      "@babel/helpers - typeof";
      return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(a2) {
        return typeof a2;
      } : function(a2) {
        return a2 && "function" == typeof Symbol && a2.constructor === Symbol && a2 !== Symbol.prototype ? "symbol" : typeof a2;
      }, _typeof(a);
    }
    function _createForOfIteratorHelper(a, b) {
      var c = "undefined" != typeof Symbol && a[Symbol.iterator] || a["@@iterator"];
      if (!c) {
        if (Array.isArray(a) || (c = _unsupportedIterableToArray(a)) || b && a && "number" == typeof a.length) {
          c && (a = c);
          var d = 0, e = function() {
          };
          return { s: e, n: function n() {
            return d >= a.length ? { done: true } : { done: false, value: a[d++] };
          }, e: function e2(a2) {
            throw a2;
          }, f: e };
        }
        throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
      }
      var f, g = true, h = false;
      return { s: function s() {
        c = c.call(a);
      }, n: function n() {
        var a2 = c.next();
        return g = a2.done, a2;
      }, e: function e2(a2) {
        h = true, f = a2;
      }, f: function f2() {
        try {
          g || null == c.return || c.return();
        } finally {
          if (h)
            throw f2;
        }
      } };
    }
    function _unsupportedIterableToArray(a, b) {
      if (a) {
        if ("string" == typeof a)
          return _arrayLikeToArray(a, b);
        var c = Object.prototype.toString.call(a).slice(8, -1);
        return "Object" === c && a.constructor && (c = a.constructor.name), "Map" === c || "Set" === c ? Array.from(a) : "Arguments" === c || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c) ? _arrayLikeToArray(a, b) : void 0;
      }
    }
    function _arrayLikeToArray(a, b) {
      (null == b || b > a.length) && (b = a.length);
      for (var c = 0, d = Array(b); c < b; c++)
        d[c] = a[c];
      return d;
    }
    function _regeneratorRuntime() {
      "use strict";
      function a(a2, b2, c2) {
        return Object.defineProperty(a2, b2, { value: c2, enumerable: true, configurable: true, writable: true }), a2[b2];
      }
      function b(a2, b2, c2, e2) {
        var f2 = b2 && b2.prototype instanceof d ? b2 : d, g2 = Object.create(f2.prototype), h2 = new m(e2 || []);
        return s(g2, "_invoke", { value: i(a2, c2, h2) }), g2;
      }
      function c(a2, b2, c2) {
        try {
          return { type: "normal", arg: a2.call(b2, c2) };
        } catch (a3) {
          return { type: "throw", arg: a3 };
        }
      }
      function d() {
      }
      function e() {
      }
      function f() {
      }
      function g(b2) {
        ["next", "throw", "return"].forEach(function(c2) {
          a(b2, c2, function(a2) {
            return this._invoke(c2, a2);
          });
        });
      }
      function h(a2, b2) {
        function d2(e3, f2, g2, h2) {
          var i2 = c(a2[e3], a2, f2);
          if ("throw" !== i2.type) {
            var j2 = i2.arg, k2 = j2.value;
            return k2 && "object" == _typeof(k2) && r.call(k2, "__await") ? b2.resolve(k2.__await).then(function(a3) {
              d2("next", a3, g2, h2);
            }, function(a3) {
              d2("throw", a3, g2, h2);
            }) : b2.resolve(k2).then(function(a3) {
              j2.value = a3, g2(j2);
            }, function(a3) {
              return d2("throw", a3, g2, h2);
            });
          }
          h2(i2.arg);
        }
        var e2;
        s(this, "_invoke", { value: function value(a3, c2) {
          function f2() {
            return new b2(function(b3, e3) {
              d2(a3, c2, b3, e3);
            });
          }
          return e2 = e2 ? e2.then(f2, f2) : f2();
        } });
      }
      function i(a2, b2, d2) {
        var e2 = "suspendedStart";
        return function(f2, g2) {
          if ("executing" == e2)
            throw new Error("Generator is already running");
          if ("completed" == e2) {
            if ("throw" === f2)
              throw g2;
            return o();
          }
          for (d2.method = f2, d2.arg = g2; ; ) {
            var h2 = d2.delegate;
            if (h2) {
              var i2 = j(h2, d2);
              if (i2) {
                if (i2 === x)
                  continue;
                return i2;
              }
            }
            if ("next" === d2.method)
              d2.sent = d2._sent = d2.arg;
            else if ("throw" === d2.method) {
              if ("suspendedStart" == e2)
                throw e2 = "completed", d2.arg;
              d2.dispatchException(d2.arg);
            } else
              "return" === d2.method && d2.abrupt("return", d2.arg);
            e2 = "executing";
            var k2 = c(a2, b2, d2);
            if ("normal" === k2.type) {
              if (e2 = d2.done ? "completed" : "suspendedYield", k2.arg === x)
                continue;
              return { value: k2.arg, done: d2.done };
            }
            "throw" === k2.type && (e2 = "completed", d2.method = "throw", d2.arg = k2.arg);
          }
        };
      }
      function j(a2, b2) {
        var d2 = b2.method, e2 = a2.iterator[d2];
        if (void 0 === e2)
          return b2.delegate = null, "throw" === d2 && a2.iterator.return && (b2.method = "return", b2.arg = void 0, j(a2, b2), "throw" === b2.method) || "return" !== d2 && (b2.method = "throw", b2.arg = new TypeError("The iterator does not provide a '" + d2 + "' method")), x;
        var f2 = c(e2, a2.iterator, b2.arg);
        if ("throw" === f2.type)
          return b2.method = "throw", b2.arg = f2.arg, b2.delegate = null, x;
        var g2 = f2.arg;
        return g2 ? g2.done ? (b2[a2.resultName] = g2.value, b2.next = a2.nextLoc, "return" !== b2.method && (b2.method = "next", b2.arg = void 0), b2.delegate = null, x) : g2 : (b2.method = "throw", b2.arg = new TypeError("iterator result is not an object"), b2.delegate = null, x);
      }
      function k(a2) {
        var b2 = { tryLoc: a2[0] };
        1 in a2 && (b2.catchLoc = a2[1]), 2 in a2 && (b2.finallyLoc = a2[2], b2.afterLoc = a2[3]), this.tryEntries.push(b2);
      }
      function l(a2) {
        var b2 = a2.completion || {};
        b2.type = "normal", delete b2.arg, a2.completion = b2;
      }
      function m(a2) {
        this.tryEntries = [{ tryLoc: "root" }], a2.forEach(k, this), this.reset(true);
      }
      function n(a2) {
        if (a2) {
          var b2 = a2[u];
          if (b2)
            return b2.call(a2);
          if ("function" == typeof a2.next)
            return a2;
          if (!isNaN(a2.length)) {
            var c2 = -1, d2 = function b3() {
              for (; ++c2 < a2.length; )
                if (r.call(a2, c2))
                  return b3.value = a2[c2], b3.done = false, b3;
              return b3.value = void 0, b3.done = true, b3;
            };
            return d2.next = d2;
          }
        }
        return { next: o };
      }
      function o() {
        return { value: void 0, done: true };
      }
      _regeneratorRuntime = function() {
        return p;
      };
      var p = {}, q = Object.prototype, r = q.hasOwnProperty, s = Object.defineProperty || function(a2, b2, c2) {
        a2[b2] = c2.value;
      }, t = "function" == typeof Symbol ? Symbol : {}, u = t.iterator || "@@iterator", v = t.asyncIterator || "@@asyncIterator", w = t.toStringTag || "@@toStringTag";
      try {
        a({}, "");
      } catch (b2) {
        a = function(a2, b3, c2) {
          return a2[b3] = c2;
        };
      }
      p.wrap = b;
      var x = {}, y = {};
      a(y, u, function() {
        return this;
      });
      var z = Object.getPrototypeOf, A = z && z(z(n([])));
      A && A !== q && r.call(A, u) && (y = A);
      var B = f.prototype = d.prototype = Object.create(y);
      return e.prototype = f, s(B, "constructor", { value: f, configurable: true }), s(f, "constructor", { value: e, configurable: true }), e.displayName = a(f, w, "GeneratorFunction"), p.isGeneratorFunction = function(a2) {
        var b2 = "function" == typeof a2 && a2.constructor;
        return !!b2 && (b2 === e || "GeneratorFunction" === (b2.displayName || b2.name));
      }, p.mark = function(b2) {
        return Object.setPrototypeOf ? Object.setPrototypeOf(b2, f) : (b2.__proto__ = f, a(b2, w, "GeneratorFunction")), b2.prototype = Object.create(B), b2;
      }, p.awrap = function(a2) {
        return { __await: a2 };
      }, g(h.prototype), a(h.prototype, v, function() {
        return this;
      }), p.AsyncIterator = h, p.async = function(a2, c2, d2, e2, f2) {
        void 0 === f2 && (f2 = Promise);
        var g2 = new h(b(a2, c2, d2, e2), f2);
        return p.isGeneratorFunction(c2) ? g2 : g2.next().then(function(a3) {
          return a3.done ? a3.value : g2.next();
        });
      }, g(B), a(B, w, "Generator"), a(B, u, function() {
        return this;
      }), a(B, "toString", function() {
        return "[object Generator]";
      }), p.keys = function(a2) {
        var b2 = Object(a2), c2 = [];
        for (var d2 in b2)
          c2.push(d2);
        return c2.reverse(), function a3() {
          for (; c2.length; ) {
            var d3 = c2.pop();
            if (d3 in b2)
              return a3.value = d3, a3.done = false, a3;
          }
          return a3.done = true, a3;
        };
      }, p.values = n, m.prototype = { constructor: m, reset: function reset(a2) {
        if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = false, this.delegate = null, this.method = "next", this.arg = void 0, this.tryEntries.forEach(l), !a2)
          for (var b2 in this)
            "t" === b2.charAt(0) && r.call(this, b2) && !isNaN(+b2.slice(1)) && (this[b2] = void 0);
      }, stop: function stop() {
        this.done = true;
        var a2 = this.tryEntries[0].completion;
        if ("throw" === a2.type)
          throw a2.arg;
        return this.rval;
      }, dispatchException: function dispatchException(a2) {
        function b2(b3, d3) {
          return f2.type = "throw", f2.arg = a2, c2.next = b3, d3 && (c2.method = "next", c2.arg = void 0), !!d3;
        }
        if (this.done)
          throw a2;
        for (var c2 = this, d2 = this.tryEntries.length - 1; 0 <= d2; --d2) {
          var e2 = this.tryEntries[d2], f2 = e2.completion;
          if ("root" === e2.tryLoc)
            return b2("end");
          if (e2.tryLoc <= this.prev) {
            var g2 = r.call(e2, "catchLoc"), h2 = r.call(e2, "finallyLoc");
            if (g2 && h2) {
              if (this.prev < e2.catchLoc)
                return b2(e2.catchLoc, true);
              if (this.prev < e2.finallyLoc)
                return b2(e2.finallyLoc);
            } else if (!g2) {
              if (!h2)
                throw new Error("try statement without catch or finally");
              if (this.prev < e2.finallyLoc)
                return b2(e2.finallyLoc);
            } else if (this.prev < e2.catchLoc)
              return b2(e2.catchLoc, true);
          }
        }
      }, abrupt: function abrupt(a2, b2) {
        for (var c2, d2 = this.tryEntries.length - 1; 0 <= d2; --d2)
          if (c2 = this.tryEntries[d2], c2.tryLoc <= this.prev && r.call(c2, "finallyLoc") && this.prev < c2.finallyLoc) {
            var e2 = c2;
            break;
          }
        e2 && ("break" === a2 || "continue" === a2) && e2.tryLoc <= b2 && b2 <= e2.finallyLoc && (e2 = null);
        var f2 = e2 ? e2.completion : {};
        return f2.type = a2, f2.arg = b2, e2 ? (this.method = "next", this.next = e2.finallyLoc, x) : this.complete(f2);
      }, complete: function complete(a2, b2) {
        if ("throw" === a2.type)
          throw a2.arg;
        return "break" === a2.type || "continue" === a2.type ? this.next = a2.arg : "return" === a2.type ? (this.rval = this.arg = a2.arg, this.method = "return", this.next = "end") : "normal" === a2.type && b2 && (this.next = b2), x;
      }, finish: function finish(a2) {
        for (var b2, c2 = this.tryEntries.length - 1; 0 <= c2; --c2)
          if (b2 = this.tryEntries[c2], b2.finallyLoc === a2)
            return this.complete(b2.completion, b2.afterLoc), l(b2), x;
      }, catch: function _catch(a2) {
        for (var b2, c2 = this.tryEntries.length - 1; 0 <= c2; --c2)
          if (b2 = this.tryEntries[c2], b2.tryLoc === a2) {
            var d2 = b2.completion;
            if ("throw" === d2.type) {
              var e2 = d2.arg;
              l(b2);
            }
            return e2;
          }
        throw new Error("illegal catch attempt");
      }, delegateYield: function delegateYield(a2, b2, c2) {
        return this.delegate = { iterator: n(a2), resultName: b2, nextLoc: c2 }, "next" === this.method && (this.arg = void 0), x;
      } }, p;
    }
    function asyncGeneratorStep(a, b, c, d, e, f, g) {
      try {
        var h = a[f](g), i = h.value;
      } catch (a2) {
        return void c(a2);
      }
      h.done ? b(i) : Promise.resolve(i).then(d, e);
    }
    function _asyncToGenerator(a) {
      return function() {
        var b = this, c = arguments;
        return new Promise(function(d, e) {
          function f(a2) {
            asyncGeneratorStep(h, d, e, f, g, "next", a2);
          }
          function g(a2) {
            asyncGeneratorStep(h, d, e, f, g, "throw", a2);
          }
          var h = a.apply(b, c);
          f(void 0);
        });
      };
    }
    function _classCallCheck(a, b) {
      if (!(a instanceof b))
        throw new TypeError("Cannot call a class as a function");
    }
    function _defineProperties(a, b) {
      for (var c, d = 0; d < b.length; d++)
        c = b[d], c.enumerable = c.enumerable || false, c.configurable = true, "value" in c && (c.writable = true), Object.defineProperty(a, _toPropertyKey(c.key), c);
    }
    function _createClass(a, b, c) {
      return b && _defineProperties(a.prototype, b), c && _defineProperties(a, c), Object.defineProperty(a, "prototype", { writable: false }), a;
    }
    function _defineProperty(a, b, c) {
      return b = _toPropertyKey(b), b in a ? Object.defineProperty(a, b, { value: c, enumerable: true, configurable: true, writable: true }) : a[b] = c, a;
    }
    function _toPropertyKey(a) {
      var b = _toPrimitive(a, "string");
      return "symbol" === _typeof(b) ? b : b + "";
    }
    function _toPrimitive(a, b) {
      if ("object" !== _typeof(a) || null === a)
        return a;
      var c = a[Symbol.toPrimitive];
      if (c !== void 0) {
        var d = c.call(a, b || "default");
        if ("object" !== _typeof(d))
          return d;
        throw new TypeError("@@toPrimitive must return a primitive value.");
      }
      return ("string" === b ? String : Number)(a);
    }
    var KameleoonClient = function() {
      function a(b) {
        var c = b.siteCode, d = b.configuration, e = b.internalConfiguration;
        _classCallCheck(this, a), _defineProperty(this, "variationConfiguration", void 0), _defineProperty(this, "campaignConfiguration", void 0), _defineProperty(this, "variationDataStorage", void 0), _defineProperty(this, "offlineTrackingStorage", void 0), _defineProperty(this, "trackingCache", void 0), _defineProperty(this, "requester", void 0), _defineProperty(this, "externalPackageInfo", void 0), _defineProperty(this, "isOfflineModeOn", void 0);
        var f = new _clientSettings.ClientSettings(c, d), g = f.settings, h = e.externalStorage, i = e.externalEventSource, j = e.externalPackageInfo, k = e.externalRequestDispatcher, l = e.externalClientConfiguration, m = new _requester.Requester({ siteCode: c, environment: g.environment, packageInfo: j, requestDispatcher: k }), n = new _cacheManager.CacheManager(_constants.CACHE_CLEANUP_TIMEOUT), o = new _externalStorage.ExternalStorage(h.initialize(_storage.KameleoonStorageKey.ClientData)), p = new _externalStorage.ExternalStorage(h.initialize(_storage.KameleoonStorageKey.VariationData)), q = new _externalStorage.ExternalStorage(h.initialize(_storage.KameleoonStorageKey.OfflineTracking)), r = new _campaignConfiguration.CampaignConfiguration({ settings: g, storage: o, requester: m, externalClientConfiguration: l, targetingCleanupInterval: null === d || void 0 === d ? void 0 : d.targetingDataCleanupInterval, offlineTrackingStorage: q, externalEventSource: i });
        this.requester = m, this.trackingCache = n, this.campaignConfiguration = r, this.variationDataStorage = p, this.externalPackageInfo = j, this.offlineTrackingStorage = q;
      }
      return _createClass(a, [{ key: "initialize", value: function() {
        function a2() {
          return b.apply(this, arguments);
        }
        var b = _asyncToGenerator(_regeneratorRuntime().mark(function b2(a3) {
          var c, d;
          return _regeneratorRuntime().wrap(function e(b3) {
            for (; 1; )
              switch (b3.prev = b3.next) {
                case 0:
                  return b3.next = 2, this.campaignConfiguration.initialize(a3);
                case 2:
                  return c = b3.sent, c.throw(), d = new _variationConfiguration.VariationConfiguration(this.campaignConfiguration.experiments, this.variationDataStorage), this.variationConfiguration = d, this.isOfflineModeOn = a3, b3.abrupt("return", c.ok);
                case 8:
                case "end":
                  return b3.stop();
              }
          }, b2, this);
        }));
        return a2;
      }() }, { key: "addData", value: function addData(a2) {
        var b;
        if (_utilities.Utilities.validateVisitorCode(a2).throw(), !this.campaignConfiguration)
          throw new _kameleoonError.KameleoonError(_kameleoonError.KameleoonException.Initialization);
        for (var c = arguments.length, d = Array(1 < c ? c - 1 : 0), e = 1; e < c; e++)
          d[e - 1] = arguments[e];
        (b = this.campaignConfiguration).addTargetingData.apply(b, [a2].concat(d)).throw();
      } }, { key: "getRemoteVisitorData", value: function() {
        function a2(a3) {
          return b.apply(this, arguments);
        }
        var b = _asyncToGenerator(_regeneratorRuntime().mark(function b2(a3) {
          var c, d, e, f, g, h, i, j = arguments;
          return _regeneratorRuntime().wrap(function k(b3) {
            for (; 1; )
              switch (b3.prev = b3.next) {
                case 0:
                  return c = !(1 < j.length && void 0 !== j[1]) || j[1], b3.next = 3, this.requester.getVisitorData(a3);
                case 3:
                  d = b3.sent, e = d.throw(), f = _utilities.Utilities.parseVisitorData(e), g = _createForOfIteratorHelper(f);
                  try {
                    for (g.s(); !(h = g.n()).done; )
                      i = h.value, (c || this.campaignConfiguration.isPersistentCustomData(i)) && this.addData(a3, i);
                  } catch (a4) {
                    g.e(a4);
                  } finally {
                    g.f();
                  }
                  return b3.abrupt("return", f);
                case 9:
                case "end":
                  return b3.stop();
              }
          }, b2, this);
        }));
        return a2;
      }() }, { key: "triggerExperiment", value: function triggerExperiment(a2, b) {
        var c = this;
        if (_utilities.Utilities.validateVisitorCode(a2).throw(), !this.campaignConfiguration || !this.variationConfiguration)
          throw new _kameleoonError.KameleoonError(_kameleoonError.KameleoonException.Initialization);
        var d = this.campaignConfiguration.experiments.find(function(a3) {
          return a3.id === b + "";
        });
        if (!d)
          throw new _kameleoonError.KameleoonError(_kameleoonError.KameleoonException.ExperimentConfigurationNotFound, b, a2);
        var e = this.campaignConfiguration.storedTargetingData[a2], f = _constants.UNALLOCATED_VARIATION_ID, g = _utilities.Utilities.checkTargeting({ visitorCode: a2, experimentId: b, targetingData: e, segment: d.segment, campaignConfiguration: this.campaignConfiguration, variationConfiguration: this.variationConfiguration, packageInfo: this.externalPackageInfo }).throw();
        if (f = this.variationConfiguration.getAssociatedVariationId(a2, b).else(function(d2) {
          if (d2.type === _kameleoonError.KameleoonException.NotAllocated)
            return _utilities.Utilities.trackExperiment({ requester: c.requester, campaignConfiguration: c.campaignConfiguration, isUnallocated: true, variationId: f, visitorCode: a2, experimentId: b, isOfflineModeOn: c.isOfflineModeOn, offlineTrackingStorage: c.offlineTrackingStorage }), _constants.UNALLOCATED_VARIATION_ID;
          throw d2;
        }), _utilities.Utilities.trackExperiment({ requester: this.requester, campaignConfiguration: this.campaignConfiguration, isUnallocated: false, variationId: f, visitorCode: a2, experimentId: b, isOfflineModeOn: this.isOfflineModeOn, offlineTrackingStorage: this.offlineTrackingStorage }), !g)
          throw new _kameleoonError.KameleoonError(_kameleoonError.KameleoonException.NotTargeted, a2);
        return _utilities.Utilities.updateCache({ cacheManager: this.trackingCache, visitorCode: a2, experimentId: b, variationId: f }), f;
      } }, { key: "trackConversion", value: function trackConversion(a2) {
        var b = a2.visitorCode, c = a2.goalId, d = a2.revenue;
        this.addData(b, new _kameleoonData.Conversion({ goalId: c, revenue: d })), this.flush(b);
      } }, { key: "flush", value: function flush(a2) {
        if (!this.campaignConfiguration)
          throw new _kameleoonError.KameleoonError(_kameleoonError.KameleoonException.Initialization);
        if ("string" == typeof a2 && _utilities.Utilities.validateVisitorCode(a2).throw(), a2)
          return void _utilities.Utilities.trackData({ visitorCode: a2, campaignConfiguration: this.campaignConfiguration, requester: this.requester, isOfflineModeOn: this.isOfflineModeOn, offlineTrackingStorage: this.offlineTrackingStorage });
        if (!this.campaignConfiguration.unsentDataVisitors.length)
          return void _utilities.Utilities.sendOfflineTracking({ requester: this.requester, storage: this.offlineTrackingStorage });
        var b, c = _createForOfIteratorHelper(this.campaignConfiguration.unsentDataVisitors);
        try {
          for (c.s(); !(b = c.n()).done; ) {
            var d = b.value;
            _utilities.Utilities.trackData({ visitorCode: d, campaignConfiguration: this.campaignConfiguration, requester: this.requester, isOfflineModeOn: this.isOfflineModeOn, offlineTrackingStorage: this.offlineTrackingStorage });
          }
        } catch (a3) {
          c.e(a3);
        } finally {
          c.f();
        }
      } }, { key: "flushData", value: function flushData(a2) {
        this.flush(a2);
      } }, { key: "getExperiments", value: function getExperiments() {
        if (!this.campaignConfiguration)
          throw new _kameleoonError.KameleoonError(_kameleoonError.KameleoonException.Initialization);
        return this.campaignConfiguration.experiments.map(function(a2) {
          var b = a2.id, c = a2.name;
          return { id: +b, name: c };
        });
      } }, { key: "getVisitorExperiments", value: function getVisitorExperiments(a2) {
        var b = !(1 < arguments.length && void 0 !== arguments[1]) || arguments[1];
        if (!this.variationConfiguration || !this.campaignConfiguration)
          throw new _kameleoonError.KameleoonError(_kameleoonError.KameleoonException.Initialization);
        _utilities.Utilities.validateVisitorCode(a2).throw();
        var c, d = this.campaignConfiguration.experiments, e = [], f = this.campaignConfiguration.storedTargetingData[a2], g = _createForOfIteratorHelper(d);
        try {
          for (g.s(); !(c = g.n()).done; ) {
            var h = c.value, i = h.id, j = h.name, k = h.segment, l = _utilities.Utilities.checkTargeting({ targetingData: f, visitorCode: a2, segment: k, variationConfiguration: this.variationConfiguration, campaignConfiguration: this.campaignConfiguration, experimentId: +i, packageInfo: this.externalPackageInfo }).throw();
            if (l) {
              if (!b) {
                e.push({ id: +i, name: j });
                continue;
              }
              var m = this.variationConfiguration.getAssignedVariations(a2);
              if (m.ok) {
                var n = m.data[h.id];
                if (n) {
                  e.push({ id: +i, name: j });
                  continue;
                }
              }
              var o = this.variationConfiguration.getExperimentVariation(a2, h);
              o.ok && e.push({ id: +i, name: j });
            }
          }
        } catch (a3) {
          g.e(a3);
        } finally {
          g.f();
        }
        return e;
      } }, { key: "getExperimentVariationData", value: function getExperimentVariationData(a2) {
        if (!this.campaignConfiguration)
          throw new _kameleoonError.KameleoonError(_kameleoonError.KameleoonException.Initialization);
        var b, c = this.campaignConfiguration.experiments, d = _createForOfIteratorHelper(c);
        try {
          for (d.s(); !(b = d.n()).done; ) {
            var e = b.value, f = e.variations.find(function(b2) {
              return b2.id === a2 + "";
            });
            if (f)
              try {
                return JSON.parse(f.customJson);
              } catch (a3) {
                throw new _kameleoonError.KameleoonError(_kameleoonError.KameleoonException.JSONParse, a3);
              }
          }
        } catch (a3) {
          d.e(a3);
        } finally {
          d.f();
        }
        throw new _kameleoonError.KameleoonError(_kameleoonError.KameleoonException.VariationNotFound);
      } }, { key: "getFeatureFlags", value: function getFeatureFlags() {
        if (!this.campaignConfiguration)
          throw new _kameleoonError.KameleoonError(_kameleoonError.KameleoonException.Initialization);
        return this.campaignConfiguration.featureFlags.map(function(a2) {
          var b = a2.id, c = a2.featureKey;
          return { id: b, key: c };
        });
      } }, { key: "getVisitorFeatureFlags", value: function getVisitorFeatureFlags(a2) {
        if (!this.variationConfiguration || !this.campaignConfiguration)
          throw new _kameleoonError.KameleoonError(_kameleoonError.KameleoonException.Initialization);
        var b, c = this.campaignConfiguration.featureFlags, d = [], e = this.campaignConfiguration.storedTargetingData[a2], f = _createForOfIteratorHelper(c);
        try {
          for (f.s(); !(b = f.n()).done; ) {
            var g = b.value, h = this.variationConfiguration.getFeatureFlagVariation({ visitorCode: a2, targetingData: e, featureFlag: g, campaignConfiguration: this.campaignConfiguration, packageInfo: this.externalPackageInfo }).throw();
            if (h.variationKey !== _constants.OFF_VARIATION_KEY) {
              var i = h.featureFlagId, j = h.featureKey;
              d.push({ id: i, key: j });
            }
          }
        } catch (a3) {
          f.e(a3);
        } finally {
          f.f();
        }
        return d;
      } }, { key: "getFeatureFlagVariationKey", value: function getFeatureFlagVariationKey(a2, b) {
        _utilities.Utilities.validateVisitorCode(a2).throw();
        var c = this._getFeatureFlagVariation(a2, b).throw(), d = c.variationKey;
        return d;
      } }, { key: "getFeatureFlagVariable", value: function getFeatureFlagVariable(a2) {
        var b, c = a2.visitorCode, d = a2.featureKey, e = a2.variableKey;
        _utilities.Utilities.validateVisitorCode(c).throw();
        var f = this._getFeatureFlagVariation(c, d).throw(), g = f.variationKey, h = this.campaignConfiguration.featureFlags, i = h.find(function(a3) {
          return a3.featureKey === d;
        });
        if (!i)
          throw new _kameleoonError.KameleoonError(_kameleoonError.KameleoonException.FeatureFlagConfigurationNotFound, d, c);
        var j = null === (b = i.variations.find(function(a3) {
          return a3.key === g;
        })) || void 0 === b ? void 0 : b.variables.find(function(a3) {
          return a3.key === e;
        });
        if (!j)
          throw new _kameleoonError.KameleoonError(_kameleoonError.KameleoonException.FeatureFlagVariableNotFound, e, c);
        var k = _utilities.Utilities.parseFeatureVariable(j).throw();
        return k;
      } }, { key: "isFeatureFlagActive", value: function isFeatureFlagActive(a2, b) {
        var c = this.getFeatureFlagVariationKey(a2, b);
        return c !== _constants.OFF_VARIATION_KEY;
      } }, { key: "getRemoteData", value: function() {
        function a2(a3) {
          return b.apply(this, arguments);
        }
        var b = _asyncToGenerator(_regeneratorRuntime().mark(function b2(a3) {
          var c;
          return _regeneratorRuntime().wrap(function d(b3) {
            for (; 1; )
              switch (b3.prev = b3.next) {
                case 0:
                  return b3.next = 2, this.requester.getRemoteData(a3);
                case 2:
                  return c = b3.sent, b3.abrupt("return", c.throw());
                case 4:
                case "end":
                  return b3.stop();
              }
          }, b2, this);
        }));
        return a2;
      }() }, { key: "onConfigurationUpdate", value: function onConfigurationUpdate(a2) {
        if (!this.campaignConfiguration)
          throw new _kameleoonError.KameleoonError(_kameleoonError.KameleoonException.Initialization);
        this.campaignConfiguration.onConfigurationUpdate(a2);
      } }, { key: "getEngineTrackingCode", value: function getEngineTrackingCode(a2) {
        return _utilities.Utilities.validateVisitorCode(a2).throw(), _utilities.Utilities.getTrackingCode(this.trackingCache, a2);
      } }, { key: "_getFeatureFlagVariation", value: function _getFeatureFlagVariation(a2, b) {
        if (!this.variationConfiguration || !this.campaignConfiguration)
          return (0, _tsRes.Err)(new _kameleoonError.KameleoonError(_kameleoonError.KameleoonException.Initialization));
        var c = this.campaignConfiguration.featureFlags, d = c.find(function(a3) {
          return a3.featureKey === b;
        });
        if (!d)
          return (0, _tsRes.Err)(new _kameleoonError.KameleoonError(_kameleoonError.KameleoonException.FeatureFlagConfigurationNotFound, b, a2));
        var e = this.campaignConfiguration.storedTargetingData[a2], f = this.variationConfiguration.getFeatureFlagVariation({ visitorCode: a2, featureFlag: d, targetingData: e, withAssignment: true, campaignConfiguration: this.campaignConfiguration, packageInfo: this.externalPackageInfo }).throw(), g = f.experimentId, h = f.variationId;
        return "number" == typeof h && "number" == typeof g && _utilities.Utilities.updateCache({ cacheManager: this.trackingCache, visitorCode: a2, experimentId: g, variationId: h }), _utilities.Utilities.trackRule({ visitorCode: a2, requester: this.requester, featureFlagVariation: f, campaignConfiguration: this.campaignConfiguration, isOfflineModeOn: this.isOfflineModeOn, offlineTrackingStorage: this.offlineTrackingStorage }), (0, _tsRes.Ok)(f);
      } }]), a;
    }();
    exports.KameleoonClient = KameleoonClient;
  }
});

// node_modules/@kameleoon/javascript-sdk-core/dist/kameleoonUtils.js
var require_kameleoonUtils = __commonJS({
  "node_modules/@kameleoon/javascript-sdk-core/dist/kameleoonUtils.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true }), exports.KameleoonUtils = void 0;
    var _tsRes = require_build();
    var _constants = require_constants2();
    function _typeof(a) {
      "@babel/helpers - typeof";
      return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(a2) {
        return typeof a2;
      } : function(a2) {
        return a2 && "function" == typeof Symbol && a2.constructor === Symbol && a2 !== Symbol.prototype ? "symbol" : typeof a2;
      }, _typeof(a);
    }
    function _slicedToArray(a, b) {
      return _arrayWithHoles(a) || _iterableToArrayLimit(a, b) || _unsupportedIterableToArray(a, b) || _nonIterableRest();
    }
    function _nonIterableRest() {
      throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
    }
    function _unsupportedIterableToArray(a, b) {
      if (a) {
        if ("string" == typeof a)
          return _arrayLikeToArray(a, b);
        var c = Object.prototype.toString.call(a).slice(8, -1);
        return "Object" === c && a.constructor && (c = a.constructor.name), "Map" === c || "Set" === c ? Array.from(a) : "Arguments" === c || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c) ? _arrayLikeToArray(a, b) : void 0;
      }
    }
    function _arrayLikeToArray(a, b) {
      (null == b || b > a.length) && (b = a.length);
      for (var c = 0, d = Array(b); c < b; c++)
        d[c] = a[c];
      return d;
    }
    function _iterableToArrayLimit(a, b) {
      var c = null == a ? null : "undefined" != typeof Symbol && a[Symbol.iterator] || a["@@iterator"];
      if (null != c) {
        var d, e, f, g, h = [], i = true, j = false;
        try {
          if (f = (c = c.call(a)).next, 0 === b) {
            if (Object(c) !== c)
              return;
            i = false;
          } else
            for (; !(i = (d = f.call(c)).done) && (h.push(d.value), h.length !== b); i = true)
              ;
        } catch (a2) {
          j = true, e = a2;
        } finally {
          try {
            if (!i && null != c.return && (g = c.return(), Object(g) !== g))
              return;
          } finally {
            if (j)
              throw e;
          }
        }
        return h;
      }
    }
    function _arrayWithHoles(a) {
      if (Array.isArray(a))
        return a;
    }
    function _classCallCheck(a, b) {
      if (!(a instanceof b))
        throw new TypeError("Cannot call a class as a function");
    }
    function _defineProperties(a, b) {
      for (var c, d = 0; d < b.length; d++)
        c = b[d], c.enumerable = c.enumerable || false, c.configurable = true, "value" in c && (c.writable = true), Object.defineProperty(a, _toPropertyKey(c.key), c);
    }
    function _createClass(a, b, c) {
      return b && _defineProperties(a.prototype, b), c && _defineProperties(a, c), Object.defineProperty(a, "prototype", { writable: false }), a;
    }
    function _toPropertyKey(a) {
      var b = _toPrimitive(a, "string");
      return "symbol" === _typeof(b) ? b : b + "";
    }
    function _toPrimitive(a, b) {
      if ("object" !== _typeof(a) || null === a)
        return a;
      var c = a[Symbol.toPrimitive];
      if (c !== void 0) {
        var d = c.call(a, b || "default");
        if ("object" !== _typeof(d))
          return d;
        throw new TypeError("@@toPrimitive must return a primitive value.");
      }
      return ("string" === b ? String : Number)(a);
    }
    var KameleoonUtils = function() {
      function a() {
        _classCallCheck(this, a);
      }
      return _createClass(a, [{ key: "generateRandomString", value: function generateRandomString(a2) {
        var b = "";
        if (0 > a2)
          return b;
        for (var c = 0; c < a2; c++)
          b += "abcdefghijklmnopqrstuvwxyz0123456789"[Math.floor(36 * Math.random())];
        return b;
      } }, { key: "getCookieVisitorCode", value: function getCookieVisitorCode(a2) {
        var b = a2.split(_constants.Cookie.PairsDelimiter), c = b.find(function(a3) {
          var b2 = a3.split(_constants.Cookie.KeyValueDelimiter), c2 = _slicedToArray(b2, 2), d2 = c2[0], e2 = c2[1];
          return d2 === _constants.KAMELEOON_COOKIE_KEY;
        });
        if (c) {
          var d = c.split(_constants.Cookie.KeyValueDelimiter), e = _slicedToArray(d, 2), f = e[0], g = e[1];
          return (0, _tsRes.Ok)(g);
        }
        return (0, _tsRes.Err)();
      } }, { key: "getResultCookie", value: function getResultCookie(a2) {
        var b = a2.domain, c = a2.visitorCode, d = [_constants.KAMELEOON_COOKIE_KEY + _constants.Cookie.KeyValueDelimiter + c, _constants.Cookie.MaxAge + _constants.Cookie.KeyValueDelimiter + 31536e3, _constants.Cookie.Path + _constants.Cookie.KeyValueDelimiter + "/", _constants.Cookie.Domain + _constants.Cookie.KeyValueDelimiter + b];
        return d.join(_constants.Cookie.PairsDelimiter);
      } }]), a;
    }();
    exports.KameleoonUtils = KameleoonUtils;
  }
});

// node_modules/@kameleoon/javascript-sdk-core/dist/index.js
var require_dist = __commonJS({
  "node_modules/@kameleoon/javascript-sdk-core/dist/index.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true }), Object.defineProperty(exports, "Browser", { enumerable: true, get: function get() {
      return _kameleoonData.Browser;
    } }), Object.defineProperty(exports, "BrowserType", { enumerable: true, get: function get() {
      return _kameleoonData.BrowserType;
    } }), Object.defineProperty(exports, "CLEANUP_TARGETING_DATA_INTERVAL", { enumerable: true, get: function get() {
      return _campaignConfiguration.CLEANUP_TARGETING_DATA_INTERVAL;
    } }), Object.defineProperty(exports, "ClientGetVisitorCodeParametersType", { enumerable: true, get: function get() {
      return _types.ClientGetVisitorCodeParametersType;
    } }), Object.defineProperty(exports, "Conversion", { enumerable: true, get: function get() {
      return _kameleoonData.Conversion;
    } }), Object.defineProperty(exports, "ConversionParametersType", { enumerable: true, get: function get() {
      return _kameleoonData.ConversionParametersType;
    } }), Object.defineProperty(exports, "Cookie", { enumerable: true, get: function get() {
      return _constants.Cookie;
    } }), Object.defineProperty(exports, "CustomData", { enumerable: true, get: function get() {
      return _kameleoonData.CustomData;
    } }), Object.defineProperty(exports, "Device", { enumerable: true, get: function get() {
      return _kameleoonData.Device;
    } }), Object.defineProperty(exports, "DeviceType", { enumerable: true, get: function get() {
      return _kameleoonData.DeviceType;
    } }), Object.defineProperty(exports, "Environment", { enumerable: true, get: function get() {
      return _types.Environment;
    } }), Object.defineProperty(exports, "Err", { enumerable: true, get: function get() {
      return _tsRes.Err;
    } }), Object.defineProperty(exports, "EventSourceOpenParametersType", { enumerable: true, get: function get() {
      return _eventSource.EventSourceOpenParametersType;
    } }), Object.defineProperty(exports, "ExperimentType", { enumerable: true, get: function get() {
      return _types.ExperimentType;
    } }), Object.defineProperty(exports, "ExternalPackageInfoType", { enumerable: true, get: function get() {
      return _types.ExternalPackageInfoType;
    } }), Object.defineProperty(exports, "FeatureFlagType", { enumerable: true, get: function get() {
      return _types.FeatureFlagType;
    } }), Object.defineProperty(exports, "FeatureVariableResultType", { enumerable: true, get: function get() {
      return _types.FeatureVariableResultType;
    } }), Object.defineProperty(exports, "GetClientConfigurationResultType", { enumerable: true, get: function get() {
      return _requester.GetClientConfigurationResultType;
    } }), Object.defineProperty(exports, "GetFeatureFlagVariableParamsType", { enumerable: true, get: function get() {
      return _types.GetFeatureFlagVariableParamsType;
    } }), Object.defineProperty(exports, "Header", { enumerable: true, get: function get() {
      return _requester.Header;
    } }), Object.defineProperty(exports, "HttpMethod", { enumerable: true, get: function get() {
      return _requester.HttpMethod;
    } }), Object.defineProperty(exports, "IExternalEventSource", { enumerable: true, get: function get() {
      return _eventSource.IExternalEventSource;
    } }), Object.defineProperty(exports, "IExternalEventSourceConstructor", { enumerable: true, get: function get() {
      return _eventSource.IExternalEventSourceConstructor;
    } }), Object.defineProperty(exports, "IExternalRequestDispatcher", { enumerable: true, get: function get() {
      return _requester.IExternalRequestDispatcher;
    } }), Object.defineProperty(exports, "IExternalStorage", { enumerable: true, get: function get() {
      return _storage.IExternalStorage;
    } }), Object.defineProperty(exports, "IExternalStorageConstructor", { enumerable: true, get: function get() {
      return _storage.IExternalStorageConstructor;
    } }), Object.defineProperty(exports, "IKameleoonCore", { enumerable: true, get: function get() {
      return _kameleoonClient.IKameleoonClient;
    } }), Object.defineProperty(exports, "InternalSDKConfigurationType", { enumerable: true, get: function get() {
      return _types.InternalSDKConfigurationType;
    } }), Object.defineProperty(exports, "JSONType", { enumerable: true, get: function get() {
      return _campaignConfiguration.JSONType;
    } }), Object.defineProperty(exports, "KameleoonCore", { enumerable: true, get: function get() {
      return _kameleoonClient.KameleoonClient;
    } }), Object.defineProperty(exports, "KameleoonCoreUtils", { enumerable: true, get: function get() {
      return _kameleoonUtils.KameleoonUtils;
    } }), Object.defineProperty(exports, "KameleoonData", { enumerable: true, get: function get() {
      return _kameleoonData.KameleoonData;
    } }), Object.defineProperty(exports, "KameleoonDataType", { enumerable: true, get: function get() {
      return _kameleoonData.KameleoonDataType;
    } }), Object.defineProperty(exports, "KameleoonError", { enumerable: true, get: function get() {
      return _kameleoonError.KameleoonError;
    } }), Object.defineProperty(exports, "KameleoonException", { enumerable: true, get: function get() {
      return _kameleoonError.KameleoonException;
    } }), Object.defineProperty(exports, "KameleoonStorageKey", { enumerable: true, get: function get() {
      return _storage.KameleoonStorageKey;
    } }), Object.defineProperty(exports, "Milliseconds", { enumerable: true, get: function get() {
      return _types.Milliseconds;
    } }), Object.defineProperty(exports, "MobileGetVisitorCodeParametersType", { enumerable: true, get: function get() {
      return _types.MobileGetVisitorCodeParametersType;
    } }), Object.defineProperty(exports, "Ok", { enumerable: true, get: function get() {
      return _tsRes.Ok;
    } }), Object.defineProperty(exports, "PageView", { enumerable: true, get: function get() {
      return _kameleoonData.PageView;
    } }), Object.defineProperty(exports, "PageViewParametersType", { enumerable: true, get: function get() {
      return _kameleoonData.PageViewParametersType;
    } }), Object.defineProperty(exports, "RealTimeEventType", { enumerable: true, get: function get() {
      return _eventSource.RealTimeEventType;
    } }), Object.defineProperty(exports, "Result", { enumerable: true, get: function get() {
      return _tsRes.Result;
    } }), Object.defineProperty(exports, "SDKConfigurationType", { enumerable: true, get: function get() {
      return _types.SDKConfigurationType;
    } }), Object.defineProperty(exports, "SDKCoreParameters", { enumerable: true, get: function get() {
      return _types.SDKCoreParameters;
    } }), Object.defineProperty(exports, "SdkLanguageType", { enumerable: true, get: function get() {
      return _constants.SdkLanguageType;
    } }), Object.defineProperty(exports, "ServerGetVisitorCodeParametersType", { enumerable: true, get: function get() {
      return _types.ServerGetVisitorCodeParametersType;
    } }), Object.defineProperty(exports, "TrackConversionParamsType", { enumerable: true, get: function get() {
      return _types.TrackConversionParamsType;
    } }), Object.defineProperty(exports, "TrackParametersType", { enumerable: true, get: function get() {
      return _requester.TrackParametersType;
    } }), Object.defineProperty(exports, "UserAgent", { enumerable: true, get: function get() {
      return _kameleoonData.UserAgent;
    } }), Object.defineProperty(exports, "VISITOR_CODE_LENGTH", { enumerable: true, get: function get() {
      return _constants.VISITOR_CODE_LENGTH;
    } }), Object.defineProperty(exports, "VariableType", { enumerable: true, get: function get() {
      return _types.VariableType;
    } });
    var _tsRes = require_build();
    var _kameleoonClient = require_kameleoonClient();
    var _kameleoonUtils = require_kameleoonUtils();
    var _kameleoonError = require_kameleoonError2();
    var _storage = require_storage();
    var _constants = require_constants2();
    var _campaignConfiguration = require_campaignConfiguration2();
    var _types = require_types();
    var _kameleoonData = require_kameleoonData();
    var _eventSource = require_eventSource();
    var _requester = require_requester2();
  }
});

// node_modules/@kameleoon/javascript-sdk/dist/kameleoonUtils.js
var require_kameleoonUtils2 = __commonJS({
  "node_modules/@kameleoon/javascript-sdk/dist/kameleoonUtils.js"(exports) {
    "use strict";
    var _javascriptSdkCore = require_dist();
    function _typeof(a) {
      "@babel/helpers - typeof";
      return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(a2) {
        return typeof a2;
      } : function(a2) {
        return a2 && "function" == typeof Symbol && a2.constructor === Symbol && a2 !== Symbol.prototype ? "symbol" : typeof a2;
      }, _typeof(a);
    }
    Object.defineProperty(exports, "__esModule", { value: true }), exports.KameleoonUtils = void 0;
    function _classCallCheck(a, b) {
      if (!(a instanceof b))
        throw new TypeError("Cannot call a class as a function");
    }
    function _defineProperties(a, b) {
      for (var c, d = 0; d < b.length; d++)
        c = b[d], c.enumerable = c.enumerable || false, c.configurable = true, "value" in c && (c.writable = true), Object.defineProperty(a, _toPropertyKey(c.key), c);
    }
    function _createClass(a, b, c) {
      return b && _defineProperties(a.prototype, b), c && _defineProperties(a, c), Object.defineProperty(a, "prototype", { writable: false }), a;
    }
    function _toPropertyKey(a) {
      var b = _toPrimitive(a, "string");
      return "symbol" === _typeof(b) ? b : b + "";
    }
    function _toPrimitive(a, b) {
      if ("object" !== _typeof(a) || null === a)
        return a;
      var c = a[Symbol.toPrimitive];
      if (c !== void 0) {
        var d = c.call(a, b || "default");
        if ("object" !== _typeof(d))
          return d;
        throw new TypeError("@@toPrimitive must return a primitive value.");
      }
      return ("string" === b ? String : Number)(a);
    }
    function _inherits(a, b) {
      if ("function" != typeof b && null !== b)
        throw new TypeError("Super expression must either be null or a function");
      a.prototype = Object.create(b && b.prototype, { constructor: { value: a, writable: true, configurable: true } }), Object.defineProperty(a, "prototype", { writable: false }), b && _setPrototypeOf(a, b);
    }
    function _setPrototypeOf(a, b) {
      return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(a2, b2) {
        return a2.__proto__ = b2, a2;
      }, _setPrototypeOf(a, b);
    }
    function _createSuper(a) {
      var b = _isNativeReflectConstruct();
      return function() {
        var c, d = _getPrototypeOf(a);
        if (b) {
          var e = _getPrototypeOf(this).constructor;
          c = Reflect.construct(d, arguments, e);
        } else
          c = d.apply(this, arguments);
        return _possibleConstructorReturn(this, c);
      };
    }
    function _possibleConstructorReturn(a, b) {
      if (b && ("object" === _typeof(b) || "function" == typeof b))
        return b;
      if (void 0 !== b)
        throw new TypeError("Derived constructors may only return object or undefined");
      return _assertThisInitialized(a);
    }
    function _assertThisInitialized(a) {
      if (void 0 === a)
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      return a;
    }
    function _isNativeReflectConstruct() {
      if ("undefined" == typeof Reflect || !Reflect.construct)
        return false;
      if (Reflect.construct.sham)
        return false;
      if ("function" == typeof Proxy)
        return true;
      try {
        return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
        })), true;
      } catch (a) {
        return false;
      }
    }
    function _getPrototypeOf(a) {
      return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(a2) {
        return a2.__proto__ || Object.getPrototypeOf(a2);
      }, _getPrototypeOf(a);
    }
    var KameleoonUtilsConstructor = function(a) {
      function b() {
        return _classCallCheck(this, b), c.apply(this, arguments);
      }
      _inherits(b, a);
      var c = _createSuper(b);
      return _createClass(b, [{ key: "getVisitorCode", value: function getVisitorCode(a2) {
        var b2 = a2.domain, c2 = a2.defaultVisitorCode, d = document.cookie, e = this.getCookieVisitorCode(d);
        if (e.ok && e.data)
          return e.data;
        var f = c2 || this.generateRandomString(_javascriptSdkCore.VISITOR_CODE_LENGTH), g = this.getResultCookie({ domain: b2, visitorCode: f });
        return g.split(_javascriptSdkCore.Cookie.PairsDelimiter).forEach(function(a3) {
          document.cookie = a3;
        }), f;
      } }]), b;
    }(_javascriptSdkCore.KameleoonCoreUtils);
    var KameleoonUtils = function() {
      function a() {
        _classCallCheck(this, a);
      }
      return _createClass(a, null, [{ key: "getVisitorCode", value: (
        /**
        * @method getVisitorCode obtains visitor code from the browser cookie, if the visitor code doesn't yet exist generates a random visitor code (or uses a provided default) and sets a new visitor code to cookie
        * @param {string} domain domain which cookie belongs to
        * @param {string | undefined} defaultVisitorCode visitor code to be used in case there is no visitor code in cookies Note: if not passed visitor code will be randomly generated
        * @returns {string} result visitor code
        * */
        function getVisitorCode(a2, b) {
          var c = new KameleoonUtilsConstructor();
          return c.getVisitorCode({ domain: a2, defaultVisitorCode: b });
        }
      ) }]), a;
    }();
    exports.KameleoonUtils = KameleoonUtils;
  }
});

// node_modules/@kameleoon/javascript-sdk/dist/storage.js
var require_storage2 = __commonJS({
  "node_modules/@kameleoon/javascript-sdk/dist/storage.js"(exports) {
    "use strict";
    var _javascriptSdkCore = require_dist();
    Object.defineProperty(exports, "__esModule", { value: true }), exports.StorageConstructor = void 0;
    function _typeof(a) {
      "@babel/helpers - typeof";
      return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(a2) {
        return typeof a2;
      } : function(a2) {
        return a2 && "function" == typeof Symbol && a2.constructor === Symbol && a2 !== Symbol.prototype ? "symbol" : typeof a2;
      }, _typeof(a);
    }
    function _defineProperty(a, b, c) {
      return b = _toPropertyKey(b), b in a ? Object.defineProperty(a, b, { value: c, enumerable: true, configurable: true, writable: true }) : a[b] = c, a;
    }
    function _classCallCheck(a, b) {
      if (!(a instanceof b))
        throw new TypeError("Cannot call a class as a function");
    }
    function _defineProperties(a, b) {
      for (var c, d = 0; d < b.length; d++)
        c = b[d], c.enumerable = c.enumerable || false, c.configurable = true, "value" in c && (c.writable = true), Object.defineProperty(a, _toPropertyKey(c.key), c);
    }
    function _createClass(a, b, c) {
      return b && _defineProperties(a.prototype, b), c && _defineProperties(a, c), Object.defineProperty(a, "prototype", { writable: false }), a;
    }
    function _toPropertyKey(a) {
      var b = _toPrimitive(a, "string");
      return "symbol" === _typeof(b) ? b : b + "";
    }
    function _toPrimitive(a, b) {
      if ("object" !== _typeof(a) || null === a)
        return a;
      var c = a[Symbol.toPrimitive];
      if (c !== void 0) {
        var d = c.call(a, b || "default");
        if ("object" !== _typeof(d))
          return d;
        throw new TypeError("@@toPrimitive must return a primitive value.");
      }
      return ("string" === b ? String : Number)(a);
    }
    var StorageConstructor = function() {
      function a() {
        _classCallCheck(this, a);
      }
      return _createClass(a, [{ key: "initialize", value: function initialize(a2) {
        var b = new Storage(a2);
        return b;
      } }]), a;
    }();
    exports.StorageConstructor = StorageConstructor;
    var Storage = function() {
      function a(b) {
        _classCallCheck(this, a), _defineProperty(this, "storageKey", void 0), this.storageKey = b;
      }
      return _createClass(a, [{ key: "key", get: function get() {
        return this.storageKey;
      } }, { key: "read", value: function read() {
        var a2 = localStorage.getItem(this.storageKey);
        return a2 ? (0, _javascriptSdkCore.Ok)(a2) : (0, _javascriptSdkCore.Err)(new _javascriptSdkCore.KameleoonError(_javascriptSdkCore.KameleoonException.StorageRead, this.storageKey));
      } }, { key: "write", value: function write(a2) {
        try {
          return localStorage.setItem(this.storageKey, a2), (0, _javascriptSdkCore.Ok)();
        } catch (a3) {
          return (0, _javascriptSdkCore.Err)(new _javascriptSdkCore.KameleoonError(_javascriptSdkCore.KameleoonException.StorageWrite, a3));
        }
      } }]), a;
    }();
  }
});

// node_modules/@kameleoon/javascript-sdk/dist/constants.js
var require_constants8 = __commonJS({
  "node_modules/@kameleoon/javascript-sdk/dist/constants.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true }), exports.NUMBER_OF_RETRIES = exports.DELAY_MILLISECONDS = void 0;
    exports.DELAY_MILLISECONDS = 2e3;
    exports.NUMBER_OF_RETRIES = 3;
  }
});

// node_modules/@kameleoon/javascript-sdk/dist/requester.js
var require_requester3 = __commonJS({
  "node_modules/@kameleoon/javascript-sdk/dist/requester.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true }), exports.RequestDispatcher = void 0;
    var _javascriptSdkCore = require_dist();
    var _constants = require_constants8();
    function _typeof(a) {
      "@babel/helpers - typeof";
      return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(a2) {
        return typeof a2;
      } : function(a2) {
        return a2 && "function" == typeof Symbol && a2.constructor === Symbol && a2 !== Symbol.prototype ? "symbol" : typeof a2;
      }, _typeof(a);
    }
    function _regeneratorRuntime() {
      "use strict";
      function a(a2, b2, c2) {
        return Object.defineProperty(a2, b2, { value: c2, enumerable: true, configurable: true, writable: true }), a2[b2];
      }
      function b(a2, b2, c2, e2) {
        var f2 = b2 && b2.prototype instanceof d ? b2 : d, g2 = Object.create(f2.prototype), h2 = new m(e2 || []);
        return s(g2, "_invoke", { value: i(a2, c2, h2) }), g2;
      }
      function c(a2, b2, c2) {
        try {
          return { type: "normal", arg: a2.call(b2, c2) };
        } catch (a3) {
          return { type: "throw", arg: a3 };
        }
      }
      function d() {
      }
      function e() {
      }
      function f() {
      }
      function g(b2) {
        ["next", "throw", "return"].forEach(function(c2) {
          a(b2, c2, function(a2) {
            return this._invoke(c2, a2);
          });
        });
      }
      function h(a2, b2) {
        function d2(e3, f2, g2, h2) {
          var i2 = c(a2[e3], a2, f2);
          if ("throw" !== i2.type) {
            var j2 = i2.arg, k2 = j2.value;
            return k2 && "object" == _typeof(k2) && r.call(k2, "__await") ? b2.resolve(k2.__await).then(function(a3) {
              d2("next", a3, g2, h2);
            }, function(a3) {
              d2("throw", a3, g2, h2);
            }) : b2.resolve(k2).then(function(a3) {
              j2.value = a3, g2(j2);
            }, function(a3) {
              return d2("throw", a3, g2, h2);
            });
          }
          h2(i2.arg);
        }
        var e2;
        s(this, "_invoke", { value: function value(a3, c2) {
          function f2() {
            return new b2(function(b3, e3) {
              d2(a3, c2, b3, e3);
            });
          }
          return e2 = e2 ? e2.then(f2, f2) : f2();
        } });
      }
      function i(a2, b2, d2) {
        var e2 = "suspendedStart";
        return function(f2, g2) {
          if ("executing" == e2)
            throw new Error("Generator is already running");
          if ("completed" == e2) {
            if ("throw" === f2)
              throw g2;
            return o();
          }
          for (d2.method = f2, d2.arg = g2; ; ) {
            var h2 = d2.delegate;
            if (h2) {
              var i2 = j(h2, d2);
              if (i2) {
                if (i2 === x)
                  continue;
                return i2;
              }
            }
            if ("next" === d2.method)
              d2.sent = d2._sent = d2.arg;
            else if ("throw" === d2.method) {
              if ("suspendedStart" == e2)
                throw e2 = "completed", d2.arg;
              d2.dispatchException(d2.arg);
            } else
              "return" === d2.method && d2.abrupt("return", d2.arg);
            e2 = "executing";
            var k2 = c(a2, b2, d2);
            if ("normal" === k2.type) {
              if (e2 = d2.done ? "completed" : "suspendedYield", k2.arg === x)
                continue;
              return { value: k2.arg, done: d2.done };
            }
            "throw" === k2.type && (e2 = "completed", d2.method = "throw", d2.arg = k2.arg);
          }
        };
      }
      function j(a2, b2) {
        var d2 = b2.method, e2 = a2.iterator[d2];
        if (void 0 === e2)
          return b2.delegate = null, "throw" === d2 && a2.iterator.return && (b2.method = "return", b2.arg = void 0, j(a2, b2), "throw" === b2.method) || "return" !== d2 && (b2.method = "throw", b2.arg = new TypeError("The iterator does not provide a '" + d2 + "' method")), x;
        var f2 = c(e2, a2.iterator, b2.arg);
        if ("throw" === f2.type)
          return b2.method = "throw", b2.arg = f2.arg, b2.delegate = null, x;
        var g2 = f2.arg;
        return g2 ? g2.done ? (b2[a2.resultName] = g2.value, b2.next = a2.nextLoc, "return" !== b2.method && (b2.method = "next", b2.arg = void 0), b2.delegate = null, x) : g2 : (b2.method = "throw", b2.arg = new TypeError("iterator result is not an object"), b2.delegate = null, x);
      }
      function k(a2) {
        var b2 = { tryLoc: a2[0] };
        1 in a2 && (b2.catchLoc = a2[1]), 2 in a2 && (b2.finallyLoc = a2[2], b2.afterLoc = a2[3]), this.tryEntries.push(b2);
      }
      function l(a2) {
        var b2 = a2.completion || {};
        b2.type = "normal", delete b2.arg, a2.completion = b2;
      }
      function m(a2) {
        this.tryEntries = [{ tryLoc: "root" }], a2.forEach(k, this), this.reset(true);
      }
      function n(a2) {
        if (a2) {
          var b2 = a2[u];
          if (b2)
            return b2.call(a2);
          if ("function" == typeof a2.next)
            return a2;
          if (!isNaN(a2.length)) {
            var c2 = -1, d2 = function b3() {
              for (; ++c2 < a2.length; )
                if (r.call(a2, c2))
                  return b3.value = a2[c2], b3.done = false, b3;
              return b3.value = void 0, b3.done = true, b3;
            };
            return d2.next = d2;
          }
        }
        return { next: o };
      }
      function o() {
        return { value: void 0, done: true };
      }
      _regeneratorRuntime = function() {
        return p;
      };
      var p = {}, q = Object.prototype, r = q.hasOwnProperty, s = Object.defineProperty || function(a2, b2, c2) {
        a2[b2] = c2.value;
      }, t = "function" == typeof Symbol ? Symbol : {}, u = t.iterator || "@@iterator", v = t.asyncIterator || "@@asyncIterator", w = t.toStringTag || "@@toStringTag";
      try {
        a({}, "");
      } catch (b2) {
        a = function(a2, b3, c2) {
          return a2[b3] = c2;
        };
      }
      p.wrap = b;
      var x = {}, y = {};
      a(y, u, function() {
        return this;
      });
      var z = Object.getPrototypeOf, A = z && z(z(n([])));
      A && A !== q && r.call(A, u) && (y = A);
      var B = f.prototype = d.prototype = Object.create(y);
      return e.prototype = f, s(B, "constructor", { value: f, configurable: true }), s(f, "constructor", { value: e, configurable: true }), e.displayName = a(f, w, "GeneratorFunction"), p.isGeneratorFunction = function(a2) {
        var b2 = "function" == typeof a2 && a2.constructor;
        return !!b2 && (b2 === e || "GeneratorFunction" === (b2.displayName || b2.name));
      }, p.mark = function(b2) {
        return Object.setPrototypeOf ? Object.setPrototypeOf(b2, f) : (b2.__proto__ = f, a(b2, w, "GeneratorFunction")), b2.prototype = Object.create(B), b2;
      }, p.awrap = function(a2) {
        return { __await: a2 };
      }, g(h.prototype), a(h.prototype, v, function() {
        return this;
      }), p.AsyncIterator = h, p.async = function(a2, c2, d2, e2, f2) {
        void 0 === f2 && (f2 = Promise);
        var g2 = new h(b(a2, c2, d2, e2), f2);
        return p.isGeneratorFunction(c2) ? g2 : g2.next().then(function(a3) {
          return a3.done ? a3.value : g2.next();
        });
      }, g(B), a(B, w, "Generator"), a(B, u, function() {
        return this;
      }), a(B, "toString", function() {
        return "[object Generator]";
      }), p.keys = function(a2) {
        var b2 = Object(a2), c2 = [];
        for (var d2 in b2)
          c2.push(d2);
        return c2.reverse(), function a3() {
          for (; c2.length; ) {
            var d3 = c2.pop();
            if (d3 in b2)
              return a3.value = d3, a3.done = false, a3;
          }
          return a3.done = true, a3;
        };
      }, p.values = n, m.prototype = { constructor: m, reset: function reset(a2) {
        if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = false, this.delegate = null, this.method = "next", this.arg = void 0, this.tryEntries.forEach(l), !a2)
          for (var b2 in this)
            "t" === b2.charAt(0) && r.call(this, b2) && !isNaN(+b2.slice(1)) && (this[b2] = void 0);
      }, stop: function stop() {
        this.done = true;
        var a2 = this.tryEntries[0].completion;
        if ("throw" === a2.type)
          throw a2.arg;
        return this.rval;
      }, dispatchException: function dispatchException(a2) {
        function b2(b3, d3) {
          return f2.type = "throw", f2.arg = a2, c2.next = b3, d3 && (c2.method = "next", c2.arg = void 0), !!d3;
        }
        if (this.done)
          throw a2;
        for (var c2 = this, d2 = this.tryEntries.length - 1; 0 <= d2; --d2) {
          var e2 = this.tryEntries[d2], f2 = e2.completion;
          if ("root" === e2.tryLoc)
            return b2("end");
          if (e2.tryLoc <= this.prev) {
            var g2 = r.call(e2, "catchLoc"), h2 = r.call(e2, "finallyLoc");
            if (g2 && h2) {
              if (this.prev < e2.catchLoc)
                return b2(e2.catchLoc, true);
              if (this.prev < e2.finallyLoc)
                return b2(e2.finallyLoc);
            } else if (!g2) {
              if (!h2)
                throw new Error("try statement without catch or finally");
              if (this.prev < e2.finallyLoc)
                return b2(e2.finallyLoc);
            } else if (this.prev < e2.catchLoc)
              return b2(e2.catchLoc, true);
          }
        }
      }, abrupt: function abrupt(a2, b2) {
        for (var c2, d2 = this.tryEntries.length - 1; 0 <= d2; --d2)
          if (c2 = this.tryEntries[d2], c2.tryLoc <= this.prev && r.call(c2, "finallyLoc") && this.prev < c2.finallyLoc) {
            var e2 = c2;
            break;
          }
        e2 && ("break" === a2 || "continue" === a2) && e2.tryLoc <= b2 && b2 <= e2.finallyLoc && (e2 = null);
        var f2 = e2 ? e2.completion : {};
        return f2.type = a2, f2.arg = b2, e2 ? (this.method = "next", this.next = e2.finallyLoc, x) : this.complete(f2);
      }, complete: function complete(a2, b2) {
        if ("throw" === a2.type)
          throw a2.arg;
        return "break" === a2.type || "continue" === a2.type ? this.next = a2.arg : "return" === a2.type ? (this.rval = this.arg = a2.arg, this.method = "return", this.next = "end") : "normal" === a2.type && b2 && (this.next = b2), x;
      }, finish: function finish(a2) {
        for (var b2, c2 = this.tryEntries.length - 1; 0 <= c2; --c2)
          if (b2 = this.tryEntries[c2], b2.finallyLoc === a2)
            return this.complete(b2.completion, b2.afterLoc), l(b2), x;
      }, catch: function _catch(a2) {
        for (var b2, c2 = this.tryEntries.length - 1; 0 <= c2; --c2)
          if (b2 = this.tryEntries[c2], b2.tryLoc === a2) {
            var d2 = b2.completion;
            if ("throw" === d2.type) {
              var e2 = d2.arg;
              l(b2);
            }
            return e2;
          }
        throw new Error("illegal catch attempt");
      }, delegateYield: function delegateYield(a2, b2, c2) {
        return this.delegate = { iterator: n(a2), resultName: b2, nextLoc: c2 }, "next" === this.method && (this.arg = void 0), x;
      } }, p;
    }
    function asyncGeneratorStep(a, b, c, d, e, f, g) {
      try {
        var h = a[f](g), i = h.value;
      } catch (a2) {
        return void c(a2);
      }
      h.done ? b(i) : Promise.resolve(i).then(d, e);
    }
    function _asyncToGenerator(a) {
      return function() {
        var b = this, c = arguments;
        return new Promise(function(d, e) {
          function f(a2) {
            asyncGeneratorStep(h, d, e, f, g, "next", a2);
          }
          function g(a2) {
            asyncGeneratorStep(h, d, e, f, g, "throw", a2);
          }
          var h = a.apply(b, c);
          f(void 0);
        });
      };
    }
    function _classCallCheck(a, b) {
      if (!(a instanceof b))
        throw new TypeError("Cannot call a class as a function");
    }
    function _defineProperties(a, b) {
      for (var c, d = 0; d < b.length; d++)
        c = b[d], c.enumerable = c.enumerable || false, c.configurable = true, "value" in c && (c.writable = true), Object.defineProperty(a, _toPropertyKey(c.key), c);
    }
    function _createClass(a, b, c) {
      return b && _defineProperties(a.prototype, b), c && _defineProperties(a, c), Object.defineProperty(a, "prototype", { writable: false }), a;
    }
    function _toPropertyKey(a) {
      var b = _toPrimitive(a, "string");
      return "symbol" === _typeof(b) ? b : b + "";
    }
    function _toPrimitive(a, b) {
      if ("object" !== _typeof(a) || null === a)
        return a;
      var c = a[Symbol.toPrimitive];
      if (c !== void 0) {
        var d = c.call(a, b || "default");
        if ("object" !== _typeof(d))
          return d;
        throw new TypeError("@@toPrimitive must return a primitive value.");
      }
      return ("string" === b ? String : Number)(a);
    }
    var RequestDispatcher = function() {
      function a() {
        _classCallCheck(this, a);
      }
      return _createClass(a, [{ key: "track", value: function() {
        function a2() {
          return b.apply(this, arguments);
        }
        var b = _asyncToGenerator(_regeneratorRuntime().mark(function b2(a3) {
          var c, d, e, f;
          return _regeneratorRuntime().wrap(function g(b3) {
            for (; 1; )
              switch (b3.prev = b3.next) {
                case 0:
                  return c = a3.url, d = a3.headers, e = a3.body, b3.next = 3, fetch(c, { method: _javascriptSdkCore.HttpMethod.Post, headers: d, body: e });
                case 3:
                  return f = b3.sent, b3.abrupt("return", f.ok);
                case 5:
                case "end":
                  return b3.stop();
              }
          }, b2);
        }));
        return a2;
      }() }, { key: "getClientConfiguration", value: function() {
        function a2(a3) {
          return b.apply(this, arguments);
        }
        var b = _asyncToGenerator(_regeneratorRuntime().mark(function b2(a3) {
          var c, d;
          return _regeneratorRuntime().wrap(function e(b3) {
            for (; 1; )
              switch (b3.prev = b3.next) {
                case 0:
                  c = 1;
                case 1:
                  if (!(c <= _constants.NUMBER_OF_RETRIES)) {
                    b3.next = 21;
                    break;
                  }
                  return b3.prev = 2, b3.next = 5, fetch(a3, { method: _javascriptSdkCore.HttpMethod.Get });
                case 5:
                  if (d = b3.sent, !d.ok) {
                    b3.next = 8;
                    break;
                  }
                  return b3.abrupt("return", d.json());
                case 8:
                  if (504 === d.status) {
                    b3.next = 10;
                    break;
                  }
                  throw new _javascriptSdkCore.KameleoonError(_javascriptSdkCore.KameleoonException.ClientConfiguration);
                case 10:
                  b3.next = 15;
                  break;
                case 12:
                  throw b3.prev = 12, b3.t0 = b3["catch"](2), new _javascriptSdkCore.KameleoonError(_javascriptSdkCore.KameleoonException.ClientConfiguration);
                case 15:
                  if (!(c < _constants.NUMBER_OF_RETRIES)) {
                    b3.next = 18;
                    break;
                  }
                  return b3.next = 18, new Promise(function(a4) {
                    return setTimeout(a4, _constants.DELAY_MILLISECONDS);
                  });
                case 18:
                  c++, b3.next = 1;
                  break;
                case 21:
                  throw new _javascriptSdkCore.KameleoonError(_javascriptSdkCore.KameleoonException.MaximumRetriesReached);
                case 22:
                case "end":
                  return b3.stop();
              }
          }, b2, null, [[2, 12]]);
        }));
        return a2;
      }() }, { key: "getRemoteData", value: function() {
        function a2(a3) {
          return b.apply(this, arguments);
        }
        var b = _asyncToGenerator(_regeneratorRuntime().mark(function b2(a3) {
          var c;
          return _regeneratorRuntime().wrap(function d(b3) {
            for (; 1; )
              switch (b3.prev = b3.next) {
                case 0:
                  return b3.next = 2, fetch(a3, { method: _javascriptSdkCore.HttpMethod.Get });
                case 2:
                  if (c = b3.sent, !c.ok) {
                    b3.next = 5;
                    break;
                  }
                  return b3.abrupt("return", c.json());
                case 5:
                  throw new _javascriptSdkCore.KameleoonError(_javascriptSdkCore.KameleoonException.RemoteData);
                case 6:
                case "end":
                  return b3.stop();
              }
          }, b2);
        }));
        return a2;
      }() }]), a;
    }();
    exports.RequestDispatcher = RequestDispatcher;
  }
});

// node_modules/@kameleoon/javascript-sdk/dist/eventSource.js
var require_eventSource2 = __commonJS({
  "node_modules/@kameleoon/javascript-sdk/dist/eventSource.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true }), exports.EventSourceConstructor = void 0;
    function _typeof(a) {
      "@babel/helpers - typeof";
      return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(a2) {
        return typeof a2;
      } : function(a2) {
        return a2 && "function" == typeof Symbol && a2.constructor === Symbol && a2 !== Symbol.prototype ? "symbol" : typeof a2;
      }, _typeof(a);
    }
    function _defineProperty(a, b, c) {
      return b = _toPropertyKey(b), b in a ? Object.defineProperty(a, b, { value: c, enumerable: true, configurable: true, writable: true }) : a[b] = c, a;
    }
    function _classCallCheck(a, b) {
      if (!(a instanceof b))
        throw new TypeError("Cannot call a class as a function");
    }
    function _defineProperties(a, b) {
      for (var c, d = 0; d < b.length; d++)
        c = b[d], c.enumerable = c.enumerable || false, c.configurable = true, "value" in c && (c.writable = true), Object.defineProperty(a, _toPropertyKey(c.key), c);
    }
    function _createClass(a, b, c) {
      return b && _defineProperties(a.prototype, b), c && _defineProperties(a, c), Object.defineProperty(a, "prototype", { writable: false }), a;
    }
    function _toPropertyKey(a) {
      var b = _toPrimitive(a, "string");
      return "symbol" === _typeof(b) ? b : b + "";
    }
    function _toPrimitive(a, b) {
      if ("object" !== _typeof(a) || null === a)
        return a;
      var c = a[Symbol.toPrimitive];
      if (c !== void 0) {
        var d = c.call(a, b || "default");
        if ("object" !== _typeof(d))
          return d;
        throw new TypeError("@@toPrimitive must return a primitive value.");
      }
      return ("string" === b ? String : Number)(a);
    }
    var EventSourceConstructor = function() {
      function a() {
        _classCallCheck(this, a);
      }
      return _createClass(a, [{ key: "initialize", value: function initialize(a2) {
        return new ExternalEventSource(a2);
      } }]), a;
    }();
    exports.EventSourceConstructor = EventSourceConstructor;
    var ExternalEventSource = function() {
      function a(b) {
        _classCallCheck(this, a), _defineProperty(this, "eventSource", void 0);
        var c = new EventSource(b);
        this.eventSource = c;
      }
      return _createClass(a, [{ key: "open", value: function open(a2) {
        var b = a2.siteCode, c = a2.eventType, d = a2.onEvent;
        this.eventSource.addEventListener(c, function(a3) {
          var c2 = JSON.parse(a3.data), e = c2.siteCode, f = c2.ts;
          b === e && d(f);
        });
      } }, { key: "close", value: function close() {
        this.eventSource.close();
      } }]), a;
    }();
  }
});

// node_modules/@kameleoon/javascript-sdk/dist/kameleoonClient.js
var require_kameleoonClient2 = __commonJS({
  "node_modules/@kameleoon/javascript-sdk/dist/kameleoonClient.js"(exports) {
    "use strict";
    function _typeof(a) {
      "@babel/helpers - typeof";
      return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(a2) {
        return typeof a2;
      } : function(a2) {
        return a2 && "function" == typeof Symbol && a2.constructor === Symbol && a2 !== Symbol.prototype ? "symbol" : typeof a2;
      }, _typeof(a);
    }
    Object.defineProperty(exports, "__esModule", { value: true }), exports.KameleoonClient = void 0;
    var _javascriptSdkCore = require_dist();
    var _storage = require_storage2();
    var _requester = require_requester3();
    var _eventSource = require_eventSource2();
    function _regeneratorRuntime() {
      "use strict";
      function a(a2, b2, c2) {
        return Object.defineProperty(a2, b2, { value: c2, enumerable: true, configurable: true, writable: true }), a2[b2];
      }
      function b(a2, b2, c2, e2) {
        var f2 = b2 && b2.prototype instanceof d ? b2 : d, g2 = Object.create(f2.prototype), h2 = new m(e2 || []);
        return s(g2, "_invoke", { value: i(a2, c2, h2) }), g2;
      }
      function c(a2, b2, c2) {
        try {
          return { type: "normal", arg: a2.call(b2, c2) };
        } catch (a3) {
          return { type: "throw", arg: a3 };
        }
      }
      function d() {
      }
      function e() {
      }
      function f() {
      }
      function g(b2) {
        ["next", "throw", "return"].forEach(function(c2) {
          a(b2, c2, function(a2) {
            return this._invoke(c2, a2);
          });
        });
      }
      function h(a2, b2) {
        function d2(e3, f2, g2, h2) {
          var i2 = c(a2[e3], a2, f2);
          if ("throw" !== i2.type) {
            var j2 = i2.arg, k2 = j2.value;
            return k2 && "object" == _typeof(k2) && r.call(k2, "__await") ? b2.resolve(k2.__await).then(function(a3) {
              d2("next", a3, g2, h2);
            }, function(a3) {
              d2("throw", a3, g2, h2);
            }) : b2.resolve(k2).then(function(a3) {
              j2.value = a3, g2(j2);
            }, function(a3) {
              return d2("throw", a3, g2, h2);
            });
          }
          h2(i2.arg);
        }
        var e2;
        s(this, "_invoke", { value: function value(a3, c2) {
          function f2() {
            return new b2(function(b3, e3) {
              d2(a3, c2, b3, e3);
            });
          }
          return e2 = e2 ? e2.then(f2, f2) : f2();
        } });
      }
      function i(a2, b2, d2) {
        var e2 = "suspendedStart";
        return function(f2, g2) {
          if ("executing" == e2)
            throw new Error("Generator is already running");
          if ("completed" == e2) {
            if ("throw" === f2)
              throw g2;
            return o();
          }
          for (d2.method = f2, d2.arg = g2; ; ) {
            var h2 = d2.delegate;
            if (h2) {
              var i2 = j(h2, d2);
              if (i2) {
                if (i2 === x)
                  continue;
                return i2;
              }
            }
            if ("next" === d2.method)
              d2.sent = d2._sent = d2.arg;
            else if ("throw" === d2.method) {
              if ("suspendedStart" == e2)
                throw e2 = "completed", d2.arg;
              d2.dispatchException(d2.arg);
            } else
              "return" === d2.method && d2.abrupt("return", d2.arg);
            e2 = "executing";
            var k2 = c(a2, b2, d2);
            if ("normal" === k2.type) {
              if (e2 = d2.done ? "completed" : "suspendedYield", k2.arg === x)
                continue;
              return { value: k2.arg, done: d2.done };
            }
            "throw" === k2.type && (e2 = "completed", d2.method = "throw", d2.arg = k2.arg);
          }
        };
      }
      function j(a2, b2) {
        var d2 = b2.method, e2 = a2.iterator[d2];
        if (void 0 === e2)
          return b2.delegate = null, "throw" === d2 && a2.iterator.return && (b2.method = "return", b2.arg = void 0, j(a2, b2), "throw" === b2.method) || "return" !== d2 && (b2.method = "throw", b2.arg = new TypeError("The iterator does not provide a '" + d2 + "' method")), x;
        var f2 = c(e2, a2.iterator, b2.arg);
        if ("throw" === f2.type)
          return b2.method = "throw", b2.arg = f2.arg, b2.delegate = null, x;
        var g2 = f2.arg;
        return g2 ? g2.done ? (b2[a2.resultName] = g2.value, b2.next = a2.nextLoc, "return" !== b2.method && (b2.method = "next", b2.arg = void 0), b2.delegate = null, x) : g2 : (b2.method = "throw", b2.arg = new TypeError("iterator result is not an object"), b2.delegate = null, x);
      }
      function k(a2) {
        var b2 = { tryLoc: a2[0] };
        1 in a2 && (b2.catchLoc = a2[1]), 2 in a2 && (b2.finallyLoc = a2[2], b2.afterLoc = a2[3]), this.tryEntries.push(b2);
      }
      function l(a2) {
        var b2 = a2.completion || {};
        b2.type = "normal", delete b2.arg, a2.completion = b2;
      }
      function m(a2) {
        this.tryEntries = [{ tryLoc: "root" }], a2.forEach(k, this), this.reset(true);
      }
      function n(a2) {
        if (a2) {
          var b2 = a2[u];
          if (b2)
            return b2.call(a2);
          if ("function" == typeof a2.next)
            return a2;
          if (!isNaN(a2.length)) {
            var c2 = -1, d2 = function b3() {
              for (; ++c2 < a2.length; )
                if (r.call(a2, c2))
                  return b3.value = a2[c2], b3.done = false, b3;
              return b3.value = void 0, b3.done = true, b3;
            };
            return d2.next = d2;
          }
        }
        return { next: o };
      }
      function o() {
        return { value: void 0, done: true };
      }
      _regeneratorRuntime = function() {
        return p;
      };
      var p = {}, q = Object.prototype, r = q.hasOwnProperty, s = Object.defineProperty || function(a2, b2, c2) {
        a2[b2] = c2.value;
      }, t = "function" == typeof Symbol ? Symbol : {}, u = t.iterator || "@@iterator", v = t.asyncIterator || "@@asyncIterator", w = t.toStringTag || "@@toStringTag";
      try {
        a({}, "");
      } catch (b2) {
        a = function(a2, b3, c2) {
          return a2[b3] = c2;
        };
      }
      p.wrap = b;
      var x = {}, y = {};
      a(y, u, function() {
        return this;
      });
      var z = Object.getPrototypeOf, A = z && z(z(n([])));
      A && A !== q && r.call(A, u) && (y = A);
      var B = f.prototype = d.prototype = Object.create(y);
      return e.prototype = f, s(B, "constructor", { value: f, configurable: true }), s(f, "constructor", { value: e, configurable: true }), e.displayName = a(f, w, "GeneratorFunction"), p.isGeneratorFunction = function(a2) {
        var b2 = "function" == typeof a2 && a2.constructor;
        return !!b2 && (b2 === e || "GeneratorFunction" === (b2.displayName || b2.name));
      }, p.mark = function(b2) {
        return Object.setPrototypeOf ? Object.setPrototypeOf(b2, f) : (b2.__proto__ = f, a(b2, w, "GeneratorFunction")), b2.prototype = Object.create(B), b2;
      }, p.awrap = function(a2) {
        return { __await: a2 };
      }, g(h.prototype), a(h.prototype, v, function() {
        return this;
      }), p.AsyncIterator = h, p.async = function(a2, c2, d2, e2, f2) {
        void 0 === f2 && (f2 = Promise);
        var g2 = new h(b(a2, c2, d2, e2), f2);
        return p.isGeneratorFunction(c2) ? g2 : g2.next().then(function(a3) {
          return a3.done ? a3.value : g2.next();
        });
      }, g(B), a(B, w, "Generator"), a(B, u, function() {
        return this;
      }), a(B, "toString", function() {
        return "[object Generator]";
      }), p.keys = function(a2) {
        var b2 = Object(a2), c2 = [];
        for (var d2 in b2)
          c2.push(d2);
        return c2.reverse(), function a3() {
          for (; c2.length; ) {
            var d3 = c2.pop();
            if (d3 in b2)
              return a3.value = d3, a3.done = false, a3;
          }
          return a3.done = true, a3;
        };
      }, p.values = n, m.prototype = { constructor: m, reset: function reset(a2) {
        if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = false, this.delegate = null, this.method = "next", this.arg = void 0, this.tryEntries.forEach(l), !a2)
          for (var b2 in this)
            "t" === b2.charAt(0) && r.call(this, b2) && !isNaN(+b2.slice(1)) && (this[b2] = void 0);
      }, stop: function stop() {
        this.done = true;
        var a2 = this.tryEntries[0].completion;
        if ("throw" === a2.type)
          throw a2.arg;
        return this.rval;
      }, dispatchException: function dispatchException(a2) {
        function b2(b3, d3) {
          return f2.type = "throw", f2.arg = a2, c2.next = b3, d3 && (c2.method = "next", c2.arg = void 0), !!d3;
        }
        if (this.done)
          throw a2;
        for (var c2 = this, d2 = this.tryEntries.length - 1; 0 <= d2; --d2) {
          var e2 = this.tryEntries[d2], f2 = e2.completion;
          if ("root" === e2.tryLoc)
            return b2("end");
          if (e2.tryLoc <= this.prev) {
            var g2 = r.call(e2, "catchLoc"), h2 = r.call(e2, "finallyLoc");
            if (g2 && h2) {
              if (this.prev < e2.catchLoc)
                return b2(e2.catchLoc, true);
              if (this.prev < e2.finallyLoc)
                return b2(e2.finallyLoc);
            } else if (!g2) {
              if (!h2)
                throw new Error("try statement without catch or finally");
              if (this.prev < e2.finallyLoc)
                return b2(e2.finallyLoc);
            } else if (this.prev < e2.catchLoc)
              return b2(e2.catchLoc, true);
          }
        }
      }, abrupt: function abrupt(a2, b2) {
        for (var c2, d2 = this.tryEntries.length - 1; 0 <= d2; --d2)
          if (c2 = this.tryEntries[d2], c2.tryLoc <= this.prev && r.call(c2, "finallyLoc") && this.prev < c2.finallyLoc) {
            var e2 = c2;
            break;
          }
        e2 && ("break" === a2 || "continue" === a2) && e2.tryLoc <= b2 && b2 <= e2.finallyLoc && (e2 = null);
        var f2 = e2 ? e2.completion : {};
        return f2.type = a2, f2.arg = b2, e2 ? (this.method = "next", this.next = e2.finallyLoc, x) : this.complete(f2);
      }, complete: function complete(a2, b2) {
        if ("throw" === a2.type)
          throw a2.arg;
        return "break" === a2.type || "continue" === a2.type ? this.next = a2.arg : "return" === a2.type ? (this.rval = this.arg = a2.arg, this.method = "return", this.next = "end") : "normal" === a2.type && b2 && (this.next = b2), x;
      }, finish: function finish(a2) {
        for (var b2, c2 = this.tryEntries.length - 1; 0 <= c2; --c2)
          if (b2 = this.tryEntries[c2], b2.finallyLoc === a2)
            return this.complete(b2.completion, b2.afterLoc), l(b2), x;
      }, catch: function _catch(a2) {
        for (var b2, c2 = this.tryEntries.length - 1; 0 <= c2; --c2)
          if (b2 = this.tryEntries[c2], b2.tryLoc === a2) {
            var d2 = b2.completion;
            if ("throw" === d2.type) {
              var e2 = d2.arg;
              l(b2);
            }
            return e2;
          }
        throw new Error("illegal catch attempt");
      }, delegateYield: function delegateYield(a2, b2, c2) {
        return this.delegate = { iterator: n(a2), resultName: b2, nextLoc: c2 }, "next" === this.method && (this.arg = void 0), x;
      } }, p;
    }
    function asyncGeneratorStep(a, b, c, d, e, f, g) {
      try {
        var h = a[f](g), i = h.value;
      } catch (a2) {
        return void c(a2);
      }
      h.done ? b(i) : Promise.resolve(i).then(d, e);
    }
    function _asyncToGenerator(a) {
      return function() {
        var b = this, c = arguments;
        return new Promise(function(d, e) {
          function f(a2) {
            asyncGeneratorStep(h, d, e, f, g, "next", a2);
          }
          function g(a2) {
            asyncGeneratorStep(h, d, e, f, g, "throw", a2);
          }
          var h = a.apply(b, c);
          f(void 0);
        });
      };
    }
    function _classCallCheck(a, b) {
      if (!(a instanceof b))
        throw new TypeError("Cannot call a class as a function");
    }
    function _defineProperties(a, b) {
      for (var c, d = 0; d < b.length; d++)
        c = b[d], c.enumerable = c.enumerable || false, c.configurable = true, "value" in c && (c.writable = true), Object.defineProperty(a, _toPropertyKey(c.key), c);
    }
    function _createClass(a, b, c) {
      return b && _defineProperties(a.prototype, b), c && _defineProperties(a, c), Object.defineProperty(a, "prototype", { writable: false }), a;
    }
    function _toPropertyKey(a) {
      var b = _toPrimitive(a, "string");
      return "symbol" === _typeof(b) ? b : b + "";
    }
    function _toPrimitive(a, b) {
      if ("object" !== _typeof(a) || null === a)
        return a;
      var c = a[Symbol.toPrimitive];
      if (c !== void 0) {
        var d = c.call(a, b || "default");
        if ("object" !== _typeof(d))
          return d;
        throw new TypeError("@@toPrimitive must return a primitive value.");
      }
      return ("string" === b ? String : Number)(a);
    }
    function _get() {
      return _get = "undefined" != typeof Reflect && Reflect.get ? Reflect.get.bind() : function(a, b, c) {
        var d = _superPropBase(a, b);
        if (d) {
          var e = Object.getOwnPropertyDescriptor(d, b);
          return e.get ? e.get.call(3 > arguments.length ? a : c) : e.value;
        }
      }, _get.apply(this, arguments);
    }
    function _superPropBase(a, b) {
      for (; !Object.prototype.hasOwnProperty.call(a, b) && (a = _getPrototypeOf(a), null !== a); )
        ;
      return a;
    }
    function _inherits(a, b) {
      if ("function" != typeof b && null !== b)
        throw new TypeError("Super expression must either be null or a function");
      a.prototype = Object.create(b && b.prototype, { constructor: { value: a, writable: true, configurable: true } }), Object.defineProperty(a, "prototype", { writable: false }), b && _setPrototypeOf(a, b);
    }
    function _setPrototypeOf(a, b) {
      return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(a2, b2) {
        return a2.__proto__ = b2, a2;
      }, _setPrototypeOf(a, b);
    }
    function _createSuper(a) {
      var b = _isNativeReflectConstruct();
      return function() {
        var c, d = _getPrototypeOf(a);
        if (b) {
          var e = _getPrototypeOf(this).constructor;
          c = Reflect.construct(d, arguments, e);
        } else
          c = d.apply(this, arguments);
        return _possibleConstructorReturn(this, c);
      };
    }
    function _possibleConstructorReturn(a, b) {
      if (b && ("object" === _typeof(b) || "function" == typeof b))
        return b;
      if (void 0 !== b)
        throw new TypeError("Derived constructors may only return object or undefined");
      return _assertThisInitialized(a);
    }
    function _assertThisInitialized(a) {
      if (void 0 === a)
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      return a;
    }
    function _isNativeReflectConstruct() {
      if ("undefined" == typeof Reflect || !Reflect.construct)
        return false;
      if (Reflect.construct.sham)
        return false;
      if ("function" == typeof Proxy)
        return true;
      try {
        return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
        })), true;
      } catch (a) {
        return false;
      }
    }
    function _getPrototypeOf(a) {
      return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(a2) {
        return a2.__proto__ || Object.getPrototypeOf(a2);
      }, _getPrototypeOf(a);
    }
    var KameleoonClient = function(a) {
      function b(a2, d) {
        _classCallCheck(this, b);
        var e = new _storage.StorageConstructor(), f = new _eventSource.EventSourceConstructor(), g = new _requester.RequestDispatcher();
        return c.call(this, { siteCode: a2, configuration: d, internalConfiguration: { externalStorage: e, externalEventSource: f, externalRequestDispatcher: g, externalPackageInfo: { type: _javascriptSdkCore.SdkLanguageType.JAVASCRIPT, version: "1.7.3" } } });
      }
      _inherits(b, a);
      var c = _createSuper(b);
      return _createClass(b, [{ key: "initialize", value: function() {
        function a2() {
          return c2.apply(this, arguments);
        }
        var c2 = _asyncToGenerator(_regeneratorRuntime().mark(function c3(a3) {
          return _regeneratorRuntime().wrap(function d(c4) {
            for (; 1; )
              switch (c4.prev = c4.next) {
                case 0:
                  return c4.abrupt("return", _get(_getPrototypeOf(b.prototype), "initialize", this).call(this, a3));
                case 1:
                case "end":
                  return c4.stop();
              }
          }, c3, this);
        }));
        return a2;
      }() }]), b;
    }(_javascriptSdkCore.KameleoonCore);
    exports.KameleoonClient = KameleoonClient;
  }
});

// node_modules/@kameleoon/javascript-sdk/dist/index.js
var require_dist2 = __commonJS({
  "node_modules/@kameleoon/javascript-sdk/dist/index.js"(exports) {
    var _exportNames = { KameleoonUtils: true, KameleoonClient: true };
    var _javascriptSdkCore = require_dist();
    Object.defineProperty(exports, "__esModule", { value: true });
    Object.defineProperty(exports, "KameleoonClient", { enumerable: true, get: function get() {
      return _kameleoonClient.KameleoonClient;
    } }), Object.defineProperty(exports, "KameleoonUtils", { enumerable: true, get: function get() {
      return _kameleoonUtils.KameleoonUtils;
    } });
    Object.keys(_javascriptSdkCore).forEach(function(a) {
      "default" === a || "__esModule" === a || Object.prototype.hasOwnProperty.call(_exportNames, a) || a in exports && exports[a] === _javascriptSdkCore[a] || Object.defineProperty(exports, a, { enumerable: true, get: function get() {
        return _javascriptSdkCore[a];
      } });
    });
    var _kameleoonUtils = require_kameleoonUtils2();
    var _kameleoonClient = require_kameleoonClient2();
  }
});
export default require_dist2();
/*! Bundled license information:

@kameleoon/javascript-sdk-core/dist/utilities/utilities.js:
  (*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE *)

@kameleoon/javascript-sdk-core/dist/requester/requester.js:
  (*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE *)

@kameleoon/javascript-sdk-core/dist/campaignConfiguration/campaignConfiguration.js:
  (*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE *)

@kameleoon/javascript-sdk-core/dist/kameleoonClient.js:
  (*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE *)

@kameleoon/javascript-sdk/dist/requester.js:
  (*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE *)

@kameleoon/javascript-sdk/dist/kameleoonClient.js:
  (*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE *)
*/
//# sourceMappingURL=@kameleoon_javascript-sdk.js.map
